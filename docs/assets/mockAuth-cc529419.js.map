{"version":3,"file":"mockAuth-cc529419.js","sources":["../../src/services/mockAuth.js"],"sourcesContent":["// Mock Authentication Service\n// This provides simulated auth endpoints for demo/testing purposes\n\nconst STORAGE_KEY = 'mockAuthToken';\nconst USER_STORAGE_KEY = 'mockUser';\n\n// Simulate API delay\nconst delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));\n\n// Mock user database\nconst mockUsers = {\n  'tenant@example.com': {\n    id: '1',\n    email: 'tenant@example.com',\n    password: 'password123',\n    firstName: 'John',\n    lastName: 'Tenant',\n    type: 'tenant',\n    phoneNumber: '+1234567890',\n    profileComplete: true\n  },\n  'manager@example.com': {\n    id: '2',\n    email: 'manager@example.com',\n    password: 'password123',\n    firstName: 'Jane',\n    lastName: 'Manager',\n    type: 'property_manager',\n    phoneNumber: '+0987654321',\n    profileComplete: true\n  },\n  'investor@example.com': {\n    id: '3',\n    email: 'investor@example.com',\n    password: 'password123',\n    firstName: 'Bob',\n    lastName: 'Investor',\n    type: 'investor',\n    phoneNumber: '+1122334455',\n    profileComplete: true\n  }\n};\n\nexport const mockAuthService = {\n  // Register user\n  register: async (userData) => {\n    await delay(500);\n    \n    const { email, password, firstName, lastName, userType, phoneNumber } = userData;\n    \n    // Check if user already exists\n    if (mockUsers[email]) {\n      throw new Error('User with this email already exists');\n    }\n    \n    // Validate password\n    if (!password || password.length < 6) {\n      throw new Error('Password must be at least 6 characters');\n    }\n    \n    // Create new user\n    const newUser = {\n      id: String(Object.keys(mockUsers).length + 1),\n      email,\n      password,\n      firstName,\n      lastName,\n      type: userType || 'tenant',\n      phoneNumber,\n      profileComplete: true\n    };\n    \n    mockUsers[email] = newUser;\n    \n    return {\n      success: true,\n      message: 'Registration successful',\n      user: {\n        id: newUser.id,\n        email: newUser.email,\n        firstName: newUser.firstName,\n        lastName: newUser.lastName,\n        type: newUser.type,\n        role: newUser.type  // Add role field for compatibility with getRoleDashboardPath\n      }\n    };\n  },\n\n  // Login user\n  login: async (email, password) => {\n    await delay(500);\n    \n    const user = mockUsers[email];\n    \n    if (!user) {\n      throw new Error('User not found');\n    }\n    \n    if (user.password !== password) {\n      throw new Error('Invalid password');\n    }\n    \n    // Generate mock token\n    const token = `mock_token_${user.id}_${Date.now()}`;\n    \n    // Store token\n    localStorage.setItem(STORAGE_KEY, token);\n    localStorage.setItem(USER_STORAGE_KEY, JSON.stringify({\n      id: user.id,\n      email: user.email,\n      firstName: user.firstName,\n      lastName: user.lastName,\n      type: user.type\n    }));\n    \n    return {\n      success: true,\n      token,\n      user: {\n        id: user.id,\n        email: user.email,\n        firstName: user.firstName,\n        lastName: user.lastName,\n        type: user.type,\n        role: user.type  // Add role field for compatibility with getRoleDashboardPath\n      }\n    };\n  },\n\n  // Logout user\n  logout: async () => {\n    await delay(200);\n    localStorage.removeItem(STORAGE_KEY);\n    localStorage.removeItem(USER_STORAGE_KEY);\n    return { success: true };\n  },\n\n  // Get current user\n  getCurrentUser: async () => {\n    await delay(200);\n    const token = localStorage.getItem(STORAGE_KEY);\n    const user = localStorage.getItem(USER_STORAGE_KEY);\n    \n    if (!token || !user) {\n      throw new Error('Not authenticated');\n    }\n    \n    return {\n      success: true,\n      user: JSON.parse(user)\n    };\n  },\n\n  // Verify token\n  verifyToken: async (token) => {\n    await delay(200);\n    if (!token || !token.startsWith('mock_token_')) {\n      throw new Error('Invalid token');\n    }\n    \n    return {\n      success: true,\n      valid: true\n    };\n  }\n};\n\n// Demo credentials for reference\nexport const DEMO_CREDENTIALS = {\n  tenant: {\n    email: 'tenant@example.com',\n    password: 'password123',\n    role: 'Tenant'\n  },\n  manager: {\n    email: 'manager@example.com',\n    password: 'password123',\n    role: 'Property Manager'\n  },\n  investor: {\n    email: 'investor@example.com',\n    password: 'password123',\n    role: 'Investor'\n  }\n};\n"],"names":["STORAGE_KEY","USER_STORAGE_KEY","delay","ms","resolve","mockUsers","mockAuthService","userData","email","password","firstName","lastName","userType","phoneNumber","newUser","user","token"],"mappings":"AAGA,MAAMA,EAAc,gBACdC,EAAmB,WAGnBC,EAASC,GAAO,IAAI,QAAQC,GAAW,WAAWA,EAASD,CAAE,CAAC,EAG9DE,EAAY,CAChB,qBAAsB,CACpB,GAAI,IACJ,MAAO,qBACP,SAAU,cACV,UAAW,OACX,SAAU,SACV,KAAM,SACN,YAAa,cACb,gBAAiB,EAClB,EACD,sBAAuB,CACrB,GAAI,IACJ,MAAO,sBACP,SAAU,cACV,UAAW,OACX,SAAU,UACV,KAAM,mBACN,YAAa,cACb,gBAAiB,EAClB,EACD,uBAAwB,CACtB,GAAI,IACJ,MAAO,uBACP,SAAU,cACV,UAAW,MACX,SAAU,WACV,KAAM,WACN,YAAa,cACb,gBAAiB,EAClB,CACH,EAEaC,EAAkB,CAE7B,SAAU,MAAOC,GAAa,CAC5B,MAAML,EAAM,GAAG,EAEf,KAAM,CAAE,MAAAM,EAAO,SAAAC,EAAU,UAAAC,EAAW,SAAAC,EAAU,SAAAC,EAAU,YAAAC,CAAa,EAAGN,EAGxE,GAAIF,EAAUG,CAAK,EACjB,MAAM,IAAI,MAAM,qCAAqC,EAIvD,GAAI,CAACC,GAAYA,EAAS,OAAS,EACjC,MAAM,IAAI,MAAM,wCAAwC,EAI1D,MAAMK,EAAU,CACd,GAAI,OAAO,OAAO,KAAKT,CAAS,EAAE,OAAS,CAAC,EAC5C,MAAAG,EACA,SAAAC,EACA,UAAAC,EACA,SAAAC,EACA,KAAMC,GAAY,SAClB,YAAAC,EACA,gBAAiB,EACvB,EAEI,OAAAR,EAAUG,CAAK,EAAIM,EAEZ,CACL,QAAS,GACT,QAAS,0BACT,KAAM,CACJ,GAAIA,EAAQ,GACZ,MAAOA,EAAQ,MACf,UAAWA,EAAQ,UACnB,SAAUA,EAAQ,SAClB,KAAMA,EAAQ,KACd,KAAMA,EAAQ,IACf,CACP,CACG,EAGD,MAAO,MAAON,EAAOC,IAAa,CAChC,MAAMP,EAAM,GAAG,EAEf,MAAMa,EAAOV,EAAUG,CAAK,EAE5B,GAAI,CAACO,EACH,MAAM,IAAI,MAAM,gBAAgB,EAGlC,GAAIA,EAAK,WAAaN,EACpB,MAAM,IAAI,MAAM,kBAAkB,EAIpC,MAAMO,EAAQ,cAAcD,EAAK,EAAE,IAAI,KAAK,IAAK,CAAA,GAGjD,oBAAa,QAAQf,EAAagB,CAAK,EACvC,aAAa,QAAQf,EAAkB,KAAK,UAAU,CACpD,GAAIc,EAAK,GACT,MAAOA,EAAK,MACZ,UAAWA,EAAK,UAChB,SAAUA,EAAK,SACf,KAAMA,EAAK,IACZ,CAAA,CAAC,EAEK,CACL,QAAS,GACT,MAAAC,EACA,KAAM,CACJ,GAAID,EAAK,GACT,MAAOA,EAAK,MACZ,UAAWA,EAAK,UAChB,SAAUA,EAAK,SACf,KAAMA,EAAK,KACX,KAAMA,EAAK,IACZ,CACP,CACG,EAGD,OAAQ,UACN,MAAMb,EAAM,GAAG,EACf,aAAa,WAAWF,CAAW,EACnC,aAAa,WAAWC,CAAgB,EACjC,CAAE,QAAS,KAIpB,eAAgB,SAAY,CAC1B,MAAMC,EAAM,GAAG,EACf,MAAMc,EAAQ,aAAa,QAAQhB,CAAW,EACxCe,EAAO,aAAa,QAAQd,CAAgB,EAElD,GAAI,CAACe,GAAS,CAACD,EACb,MAAM,IAAI,MAAM,mBAAmB,EAGrC,MAAO,CACL,QAAS,GACT,KAAM,KAAK,MAAMA,CAAI,CAC3B,CACG,EAGD,YAAa,MAAOC,GAAU,CAE5B,GADA,MAAMd,EAAM,GAAG,EACX,CAACc,GAAS,CAACA,EAAM,WAAW,aAAa,EAC3C,MAAM,IAAI,MAAM,eAAe,EAGjC,MAAO,CACL,QAAS,GACT,MAAO,EACb,CACG,CACH"}