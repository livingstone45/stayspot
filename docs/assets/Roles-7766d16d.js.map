{"version":3,"file":"Roles-7766d16d.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/lock-open.js","../../src/pages/system-admin/Roles.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"11\", x: \"3\", y: \"11\", rx: \"2\", ry: \"2\", key: \"1w4ew1\" }],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 9.9-1\", key: \"1mm8w8\" }]\n];\nconst LockOpen = createLucideIcon(\"lock-open\", __iconNode);\n\nexport { __iconNode, LockOpen as default };\n//# sourceMappingURL=lock-open.js.map\n","import React, { useState, useEffect } from 'react';\nimport { \n  Shield, \n  Users, \n  Plus, \n  Edit2, \n  Trash2, \n  Eye,\n  Search,\n  Filter,\n  CheckCircle,\n  XCircle,\n  Lock,\n  Unlock,\n  Copy,\n  Download,\n  Upload\n} from 'lucide-react';\nimport { useAuth } from '../../hooks/useAuth';\n\nconst SystemAdminRoles = () => {\n  const { user } = useAuth();\n  const [roles, setRoles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showRoleModal, setShowRoleModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [editingRole, setEditingRole] = useState(null);\n  const [roleToDelete, setRoleToDelete] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedPermissions, setSelectedPermissions] = useState({});\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    type: 'custom',\n    permissions: {}\n  });\n\n  const permissionCategories = [\n    {\n      name: 'System',\n      permissions: [\n        { id: 'system.view', name: 'View System Dashboard', description: 'Access to system overview and metrics' },\n        { id: 'system.manage', name: 'Manage System Settings', description: 'Configure system-wide settings' },\n        { id: 'system.backup', name: 'Perform Backups', description: 'Create and manage system backups' },\n        { id: 'system.restore', name: 'Restore Backups', description: 'Restore system from backups' },\n      ]\n    },\n    {\n      name: 'User Management',\n      permissions: [\n        { id: 'users.view', name: 'View Users', description: 'View all user accounts' },\n        { id: 'users.create', name: 'Create Users', description: 'Create new user accounts' },\n        { id: 'users.edit', name: 'Edit Users', description: 'Edit user account details' },\n        { id: 'users.delete', name: 'Delete Users', description: 'Delete user accounts' },\n        { id: 'users.suspend', name: 'Suspend Users', description: 'Suspend user accounts' },\n      ]\n    },\n    {\n      name: 'Role Management',\n      permissions: [\n        { id: 'roles.view', name: 'View Roles', description: 'View all roles and permissions' },\n        { id: 'roles.create', name: 'Create Roles', description: 'Create new roles' },\n        { id: 'roles.edit', name: 'Edit Roles', description: 'Edit role permissions' },\n        { id: 'roles.delete', name: 'Delete Roles', description: 'Delete roles' },\n        { id: 'roles.assign', name: 'Assign Roles', description: 'Assign roles to users' },\n      ]\n    },\n    {\n      name: 'Company Management',\n      permissions: [\n        { id: 'companies.view', name: 'View Companies', description: 'View all companies' },\n        { id: 'companies.create', name: 'Create Companies', description: 'Create new companies' },\n        { id: 'companies.edit', name: 'Edit Companies', description: 'Edit company details' },\n        { id: 'companies.delete', name: 'Delete Companies', description: 'Delete companies' },\n        { id: 'companies.billing', name: 'Manage Billing', description: 'Manage company billing and subscriptions' },\n      ]\n    },\n    {\n      name: 'Property Management',\n      permissions: [\n        { id: 'properties.view_all', name: 'View All Properties', description: 'View all properties across companies' },\n        { id: 'properties.create', name: 'Create Properties', description: 'Create new properties' },\n        { id: 'properties.edit_all', name: 'Edit All Properties', description: 'Edit any property' },\n        { id: 'properties.delete', name: 'Delete Properties', description: 'Delete properties' },\n        { id: 'properties.import', name: 'Import Properties', description: 'Import properties in bulk' },\n        { id: 'properties.export', name: 'Export Properties', description: 'Export property data' },\n      ]\n    },\n    {\n      name: 'Financial',\n      permissions: [\n        { id: 'financial.view_all', name: 'View All Financials', description: 'View all financial data' },\n        { id: 'financial.process', name: 'Process Payments', description: 'Process rent payments' },\n        { id: 'financial.refund', name: 'Issue Refunds', description: 'Issue payment refunds' },\n        { id: 'financial.reports', name: 'Generate Reports', description: 'Generate financial reports' },\n        { id: 'financial.export', name: 'Export Financial Data', description: 'Export financial records' },\n      ]\n    },\n    {\n      name: 'Audit & Security',\n      permissions: [\n        { id: 'audit.view', name: 'View Audit Logs', description: 'View system audit logs' },\n        { id: 'audit.export', name: 'Export Audit Logs', description: 'Export audit log data' },\n        { id: 'security.settings', name: 'Security Settings', description: 'Configure security settings' },\n        { id: 'security.monitor', name: 'Monitor Security', description: 'Monitor security events' },\n        { id: 'security.alerts', name: 'Manage Security Alerts', description: 'Configure security alerts' },\n      ]\n    },\n    {\n      name: 'Integration',\n      permissions: [\n        { id: 'integrations.view', name: 'View Integrations', description: 'View all integrations' },\n        { id: 'integrations.manage', name: 'Manage Integrations', description: 'Configure integrations' },\n        { id: 'integrations.api', name: 'API Management', description: 'Manage API keys and access' },\n        { id: 'integrations.webhooks', name: 'Webhook Management', description: 'Configure webhooks' },\n      ]\n    },\n  ];\n\n  const predefinedRoles = [\n    {\n      id: 'system_admin',\n      name: 'System Administrator',\n      description: 'Full system access with all permissions',\n      userCount: 5,\n      type: 'system',\n      locked: true,\n      color: 'bg-red-100 text-red-800'\n    },\n    {\n      id: 'company_admin',\n      name: 'Company Administrator',\n      description: 'Full access within assigned company',\n      userCount: 124,\n      type: 'company',\n      locked: true,\n      color: 'bg-blue-100 text-blue-800'\n    },\n    {\n      id: 'property_manager',\n      name: 'Property Manager',\n      description: 'Manage properties and tenants',\n      userCount: 892,\n      type: 'company',\n      locked: true,\n      color: 'bg-green-100 text-green-800'\n    },\n    {\n      id: 'landlord',\n      name: 'Landlord',\n      description: 'Manage own properties',\n      userCount: 2145,\n      type: 'user',\n      locked: true,\n      color: 'bg-purple-100 text-purple-800'\n    },\n    {\n      id: 'tenant',\n      name: 'Tenant',\n      description: 'Access tenant portal features',\n      userCount: 45892,\n      type: 'user',\n      locked: true,\n      color: 'bg-yellow-100 text-yellow-800'\n    },\n  ];\n\n  useEffect(() => {\n    loadRoles();\n  }, []);\n\n  useEffect(() => {\n    if (editingRole) {\n      setFormData({\n        name: editingRole.name,\n        description: editingRole.description,\n        type: editingRole.type || 'custom',\n        permissions: editingRole.permissions || {}\n      });\n      setSelectedPermissions(editingRole.permissions || {});\n    } else {\n      resetForm();\n    }\n  }, [editingRole]);\n\n  const loadRoles = async () => {\n    setLoading(true);\n    try {\n      const data = await getRoles();\n      setRoles(data);\n    } catch (error) {\n      console.error('Failed to load roles:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      description: '',\n      type: 'custom',\n      permissions: {}\n    });\n    setSelectedPermissions({});\n  };\n\n  const handlePermissionToggle = (permissionId) => {\n    setSelectedPermissions(prev => ({\n      ...prev,\n      [permissionId]: !prev[permissionId]\n    }));\n  };\n\n  const handleSelectAllCategory = (category) => {\n    const categoryPermissions = category.permissions.map(p => p.id);\n    const allSelected = categoryPermissions.every(p => selectedPermissions[p]);\n    \n    const newPermissions = { ...selectedPermissions };\n    categoryPermissions.forEach(permissionId => {\n      newPermissions[permissionId] = !allSelected;\n    });\n    \n    setSelectedPermissions(newPermissions);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    const roleData = {\n      ...formData,\n      permissions: selectedPermissions\n    };\n\n    try {\n      if (editingRole) {\n        await updateRole(editingRole.id, roleData);\n      } else {\n        await createRole(roleData);\n      }\n      \n      loadRoles();\n      setShowRoleModal(false);\n      setEditingRole(null);\n      resetForm();\n    } catch (error) {\n      console.error('Failed to save role:', error);\n    }\n  };\n\n  const handleDeleteRole = async () => {\n    if (!roleToDelete) return;\n    \n    try {\n      await deleteRole(roleToDelete.id);\n      loadRoles();\n      setShowDeleteModal(false);\n      setRoleToDelete(null);\n    } catch (error) {\n      console.error('Failed to delete role:', error);\n    }\n  };\n\n  const handleDuplicateRole = (role) => {\n    setEditingRole(null);\n    setFormData({\n      name: `${role.name} (Copy)`,\n      description: role.description,\n      type: role.type,\n      permissions: role.permissions\n    });\n    setSelectedPermissions(role.permissions || {});\n    setShowRoleModal(true);\n  };\n\n  const filteredRoles = roles.filter(role =>\n    role.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    role.description.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const customRoles = filteredRoles.filter(role => role.type === 'custom');\n  const systemRoles = filteredRoles.filter(role => role.type !== 'custom');\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 p-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"animate-pulse\">\n            <div className=\"h-8 bg-gray-200 rounded w-1/4 mb-8\"></div>\n            <div className=\"grid grid-cols-1 gap-4\">\n              {[1, 2, 3, 4, 5].map(i => (\n                <div key={i} className=\"h-20 bg-gray-200 rounded-lg\"></div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-4 md:p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex flex-col md:flex-row md:items-center justify-between\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Role Management</h1>\n              <p className=\"mt-2 text-gray-600\">\n                Define and manage user roles and permissions across the platform\n              </p>\n            </div>\n            <div className=\"mt-4 md:mt-0\">\n              <button\n                onClick={() => {\n                  setEditingRole(null);\n                  resetForm();\n                  setShowRoleModal(true);\n                }}\n                className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n              >\n                <Plus className=\"w-4 h-4 mr-2\" />\n                Create New Role\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Overview */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          {[\n            { label: 'Total Roles', value: roles.length, icon: Shield, color: 'blue' },\n            { label: 'Custom Roles', value: customRoles.length, icon: Edit2, color: 'green' },\n            { label: 'Users with Roles', value: roles.reduce((sum, role) => sum + (role.userCount || 0), 0), icon: Users, color: 'purple' },\n          ].map((stat, index) => (\n            <div key={index} className=\"bg-white rounded-xl p-6 border border-gray-200\">\n              <div className=\"flex items-center\">\n                <div className={`p-3 rounded-lg bg-${stat.color}-100 mr-4`}>\n                  <stat.icon className={`w-6 h-6 text-${stat.color}-600`} />\n                </div>\n                <div>\n                  <p className=\"text-2xl font-bold text-gray-900\">{stat.value}</p>\n                  <p className=\"text-sm text-gray-600\">{stat.label}</p>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Search and Filter */}\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8\">\n          <div className=\"flex flex-col md:flex-row md:items-center justify-between\">\n            <div className=\"flex-1 max-w-md mb-4 md:mb-0\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search roles by name or description...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-3\">\n              <button className=\"flex items-center px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\">\n                <Filter className=\"w-4 h-4 mr-2\" />\n                Filter\n              </button>\n              <button className=\"flex items-center px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\">\n                <Download className=\"w-4 h-4 mr-2\" />\n                Export\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* System Roles */}\n        <div className=\"mb-8\">\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">System Roles</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {systemRoles.map((role) => (\n              <div key={role.id} className=\"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow\">\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex items-center\">\n                    <div className={`p-2 rounded-lg ${role.color} mr-3`}>\n                      <Shield className=\"w-5 h-5\" />\n                    </div>\n                    <div>\n                      <h3 className=\"font-semibold text-gray-900\">{role.name}</h3>\n                      <div className=\"flex items-center mt-1\">\n                        {role.locked ? (\n                          <Lock className=\"w-3 h-3 text-gray-400 mr-1\" />\n                        ) : (\n                          <Unlock className=\"w-3 h-3 text-gray-400 mr-1\" />\n                        )}\n                        <span className=\"text-xs text-gray-500\">\n                          {role.locked ? 'System Role' : 'Custom Role'}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center space-x-1\">\n                    <button\n                      onClick={() => setEditingRole(role)}\n                      className=\"p-1 text-gray-400 hover:text-blue-600\"\n                      title=\"View Details\"\n                    >\n                      <Eye className=\"w-4 h-4\" />\n                    </button>\n                    {!role.locked && (\n                      <>\n                        <button\n                          onClick={() => setEditingRole(role)}\n                          className=\"p-1 text-gray-400 hover:text-green-600\"\n                          title=\"Edit\"\n                        >\n                          <Edit2 className=\"w-4 h-4\" />\n                        </button>\n                        <button\n                          onClick={() => handleDuplicateRole(role)}\n                          className=\"p-1 text-gray-400 hover:text-purple-600\"\n                          title=\"Duplicate\"\n                        >\n                          <Copy className=\"w-4 h-4\" />\n                        </button>\n                        <button\n                          onClick={() => {\n                            setRoleToDelete(role);\n                            setShowDeleteModal(true);\n                          }}\n                          className=\"p-1 text-gray-400 hover:text-red-600\"\n                          title=\"Delete\"\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </>\n                    )}\n                  </div>\n                </div>\n                <p className=\"text-sm text-gray-600 mb-4\">{role.description}</p>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center\">\n                    <Users className=\"w-4 h-4 text-gray-400 mr-2\" />\n                    <span className=\"text-sm text-gray-700\">{role.userCount || 0} users</span>\n                  </div>\n                  <div className=\"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded-full\">\n                    {Object.keys(role.permissions || {}).length} permissions\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Custom Roles */}\n        <div>\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">Custom Roles</h2>\n            <span className=\"text-sm text-gray-600\">{customRoles.length} roles</span>\n          </div>\n          \n          {customRoles.length > 0 ? (\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Role Name\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Description\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Users\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Permissions\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Actions\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {customRoles.map((role) => (\n                    <tr key={role.id} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <div className={`p-2 rounded-lg ${role.color || 'bg-gray-100'} mr-3`}>\n                            <Shield className=\"w-4 h-4\" />\n                          </div>\n                          <div>\n                            <div className=\"font-medium text-gray-900\">{role.name}</div>\n                            <div className=\"text-xs text-gray-500\">{role.type}</div>\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className=\"text-sm text-gray-900 max-w-xs truncate\">{role.description}</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <Users className=\"w-4 h-4 text-gray-400 mr-2\" />\n                          <span className=\"text-sm text-gray-700\">{role.userCount || 0}</span>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm text-gray-700\">\n                          {Object.keys(role.permissions || {}).filter(k => role.permissions[k]).length} enabled\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                        <div className=\"flex items-center space-x-2\">\n                          <button\n                            onClick={() => setEditingRole(role)}\n                            className=\"text-blue-600 hover:text-blue-900\"\n                            title=\"View\"\n                          >\n                            <Eye className=\"w-4 h-4\" />\n                          </button>\n                          <button\n                            onClick={() => setEditingRole(role)}\n                            className=\"text-green-600 hover:text-green-900\"\n                            title=\"Edit\"\n                          >\n                            <Edit2 className=\"w-4 h-4\" />\n                          </button>\n                          <button\n                            onClick={() => handleDuplicateRole(role)}\n                            className=\"text-purple-600 hover:text-purple-900\"\n                            title=\"Duplicate\"\n                          >\n                            <Copy className=\"w-4 h-4\" />\n                          </button>\n                          <button\n                            onClick={() => {\n                              setRoleToDelete(role);\n                              setShowDeleteModal(true);\n                            }}\n                            className=\"text-red-600 hover:text-red-900\"\n                            title=\"Delete\"\n                          >\n                            <Trash2 className=\"w-4 h-4\" />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <div className=\"bg-white rounded-xl border border-gray-200 p-12 text-center\">\n              <div className=\"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4\">\n                <Shield className=\"w-8 h-8 text-gray-400\" />\n              </div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No custom roles yet</h3>\n              <p className=\"text-gray-600 mb-6\">\n                Create your first custom role to define specific permission sets for your users.\n              </p>\n              <button\n                onClick={() => {\n                  setEditingRole(null);\n                  resetForm();\n                  setShowRoleModal(true);\n                }}\n                className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n              >\n                <Plus className=\"w-4 h-4 mr-2\" />\n                Create Custom Role\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* Role Modal */}\n        {showRoleModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto\">\n            <div className=\"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\n              <div className=\"p-6 border-b border-gray-200\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-xl font-semibold text-gray-900\">\n                    {editingRole ? 'Edit Role' : 'Create New Role'}\n                  </h3>\n                  <button\n                    onClick={() => {\n                      setShowRoleModal(false);\n                      setEditingRole(null);\n                      resetForm();\n                    }}\n                    className=\"text-gray-400 hover:text-gray-600\"\n                  >\n                    <XCircle className=\"w-6 h-6\" />\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"flex-1 overflow-y-auto\">\n                <form onSubmit={handleSubmit} className=\"p-6\">\n                  {/* Basic Information */}\n                  <div className=\"mb-8\">\n                    <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Basic Information</h4>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Role Name *\n                        </label>\n                        <input\n                          type=\"text\"\n                          required\n                          value={formData.name}\n                          onChange={(e) => setFormData({...formData, name: e.target.value})}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                          placeholder=\"e.g., Regional Manager, Finance Admin\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Role Type\n                        </label>\n                        <select\n                          value={formData.type}\n                          onChange={(e) => setFormData({...formData, type: e.target.value})}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        >\n                          <option value=\"custom\">Custom</option>\n                          <option value=\"system\">System</option>\n                          <option value=\"company\">Company</option>\n                          <option value=\"user\">User</option>\n                        </select>\n                      </div>\n                    </div>\n                    <div className=\"mt-6\">\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Description\n                      </label>\n                      <textarea\n                        value={formData.description}\n                        onChange={(e) => setFormData({...formData, description: e.target.value})}\n                        rows=\"3\"\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        placeholder=\"Describe the purpose and scope of this role...\"\n                      />\n                    </div>\n                  </div>\n\n                  {/* Permissions */}\n                  <div className=\"mb-8\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <h4 className=\"text-lg font-medium text-gray-900\">Permissions</h4>\n                      <div className=\"text-sm text-gray-600\">\n                        {Object.values(selectedPermissions).filter(v => v).length} permissions selected\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-6\">\n                      {permissionCategories.map((category) => {\n                        const categoryPermissions = category.permissions.map(p => p.id);\n                        const selectedCount = categoryPermissions.filter(p => selectedPermissions[p]).length;\n                        const allSelected = selectedCount === categoryPermissions.length;\n                        const someSelected = selectedCount > 0 && !allSelected;\n\n                        return (\n                          <div key={category.name} className=\"border border-gray-200 rounded-lg\">\n                            <div className=\"bg-gray-50 px-4 py-3 border-b border-gray-200\">\n                              <div className=\"flex items-center justify-between\">\n                                <div className=\"flex items-center\">\n                                  <input\n                                    type=\"checkbox\"\n                                    checked={allSelected}\n                                    ref={(input) => {\n                                      if (input) {\n                                        input.indeterminate = someSelected;\n                                      }\n                                    }}\n                                    onChange={() => handleSelectAllCategory(category)}\n                                    className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                                  />\n                                  <label className=\"ml-3 font-medium text-gray-900\">\n                                    {category.name}\n                                  </label>\n                                </div>\n                                <div className=\"text-sm text-gray-600\">\n                                  {selectedCount} of {categoryPermissions.length} selected\n                                </div>\n                              </div>\n                            </div>\n                            <div className=\"p-4\">\n                              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                {category.permissions.map((permission) => (\n                                  <div\n                                    key={permission.id}\n                                    className={`p-3 rounded-lg border ${\n                                      selectedPermissions[permission.id]\n                                        ? 'border-blue-200 bg-blue-50'\n                                        : 'border-gray-200 hover:bg-gray-50'\n                                    }`}\n                                  >\n                                    <div className=\"flex items-start\">\n                                      <input\n                                        type=\"checkbox\"\n                                        id={permission.id}\n                                        checked={!!selectedPermissions[permission.id]}\n                                        onChange={() => handlePermissionToggle(permission.id)}\n                                        className=\"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                                      />\n                                      <div className=\"ml-3 flex-1\">\n                                        <label\n                                          htmlFor={permission.id}\n                                          className=\"text-sm font-medium text-gray-900 cursor-pointer\"\n                                        >\n                                          {permission.name}\n                                        </label>\n                                        <p className=\"text-xs text-gray-500 mt-1\">\n                                          {permission.description}\n                                        </p>\n                                      </div>\n                                    </div>\n                                  </div>\n                                ))}\n                              </div>\n                            </div>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </div>\n                </form>\n              </div>\n\n              <div className=\"p-6 border-t border-gray-200 bg-gray-50\">\n                <div className=\"flex justify-end space-x-3\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setShowRoleModal(false);\n                      setEditingRole(null);\n                      resetForm();\n                    }}\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={handleSubmit}\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                  >\n                    {editingRole ? 'Update Role' : 'Create Role'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Delete Confirmation Modal */}\n        {showDeleteModal && roleToDelete && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-xl max-w-md w-full p-6\">\n              <div className=\"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4\">\n                <Trash2 className=\"w-6 h-6 text-red-600\" />\n              </div>\n              <h3 className=\"text-lg font-semibold text-gray-900 text-center mb-2\">\n                Delete Role\n              </h3>\n              <p className=\"text-gray-600 text-center mb-4\">\n                Are you sure you want to delete the role \"{roleToDelete.name}\"?\n              </p>\n              {roleToDelete.userCount > 0 && (\n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4\">\n                  <div className=\"flex\">\n                    <AlertTriangle className=\"w-5 h-5 text-yellow-400 mr-3\" />\n                    <div>\n                      <p className=\"text-sm text-yellow-800 font-medium\">Warning</p>\n                      <p className=\"text-sm text-yellow-700 mt-1\">\n                        This role is assigned to {roleToDelete.userCount} user{roleToDelete.userCount !== 1 ? 's' : ''}. \n                        Deleting it will remove their permissions.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              )}\n              <div className=\"flex justify-center space-x-3\">\n                <button\n                  onClick={() => {\n                    setShowDeleteModal(false);\n                    setRoleToDelete(null);\n                  }}\n                  className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleDeleteRole}\n                  className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\n                >\n                  Delete Role\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SystemAdminRoles;"],"names":["__iconNode","LockOpen","createLucideIcon","SystemAdminRoles","useAuth","roles","setRoles","useState","loading","setLoading","showRoleModal","setShowRoleModal","showDeleteModal","setShowDeleteModal","editingRole","setEditingRole","roleToDelete","setRoleToDelete","searchTerm","setSearchTerm","selectedPermissions","setSelectedPermissions","formData","setFormData","permissionCategories","useEffect","loadRoles","resetForm","data","error","handlePermissionToggle","permissionId","prev","handleSelectAllCategory","category","categoryPermissions","p","allSelected","newPermissions","handleSubmit","e","roleData","handleDeleteRole","handleDuplicateRole","role","filteredRoles","customRoles","systemRoles","jsx","jsxs","i","Plus","Shield","Edit2","sum","Users","stat","index","Search","Filter","Download","Lock","Unlock","Eye","Fragment","Copy","Trash2","k","XCircle","v","selectedCount","someSelected","input","permission"],"mappings":"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","x_google_ignoreList":[0]}