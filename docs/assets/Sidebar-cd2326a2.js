import{j as e}from"./charts-9ec29004.js";import{r}from"./vendor-8b2b8b4f.js";import{u as q}from"./index-5e48a45e.js";import{b as z,u as he}from"./router-5c3dff30.js";import{M as pe,S as A,T as Y,L as V,B as W}from"./triangle-alert-7d51363f.js";import{S as G}from"./search-d5f06d09.js";import{B as $}from"./bell-0988dbea.js";import{C as ge}from"./clock-fe7c832a.js";import{U as xe}from"./user-4764d9e9.js";import{L as ue}from"./log-out-969f8e79.js";import{I as be}from"./info-4f1eee7f.js";import{C as Z}from"./circle-alert-7301942b.js";import{C as fe}from"./circle-check-big-f01bb21d.js";import{C as R}from"./chart-column-7f2a4b93.js";import{H as E}from"./house-f26bbae1.js";import{U as T}from"./users-cfc6270c.js";import{c as ye}from"./createLucideIcon-44004120.js";import{W as M}from"./wrench-406d1e2f.js";import{C as Ne}from"./credit-card-2e83ad54.js";import{S as je,M as ke}from"./sun-81d582da.js";import{M as U}from"./message-square-83a760a0.js";import{S as we}from"./shield-6e8a0feb.js";import{G as ve}from"./globe-f04a383c.js";import{D as _}from"./dollar-sign-bf4af0a8.js";import{C as Ce}from"./chart-pie-a957c5f2.js";import{C as K}from"./calendar-b48c8efe.js";import{F as B}from"./file-text-5d481075.js";import{S as Se}from"./send-4e90f3a3.js";import{T as Pe}from"./trending-up-71d6a21a.js";import{P as Te}from"./plug-1e48e907.js";import{C as Ae}from"./chevron-down-a2876420.js";import{C as Me}from"./chevron-right-432ea5f4.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],X=ye("clipboard-check",Re),Le=()=>{const{apiCall:m,user:a,isAuthenticated:l}=q(),[o,p]=r.useState([]),[j,x]=r.useState(0),[f,k]=r.useState({}),[C,h]=r.useState(!1),[L,c]=r.useState(null),[y,w]=r.useState(!0),[n,N]=r.useState({type:"all",status:"all",priority:"all",search:""}),g=r.useRef(null),b=r.useRef(null),d=r.useRef(0),v=5,I=r.useCallback(async(t={})=>{if(l){h(!0),c(null);try{const s=new URLSearchParams({...n,...t}).toString(),i=await m(`/notifications?${s}`);return p(i.notifications||[]),x(i.unreadCount||0),i}catch(s){throw c(s.message),s}finally{h(!1)}}},[m,l,n]),ee=r.useCallback(async t=>{if(l)try{await m(`/notifications/${t}/read`,{method:"PUT"}),p(s=>s.map(i=>i.id===t?{...i,read:!0,readAt:new Date().toISOString()}:i)),x(s=>Math.max(0,s-1))}catch(s){throw c(s.message),s}},[m,l]),ae=r.useCallback(async()=>{if(l){h(!0),c(null);try{await m("/notifications/read-all",{method:"PUT"}),p(t=>t.map(s=>({...s,read:!0,readAt:new Date().toISOString()}))),x(0)}catch(t){throw c(t.message),t}finally{h(!1)}}},[m,l]),te=r.useCallback(async t=>{if(l)try{await m(`/notifications/${t}`,{method:"DELETE"});const s=o.find(i=>i.id===t);s&&!s.read&&x(i=>Math.max(0,i-1)),p(i=>i.filter(u=>u.id!==t))}catch(s){throw c(s.message),s}},[m,l,o]),se=r.useCallback(async()=>{if(l){h(!0),c(null);try{await m("/notifications/delete-read",{method:"DELETE"}),p(t=>t.filter(s=>!s.read))}catch(t){throw c(t.message),t}finally{h(!1)}}},[m,l]),O=r.useCallback(async t=>{if(l){h(!0),c(null);try{const s=await m("/notifications",{method:"POST",body:JSON.stringify({...t,userId:a.id})});return p(i=>[s.notification,...i]),s.notification.read||x(i=>i+1),s.notification}catch(s){throw c(s.message),s}finally{h(!1)}}},[m,l,a]),ne=r.useCallback(async(t,s)=>{if(l){h(!0),c(null);try{return(await m("/notifications/bulk",{method:"POST",body:JSON.stringify({...t,userIds:s,senderId:a.id})})).notifications}catch(i){throw c(i.message),i}finally{h(!1)}}},[m,l,a]),H=r.useCallback(async()=>{if(l){h(!0),c(null);try{const t=await m("/notifications/preferences");return k(t.preferences||{}),t.preferences}catch(t){throw c(t.message),t}finally{h(!1)}}},[m,l]),re=r.useCallback(async t=>{if(l){h(!0),c(null);try{const s=await m("/notifications/preferences",{method:"PUT",body:JSON.stringify(t)});return k(s.preferences),s.preferences}catch(s){throw c(s.message),s}finally{h(!1)}}},[m,l]),D=r.useCallback(()=>{if(!l||!y||g.current)return;const t=localStorage.getItem("token");if(t)try{const s=new EventSource(`${{}.REACT_APP_API_URL||"http://localhost:5000/api"}/notifications/stream?token=${t}`);s.onopen=()=>{console.log("Notification stream connected"),d.current=0,c(null)},s.onmessage=i=>{try{const u=JSON.parse(i.data);p(P=>[u,...P]),x(P=>P+1),Notification.permission==="granted"&&f.browserNotifications&&new Notification(u.title,{body:u.message,icon:"/favicon.ico",tag:u.id}),f.soundNotifications&&new Audio("/notification-sound.mp3").play().catch(()=>{})}catch(u){console.error("Error parsing notification:",u)}},s.onerror=i=>{if(console.error("Notification stream error:",i),s.close(),g.current=null,d.current<v){const u=Math.pow(2,d.current)*1e3;b.current=setTimeout(()=>{d.current++,D()},u)}else c("Failed to maintain real-time connection")},g.current=s}catch(s){console.error("Failed to establish notification stream:",s),c("Failed to connect to real-time notifications")}},[l,y,f]),S=r.useCallback(()=>{g.current&&(g.current.close(),g.current=null),b.current&&(clearTimeout(b.current),b.current=null),d.current=0},[]),le=r.useCallback(async()=>{if(!("Notification"in window))return c("Browser notifications not supported"),!1;if(Notification.permission==="granted")return!0;if(Notification.permission==="denied")return c("Browser notifications are blocked"),!1;try{return await Notification.requestPermission()==="granted"}catch{return c("Failed to request notification permission"),!1}},[]),ie=r.useCallback(async()=>{if(l)try{await O({title:"Test Notification",message:"This is a test notification to verify your settings.",type:"info",priority:"low"})}catch{c("Failed to send test notification")}},[O,l]),oe=r.useCallback(t=>o.filter(s=>s.type===t),[o]),ce=r.useCallback(()=>o.filter(t=>!t.read),[o]),F=r.useCallback((t=24)=>{const s=new Date(Date.now()-t*60*60*1e3);return o.filter(i=>new Date(i.createdAt)>s)},[o]),de=r.useMemo(()=>o.filter(t=>{var J,Q;const s=n.type==="all"||t.type===n.type,i=n.status==="all"||n.status==="read"&&t.read||n.status==="unread"&&!t.read,u=n.priority==="all"||t.priority===n.priority,P=!n.search||((J=t.title)==null?void 0:J.toLowerCase().includes(n.search.toLowerCase()))||((Q=t.message)==null?void 0:Q.toLowerCase().includes(n.search.toLowerCase()));return s&&i&&u&&P}),[o,n]),me=r.useMemo(()=>({total:o.length,unread:j,read:o.length-j,byType:o.reduce((t,s)=>(t[s.type]=(t[s.type]||0)+1,t),{}),byPriority:o.reduce((t,s)=>(t[s.priority]=(t[s.priority]||0)+1,t),{}),recent:F().length}),[o,j,F]);return r.useEffect(()=>{l&&(I(),H())},[l]),r.useEffect(()=>(l&&y?D():S(),S),[l,y,D,S]),r.useEffect(()=>()=>{S()},[S]),{notifications:de,allNotifications:o,unreadCount:j,preferences:f,loading:C,error:L,filters:n,notificationStats:me,realTimeEnabled:y,fetchNotifications:I,markAsRead:ee,markAllAsRead:ae,deleteNotification:te,deleteAllRead:se,createNotification:O,sendBulkNotification:ne,fetchPreferences:H,updatePreferences:re,subscribeToRealTime:D,unsubscribeFromRealTime:S,requestBrowserPermission:le,testNotification:ie,getNotificationsByType:oe,getUnreadNotifications:ce,getRecentNotifications:F,setFilters:N,setError:c,setRealTimeEnabled:w}},ha=({onMenuToggle:m})=>{const{user:a,logout:l}=q(),{allNotifications:o,unreadCount:p,markAsRead:j}=Le(),x=z(),[f,k]=r.useState(!1),[C,h]=r.useState(!1),[L,c]=r.useState(""),y=async()=>{await l(),h(!1)},w=d=>d.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2),n={system_admin:"System Admin",company_admin:"Company Admin",property_manager:"Property Manager",landlord:"Landlord",tenant:"Tenant"},N=d=>{switch(d){case"success":return e.jsx(fe,{className:"h-4 w-4"});case"warning":return e.jsx(Y,{className:"h-4 w-4"});case"error":return e.jsx(Z,{className:"h-4 w-4"});default:return e.jsx(be,{className:"h-4 w-4"})}},g=d=>{switch(d){case"success":return"bg-green-100 text-green-600";case"warning":return"bg-yellow-100 text-yellow-600";case"error":return"bg-red-100 text-red-600";default:return"bg-blue-100 text-blue-600"}},b=o.slice(0,5);return e.jsx("header",{className:"sticky top-0 z-40 w-full border-b border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex h-16 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:m,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 lg:hidden",children:e.jsx(pe,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:"SS"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white hidden sm:inline",children:"StaySpot"})]})]}),e.jsxs("div",{className:"flex-1 max-w-2xl mx-4 flex items-center gap-6",children:[e.jsx("nav",{className:"hidden lg:flex items-center gap-6",children:e.jsx("a",{href:"/relocation",className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition",children:"Relocation"})}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"search",placeholder:"Search properties, tenants, or tasks...",className:"w-full px-4 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-900 focus:outline-none",value:L,onChange:d=>c(d.target.value)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 md:hidden",children:e.jsx(G,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>k(!f),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 relative transition-colors",title:"Notifications",children:[e.jsx($,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),p>0&&e.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold animate-pulse",children:p>9?"9+":p})]}),f&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>k(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-20 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-gray-800 dark:to-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),"Notifications"]}),p>0&&e.jsxs("span",{className:"text-xs bg-red-500 text-white px-2 py-1 rounded-full font-bold",children:[p," new"]})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:b.length>0?b.map(d=>e.jsx("div",{className:`p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors ${d.read?"":"bg-blue-50 dark:bg-blue-900/20"}`,onClick:()=>{j(d.id)},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-full flex-shrink-0 ${g(d.type)}`,children:N(d.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:d.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:d.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(ge,{className:"h-3 w-3 text-gray-400"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:d.time||"Just now"}),!d.read&&e.jsx("span",{className:"ml-auto h-2 w-2 bg-blue-600 rounded-full"})]})]})]})},d.id)):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx($,{className:"h-12 w-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No notifications yet"})]})}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:e.jsx("button",{onClick:()=>{x("/management/communications/notifications"),k(!1)},className:"w-full text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium transition-colors",children:"View all notifications â†’"})})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>h(!C),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition",children:[e.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 font-medium",children:a!=null&&a.name?w(a.name):"U"}),e.jsxs("div",{className:"hidden md:block text-left",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(a==null?void 0:a.name)||"User"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:n[a==null?void 0:a.role]||"User"})]})]}),C&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>h(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 z-20 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-gray-800 dark:to-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-full bg-blue-600 text-white font-bold text-lg",children:a!=null&&a.name?w(a.name):"U"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:(a==null?void 0:a.name)||"User"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(a==null?void 0:a.email)||"user@example.com"}),e.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs font-medium bg-blue-600 text-white rounded-full",children:n[a==null?void 0:a.role]||"User"})]})]})}),e.jsxs("div",{className:"p-2 space-y-1",children:[e.jsxs("a",{href:`/${a==null?void 0:a.role}/profile`,className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-blue-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition",onClick:()=>h(!1),children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"My Profile"})]}),e.jsxs("a",{href:`/${a==null?void 0:a.role}/settings`,className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-blue-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition",onClick:()=>h(!1),children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Account Settings"})]})]}),e.jsx("div",{className:"p-2 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("button",{onClick:y,className:"flex items-center gap-3 w-full px-4 py-2 rounded-lg hover:bg-red-50 dark:hover:bg-gray-700 text-red-600 dark:text-red-400 transition font-medium",children:[e.jsx(ue,{className:"h-4 w-4"}),"Logout"]})})]})]})]})]})]})})})},Ie=()=>{const m=z();return e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-800 px-3",children:e.jsxs("button",{onClick:()=>m("/landlord/market-insights"),className:"w-full flex items-center gap-3 px-3 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 text-blue-600 dark:text-blue-300 rounded-lg hover:from-blue-100 hover:to-indigo-100 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 transition-colors border border-blue-200 dark:border-blue-800",children:[e.jsx(R,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"ðŸ“Š Market Insights"})]})})},pa=({isOpen:m})=>{var w;const{user:a}=q(),l=he(),o=z(),[p,j]=r.useState({}),[x,f]=r.useState(document.documentElement.classList.contains("dark")),k=n=>{j(N=>({...N,[n]:!N[n]}))},C=()=>{x?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")),f(!x)},h=n=>l.pathname.startsWith(n),c=(()=>{const n=[{id:"dashboard",label:"Dashboard",icon:e.jsx(V,{className:"h-5 w-5"}),path:(a==null?void 0:a.role)==="landlord"?"/landlord":(a==null?void 0:a.role)==="property_manager"?"/management":(a==null?void 0:a.role)==="company_admin"?"/company":(a==null?void 0:a.role)==="system_admin"?"/admin":"/tenant"}];return(a==null?void 0:a.role)==="system_admin"?[...n,{id:"users",label:"Users",icon:e.jsx(T,{className:"h-5 w-5"}),path:"/admin/users"},{id:"roles",label:"Roles & Permissions",icon:e.jsx(we,{className:"h-5 w-5"}),path:"/admin/roles"},{id:"system",label:"System Settings",icon:e.jsx(A,{className:"h-5 w-5"}),path:"/admin/system"},{id:"analytics",label:"Analytics",icon:e.jsx(R,{className:"h-5 w-5"}),path:"/admin/analytics"},{id:"integrations",label:"Integrations",icon:e.jsx(ve,{className:"h-5 w-5"}),path:"/admin/integrations"}]:(a==null?void 0:a.role)==="company_admin"?[...n,{id:"properties",label:"Properties",icon:e.jsx(W,{className:"h-5 w-5"}),path:"/company/properties",children:[{label:"All Properties",path:"/company/properties"},{label:"Add Property",path:"/company/properties/add"},{label:"Portfolios",path:"/company/portfolios"}]},{id:"teams",label:"Team Management",icon:e.jsx(T,{className:"h-5 w-5"}),path:"/company/teams",children:[{label:"Team Members",path:"/company/teams"},{label:"Invitations",path:"/company/invitations"},{label:"Roles & Permissions",path:"/company/roles"}]},{id:"tenants",label:"Tenants",icon:e.jsx(T,{className:"h-5 w-5"}),path:"/company/tenants"},{id:"maintenance",label:"Maintenance",icon:e.jsx(M,{className:"h-5 w-5"}),path:"/company/maintenance"},{id:"financial",label:"Financial",icon:e.jsx(_,{className:"h-5 w-5"}),path:"/company/financial",children:[{label:"Payments",path:"/company/financial/payments"},{label:"Invoices",path:"/company/financial/invoices"},{label:"Reports",path:"/company/financial/reports"}]},{id:"reports",label:"Reports",icon:e.jsx(R,{className:"h-5 w-5"}),path:"/company/reports"},{id:"settings",label:"Company Settings",icon:e.jsx(A,{className:"h-5 w-5"}),path:"/company/settings"}]:(a==null?void 0:a.role)==="property_manager"?[...n,{id:"properties",label:"Properties",icon:e.jsx(W,{className:"h-5 w-5"}),path:"/management/properties",children:[{label:"My Properties",path:"/management/properties"},{label:"Add Property",path:"/management/properties/add"},{label:"Property Map",path:"/management/properties/map"},{label:"Occupancy",path:"/management/properties/occupancy"}]},{id:"tenants",label:"Tenants",icon:e.jsx(T,{className:"h-5 w-5"}),path:"/management/tenants",children:[{label:"All Tenants",path:"/management/tenants"},{label:"Active Leases",path:"/management/tenants/active"},{label:"Lease Renewals",path:"/management/tenants/renewals"},{label:"Tenant Directory",path:"/management/tenants/directory"}]},{id:"tasks",label:"Tasks",icon:e.jsx(X,{className:"h-5 w-5"}),path:"/management/tasks",children:[{label:"My Tasks",path:"/management/tasks"},{label:"Assign Tasks",path:"/management/tasks/assign"},{label:"Task Board",path:"/management/tasks/board"},{label:"Completed",path:"/management/tasks/completed"}]},{id:"maintenance",label:"Maintenance",icon:e.jsx(M,{className:"h-5 w-5"}),path:"/management/maintenance",children:[{label:"Requests",path:"/management/maintenance"},{label:"Work Orders",path:"/management/maintenance/work-orders"},{label:"Vendors",path:"/management/maintenance/vendors"},{label:"Schedule",path:"/management/maintenance/schedule"}]},{id:"financial",label:"Financial",icon:e.jsx(_,{className:"h-5 w-5"}),path:"/management/financial",children:[{label:"Rent Collection",path:"/management/financial/rent"},{label:"Invoices",path:"/management/financial/invoices"},{label:"Expenses",path:"/management/financial/expenses"},{label:"Reports",path:"/management/financial/reports"}]},{id:"communications",label:"Communications",icon:e.jsx(U,{className:"h-5 w-5"}),path:"/management/communications",children:[{label:"Messages",path:"/management/communications"},{label:"Announcements",path:"/management/communications/announcements"},{label:"Notifications",path:"/management/communications/notifications"}]},{id:"analytics",label:"Analytics",icon:e.jsx(Ce,{className:"h-5 w-5"}),path:"/management/analytics",children:[{label:"Overview",path:"/management/analytics"},{label:"Revenue",path:"/management/analytics/revenue"},{label:"Occupancy",path:"/management/analytics/occupancy"},{label:"Performance",path:"/management/analytics/performance"}]},{id:"reports",label:"Reports",icon:e.jsx(R,{className:"h-5 w-5"}),path:"/management/reports",children:[{label:"Financial Reports",path:"/management/reports/financial"},{label:"Occupancy Reports",path:"/management/reports/occupancy"},{label:"Maintenance Reports",path:"/management/reports/maintenance"},{label:"Export Data",path:"/management/reports/export"}]},{id:"calendar",label:"Calendar",icon:e.jsx(K,{className:"h-5 w-5"}),path:"/management/calendar"},{id:"documents",label:"Documents",icon:e.jsx(B,{className:"h-5 w-5"}),path:"/management/documents",children:[{label:"Lease Templates",path:"/management/documents/templates"},{label:"Signed Leases",path:"/management/documents/leases"},{label:"Notices",path:"/management/documents/notices"}]},{id:"alerts",label:"Alerts",icon:e.jsx(Y,{className:"h-5 w-5"}),path:"/management/alerts"},{id:"invitations",label:"Invitations",icon:e.jsx(Se,{className:"h-5 w-5"}),path:"/management/invitations/send",children:[{label:"Send Invitation",path:"/management/invitations/send"},{label:"Pending",path:"/management/invitations/pending"},{label:"Accepted",path:"/management/invitations/accepted"},{label:"Declined",path:"/management/invitations/declined"}]},{id:"settings",label:"Settings",icon:e.jsx(A,{className:"h-5 w-5"}),path:"/management/settings"}]:(a==null?void 0:a.role)==="landlord"?[...n,{id:"properties",label:"My Properties",icon:e.jsx(E,{className:"h-5 w-5"}),path:"/landlord/properties"},{id:"tenants",label:"Tenants",icon:e.jsx(T,{className:"h-5 w-5"}),path:"/landlord/tenants"},{id:"communications",label:"Communications",icon:e.jsx(U,{className:"h-5 w-5"}),path:"/landlord/communications"},{id:"financial",label:"Financial",icon:e.jsx(_,{className:"h-5 w-5"}),path:"/landlord/financials"},{id:"maintenance",label:"Maintenance",icon:e.jsx(M,{className:"h-5 w-5"}),path:"/landlord/maintenance"},{id:"analytics",label:"Analytics",icon:e.jsx(Pe,{className:"h-5 w-5"}),path:"/landlord/analytics"},{id:"reports",label:"Reports",icon:e.jsx(R,{className:"h-5 w-5"}),path:"/landlord/reports"},{id:"calendar",label:"Calendar",icon:e.jsx(K,{className:"h-5 w-5"}),path:"/landlord/calendar"},{id:"documents",label:"Documents",icon:e.jsx(B,{className:"h-5 w-5"}),path:"/landlord/documents"},{id:"alerts",label:"Alerts",icon:e.jsx(Z,{className:"h-5 w-5"}),path:"/landlord/alerts"},{id:"integrations",label:"Integrations",icon:e.jsx(Te,{className:"h-5 w-5"}),path:"/landlord/integrations"},{id:"settings",label:"Settings",icon:e.jsx(A,{className:"h-5 w-5"}),path:"/landlord/settings"}]:(a==null?void 0:a.role)==="tenant"?[{id:"dashboard",label:"My Dashboard",icon:e.jsx(V,{className:"h-5 w-5"}),path:"/tenant/dashboard"},{id:"unit",label:"My Unit",icon:e.jsx(E,{className:"h-5 w-5"}),path:"/tenant/unit"},{id:"payments",label:"Payments",icon:e.jsx(_,{className:"h-5 w-5"}),path:"/tenant/payments"},{id:"maintenance",label:"Maintenance",icon:e.jsx(M,{className:"h-5 w-5"}),path:"/tenant/maintenance"},{id:"documents",label:"Documents",icon:e.jsx(B,{className:"h-5 w-5"}),path:"/tenant/documents"},{id:"messages",label:"Messages",icon:e.jsx(U,{className:"h-5 w-5"}),path:"/tenant/messages"}]:n})(),y=({item:n,level:N=0})=>{const g=n.children&&n.children.length>0,b=p[n.id],d=h(n.path);return e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>{g?k(n.id):o(n.path)},className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors duration-200 ${d&&!g?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,style:{paddingLeft:`${N*20+12}px`},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[n.icon,e.jsx("span",{className:"font-medium",children:n.label})]}),g&&e.jsx("span",{children:b?e.jsx(Ae,{className:"h-4 w-4"}):e.jsx(Me,{className:"h-4 w-4"})})]}),g&&b&&e.jsx("div",{className:"mt-1 space-y-1",children:n.children.map((v,I)=>e.jsx("button",{onClick:()=>o(v.path),className:`w-full flex items-center px-3 py-2 rounded-lg transition-colors duration-200 ${h(v.path)?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,style:{paddingLeft:`${(N+1)*20+12}px`},children:v.label},I))})]})};return e.jsx("aside",{className:`fixed lg:static inset-y-0 left-0 z-30 w-64 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 transform ${m?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-200 ease-in-out`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"SS"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"StaySpot"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(a==null?void 0:a.role)==="system_admin"&&"System Admin Portal",(a==null?void 0:a.role)==="company_admin"&&"Company Dashboard",(a==null?void 0:a.role)==="property_manager"&&"Property Management",(a==null?void 0:a.role)==="landlord"&&"Landlord Portal",(a==null?void 0:a.role)==="tenant"&&"Tenant Portal"]})]})]})}),e.jsxs("nav",{className:"flex-1 p-4 overflow-y-auto",children:[e.jsx("div",{className:"space-y-1",children:c.map(n=>e.jsx(y,{item:n},n.id))}),(a==null?void 0:a.role)==="company_admin"&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>o("/company/properties/add"),className:"w-full flex items-center gap-3 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors duration-200",children:[e.jsx(E,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Add Property"})]}),e.jsxs("button",{onClick:()=>o("/company/invitations"),className:"w-full flex items-center gap-3 px-3 py-2 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-300 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors duration-200",children:[e.jsx(T,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Invite Team Member"})]})]})]}),(a==null?void 0:a.role)==="property_manager"&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>o("/management/properties/add"),className:"w-full flex items-center gap-3 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors duration-200",children:[e.jsx(E,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Add Property"})]}),e.jsxs("button",{onClick:()=>o("/management/tasks/assign"),className:"w-full flex items-center gap-3 px-3 py-2 bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-300 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors duration-200",children:[e.jsx(X,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Assign Task"})]}),e.jsxs("button",{onClick:()=>o("/management/maintenance"),className:"w-full flex items-center gap-3 px-3 py-2 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-300 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors duration-200",children:[e.jsx(M,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"View Maintenance"})]}),e.jsxs("button",{onClick:()=>o("/management/financial/rent"),className:"w-full flex items-center gap-3 px-3 py-2 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-300 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors duration-200",children:[e.jsx(Ne,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Rent Collection"})]})]})]}),(a==null?void 0:a.role)==="landlord"&&e.jsx(Ie,{})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 font-medium",children:((w=a==null?void 0:a.name)==null?void 0:w.split(" ").map(n=>n[0]).join("").toUpperCase().slice(0,2))||"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:(a==null?void 0:a.name)||"User"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:(a==null?void 0:a.email)||"user@example.com"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:C,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:x?e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Light Mode"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Dark Mode"})]})}),e.jsxs("button",{onClick:()=>{const n=(a==null?void 0:a.role)==="landlord"?"/landlord/settings":(a==null?void 0:a.role)==="property_manager"?"/management/settings":(a==null?void 0:a.role)==="company_admin"?"/company/settings":(a==null?void 0:a.role)==="system_admin"?"/admin/settings":"/tenant/settings";o(n)},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Help"})]})]})]})]})})};export{ha as H,pa as S};
//# sourceMappingURL=Sidebar-cd2326a2.js.map
