{"version":3,"file":"AuditLogs-8aa877ff.js","sources":["../../src/pages/system-admin/AuditLogs.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Search, \n  Filter, \n  Download, \n  Eye, \n  User,\n  Building,\n  Calendar,\n  Clock,\n  AlertTriangle,\n  CheckCircle,\n  XCircle,\n  RefreshCw,\n  FileText,\n  Shield,\n  Globe,\n  Database\n} from 'lucide-react';\nimport { useAuth } from '../../hooks/useAuth';\n\nconst SystemAdminAuditLogs = () => {\n  const { user } = useAuth();\n  const [logs, setLogs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filters, setFilters] = useState({\n    actionType: 'all',\n    userId: '',\n    dateRange: 'today',\n    severity: 'all'\n  });\n  const [selectedLogs, setSelectedLogs] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\n  const [selectedLog, setSelectedLog] = useState(null);\n  const [exporting, setExporting] = useState(false);\n  const [clearing, setClearing] = useState(false);\n  const itemsPerPage = 15;\n\n  const actionTypes = [\n    { value: 'all', label: 'All Actions' },\n    { value: 'login', label: 'Login', color: 'blue', icon: Shield },\n    { value: 'logout', label: 'Logout', color: 'gray', icon: Shield },\n    { value: 'create', label: 'Create', color: 'green', icon: CheckCircle },\n    { value: 'update', label: 'Update', color: 'yellow', icon: RefreshCw },\n    { value: 'delete', label: 'Delete', color: 'red', icon: XCircle },\n    { value: 'read', label: 'Read', color: 'blue', icon: Eye },\n    { value: 'export', label: 'Export', color: 'purple', icon: Download },\n    { value: 'import', label: 'Import', color: 'indigo', icon: Download },\n    { value: 'system', label: 'System', color: 'orange', icon: Database },\n    { value: 'security', label: 'Security', color: 'red', icon: Shield },\n    { value: 'api', label: 'API', color: 'cyan', icon: Globe },\n  ];\n\n  const severityLevels = [\n    { value: 'info', label: 'Info', color: 'bg-blue-100 text-blue-800' },\n    { value: 'success', label: 'Success', color: 'bg-green-100 text-green-800' },\n    { value: 'warning', label: 'Warning', color: 'bg-yellow-100 text-yellow-800' },\n    { value: 'error', label: 'Error', color: 'bg-red-100 text-red-800' },\n    { value: 'critical', label: 'Critical', color: 'bg-purple-100 text-purple-800' },\n  ];\n\n  const dateRanges = [\n    { value: 'today', label: 'Today' },\n    { value: 'yesterday', label: 'Yesterday' },\n    { value: 'week', label: 'Last 7 Days' },\n    { value: 'month', label: 'Last 30 Days' },\n    { value: 'quarter', label: 'Last 90 Days' },\n    { value: 'year', label: 'Last Year' },\n    { value: 'custom', label: 'Custom Range' },\n  ];\n\n  useEffect(() => {\n    loadLogs();\n  }, [filters.dateRange]);\n\n  const loadLogs = async () => {\n    setLoading(true);\n    try {\n      const data = await getAuditLogs(filters);\n      setLogs(data);\n    } catch (error) {\n      console.error('Failed to load audit logs:', error);\n      // Use sample data for demo\n      setLogs(generateSampleLogs());\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const generateSampleLogs = () => {\n    const actions = ['login', 'logout', 'create', 'update', 'delete', 'read', 'export', 'system', 'security'];\n    const severities = ['info', 'success', 'warning', 'error', 'critical'];\n    const users = [\n      { id: 1, name: 'John Doe', email: 'john@example.com', role: 'system_admin' },\n      { id: 2, name: 'Jane Smith', email: 'jane@example.com', role: 'company_admin' },\n      { id: 3, name: 'Bob Johnson', email: 'bob@example.com', role: 'property_manager' },\n      { id: 4, name: 'Alice Brown', email: 'alice@example.com', role: 'landlord' },\n      { id: 5, name: 'System', email: 'system@stayspot.com', role: 'system' },\n    ];\n    const entities = ['User', 'Property', 'Company', 'Role', 'Permission', 'Payment', 'Maintenance', 'Tenant', 'Lease'];\n    \n    const logs = [];\n    for (let i = 0; i < 150; i++) {\n      const action = actions[Math.floor(Math.random() * actions.length)];\n      const severity = severities[Math.floor(Math.random() * severities.length)];\n      const user = users[Math.floor(Math.random() * users.length)];\n      const entity = entities[Math.floor(Math.random() * entities.length)];\n      const timestamp = new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000);\n      \n      logs.push({\n        id: `log-${i + 1}`,\n        action,\n        severity,\n        userId: user.id,\n        userName: user.name,\n        userEmail: user.email,\n        userRole: user.role,\n        entityType: entity,\n        entityId: `ent-${Math.floor(Math.random() * 1000)}`,\n        description: `${action.charAt(0).toUpperCase() + action.slice(1)} ${entity.toLowerCase()}`,\n        details: {\n          ip: `192.168.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`,\n          userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\n          location: 'New York, NY, USA',\n          changes: action === 'update' ? {\n            before: { status: 'pending' },\n            after: { status: 'active' }\n          } : null,\n          metadata: {}\n        },\n        timestamp: timestamp.toISOString(),\n        source: user.role === 'system' ? 'system' : 'user'\n      });\n    }\n    \n    return logs.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\n  };\n\n  const handleSelectLog = (logId) => {\n    if (selectedLogs.includes(logId)) {\n      setSelectedLogs(selectedLogs.filter(id => id !== logId));\n    } else {\n      setSelectedLogs([...selectedLogs, logId]);\n    }\n  };\n\n  const handleSelectAll = () => {\n    if (selectedLogs.length === filteredLogs.length) {\n      setSelectedLogs([]);\n    } else {\n      setSelectedLogs(filteredLogs.map(log => log.id));\n    }\n  };\n\n  const handleExport = async () => {\n    setExporting(true);\n    try {\n      const data = selectedLogs.length > 0 \n        ? logs.filter(log => selectedLogs.includes(log.id))\n        : logs;\n      \n      await exportAuditLogs(data);\n    } catch (error) {\n      console.error('Failed to export logs:', error);\n    } finally {\n      setExporting(false);\n    }\n  };\n\n  const handleClearLogs = async () => {\n    if (window.confirm('Are you sure you want to clear all audit logs? This action cannot be undone.')) {\n      setClearing(true);\n      try {\n        await clearAuditLogs();\n        loadLogs();\n        setSelectedLogs([]);\n      } catch (error) {\n        console.error('Failed to clear logs:', error);\n      } finally {\n        setClearing(false);\n      }\n    }\n  };\n\n  const handleViewDetails = (log) => {\n    setSelectedLog(log);\n    setShowDetailsModal(true);\n  };\n\n  const filteredLogs = logs.filter(log => {\n    const matchesSearch = \n      log.userName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      log.userEmail.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      log.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      log.entityType.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesAction = filters.actionType === 'all' || log.action === filters.actionType;\n    const matchesSeverity = filters.severity === 'all' || log.severity === filters.severity;\n    \n    return matchesSearch && matchesAction && matchesSeverity;\n  });\n\n  // Pagination\n  const totalPages = Math.ceil(filteredLogs.length / itemsPerPage);\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const paginatedLogs = filteredLogs.slice(startIndex, startIndex + itemsPerPage);\n\n  const getActionIcon = (action) => {\n    const actionType = actionTypes.find(a => a.value === action);\n    if (actionType && actionType.icon) {\n      const Icon = actionType.icon;\n      return <Icon className=\"w-4 h-4\" />;\n    }\n    return <FileText className=\"w-4 h-4\" />;\n  };\n\n  const getActionColor = (action) => {\n    const actionType = actionTypes.find(a => a.value === action);\n    return actionType ? actionType.color : 'gray';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 p-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"animate-pulse\">\n            <div className=\"h-8 bg-gray-200 rounded w-1/4 mb-8\"></div>\n            <div className=\"grid grid-cols-1 gap-4\">\n              {[1, 2, 3, 4, 5].map(i => (\n                <div key={i} className=\"h-20 bg-gray-200 rounded-lg\"></div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-4 md:p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex flex-col md:flex-row md:items-center justify-between\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Audit Logs</h1>\n              <p className=\"mt-2 text-gray-600\">\n                Monitor and review system activities and user actions\n              </p>\n            </div>\n            <div className=\"mt-4 md:mt-0 flex items-center space-x-3\">\n              <button\n                onClick={handleExport}\n                disabled={exporting}\n                className=\"flex items-center px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50\"\n              >\n                <Download className=\"w-4 h-4 mr-2\" />\n                {exporting ? 'Exporting...' : 'Export'}\n              </button>\n              <button\n                onClick={loadLogs}\n                className=\"flex items-center px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\n              >\n                <RefreshCw className=\"w-4 h-4 mr-2\" />\n                Refresh\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Overview */}\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8\">\n          {[\n            { label: 'Total Logs', value: logs.length, color: 'blue' },\n            { label: 'Today', value: logs.filter(l => new Date(l.timestamp).toDateString() === new Date().toDateString()).length, color: 'green' },\n            { label: 'Errors', value: logs.filter(l => l.severity === 'error' || l.severity === 'critical').length, color: 'red' },\n            { label: 'Active Users', value: new Set(logs.filter(l => l.action === 'login').map(l => l.userId)).size, color: 'purple' },\n          ].map((stat, index) => (\n            <div key={index} className=\"bg-white rounded-lg p-4 border border-gray-200\">\n              <p className=\"text-sm text-gray-600\">{stat.label}</p>\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">{stat.value}</p>\n            </div>\n          ))}\n        </div>\n\n        {/* Filters and Search */}\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8\">\n          <div className=\"flex flex-col md:flex-row md:items-center justify-between space-y-4 md:space-y-0\">\n            <div className=\"flex-1 max-w-lg\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search logs by user, action, or entity...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-3\">\n              <div className=\"flex items-center space-x-2\">\n                <Filter className=\"w-4 h-4 text-gray-400\" />\n                <select\n                  value={filters.actionType}\n                  onChange={(e) => setFilters({...filters, actionType: e.target.value})}\n                  className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  {actionTypes.map(action => (\n                    <option key={action.value} value={action.value}>{action.label}</option>\n                  ))}\n                </select>\n                \n                <select\n                  value={filters.severity}\n                  onChange={(e) => setFilters({...filters, severity: e.target.value})}\n                  className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"all\">All Severity</option>\n                  {severityLevels.map(level => (\n                    <option key={level.value} value={level.value}>{level.label}</option>\n                  ))}\n                </select>\n                \n                <select\n                  value={filters.dateRange}\n                  onChange={(e) => setFilters({...filters, dateRange: e.target.value})}\n                  className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  {dateRanges.map(range => (\n                    <option key={range.value} value={range.value}>{range.label}</option>\n                  ))}\n                </select>\n              </div>\n            </div>\n          </div>\n\n          {/* Bulk Actions */}\n          {selectedLogs.length > 0 && (\n            <div className=\"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center\">\n                  <CheckCircle className=\"w-5 h-5 text-blue-600 mr-2\" />\n                  <span className=\"font-medium text-blue-900\">\n                    {selectedLogs.length} log{selectedLogs.length > 1 ? 's' : ''} selected\n                  </span>\n                </div>\n                <div className=\"flex items-center space-x-3\">\n                  <button\n                    onClick={handleExport}\n                    className=\"px-3 py-1 text-sm bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200\"\n                  >\n                    Export Selected\n                  </button>\n                  <button\n                    onClick={() => setSelectedLogs([])}\n                    className=\"px-3 py-1 text-sm bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200\"\n                  >\n                    Clear Selection\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Logs Table */}\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedLogs.length === paginatedLogs.length && paginatedLogs.length > 0}\n                      onChange={handleSelectAll}\n                      className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                    />\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Action\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    User\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Entity\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Description\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Time\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Severity\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {paginatedLogs.map((log) => (\n                  <tr key={log.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedLogs.includes(log.id)}\n                        onChange={() => handleSelectLog(log.id)}\n                        className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                      />\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <div className={`p-2 rounded-lg mr-3 bg-${getActionColor(log.action)}-100`}>\n                          <div className={`text-${getActionColor(log.action)}-600`}>\n                            {getActionIcon(log.action)}\n                          </div>\n                        </div>\n                        <div>\n                          <div className=\"font-medium text-gray-900 capitalize\">{log.action}</div>\n                          <div className=\"text-xs text-gray-500\">{log.source}</div>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <div className=\"flex-shrink-0 h-8 w-8\">\n                          <div className=\"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center\">\n                            <User className=\"w-4 h-4 text-blue-600\" />\n                          </div>\n                        </div>\n                        <div className=\"ml-3\">\n                          <div className=\"text-sm font-medium text-gray-900\">{log.userName}</div>\n                          <div className=\"text-xs text-gray-500\">{log.userEmail}</div>\n                          <div className=\"text-xs text-gray-400\">{log.userRole}</div>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">{log.entityType}</div>\n                      <div className=\"text-xs text-gray-500\">ID: {log.entityId}</div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"text-sm text-gray-900 max-w-xs truncate\">{log.description}</div>\n                      {log.details?.ip && (\n                        <div className=\"text-xs text-gray-500\">IP: {log.details.ip}</div>\n                      )}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">\n                        {new Date(log.timestamp).toLocaleDateString()}\n                      </div>\n                      <div className=\"text-xs text-gray-500\">\n                        {new Date(log.timestamp).toLocaleTimeString()}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                        severityLevels.find(s => s.value === log.severity)?.color || 'bg-gray-100 text-gray-800'\n                      }`}>\n                        {log.severity}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => handleViewDetails(log)}\n                          className=\"text-blue-600 hover:text-blue-900\"\n                          title=\"View Details\"\n                        >\n                          <Eye className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n\n          {/* Pagination */}\n          {totalPages > 1 && (\n            <div className=\"px-6 py-4 border-t border-gray-200\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"text-sm text-gray-700\">\n                  Showing <span className=\"font-medium\">{startIndex + 1}</span> to{' '}\n                  <span className=\"font-medium\">\n                    {Math.min(startIndex + itemsPerPage, filteredLogs.length)}\n                  </span>{' '}\n                  of <span className=\"font-medium\">{filteredLogs.length}</span> logs\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <button\n                    onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\n                    disabled={currentPage === 1}\n                    className=\"px-3 py-1 border border-gray-300 rounded-lg text-sm disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    Previous\n                  </button>\n                  {[...Array(totalPages)].map((_, i) => (\n                    <button\n                      key={i}\n                      onClick={() => setCurrentPage(i + 1)}\n                      className={`px-3 py-1 rounded-lg text-sm ${\n                        currentPage === i + 1\n                          ? 'bg-blue-600 text-white'\n                          : 'border border-gray-300 text-gray-700 hover:bg-gray-50'\n                      }`}\n                    >\n                      {i + 1}\n                    </button>\n                  ))}\n                  <button\n                    onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}\n                    disabled={currentPage === totalPages}\n                    className=\"px-3 py-1 border border-gray-300 rounded-lg text-sm disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    Next\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Clear All Button */}\n        <div className=\"mt-8 flex justify-end\">\n          <button\n            onClick={handleClearLogs}\n            disabled={clearing || logs.length === 0}\n            className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center\"\n          >\n            {clearing ? (\n              <>\n                <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\n                Clearing...\n              </>\n            ) : (\n              <>\n                <XCircle className=\"w-4 h-4 mr-2\" />\n                Clear All Logs ({logs.length})\n              </>\n            )}\n          </button>\n        </div>\n\n        {/* Details Modal */}\n        {showDetailsModal && selectedLog && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\n              <div className=\"p-6 border-b border-gray-200\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-xl font-semibold text-gray-900\">\n                    Audit Log Details\n                  </h3>\n                  <button\n                    onClick={() => {\n                      setShowDetailsModal(false);\n                      setSelectedLog(null);\n                    }}\n                    className=\"text-gray-400 hover:text-gray-600\"\n                  >\n                    <XCircle className=\"w-6 h-6\" />\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"flex-1 overflow-y-auto p-6\">\n                <div className=\"space-y-6\">\n                  {/* Basic Info */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div>\n                      <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Action Information</h4>\n                      <div className=\"space-y-2\">\n                        <div>\n                          <span className=\"text-xs text-gray-500\">Action Type</span>\n                          <div className=\"flex items-center mt-1\">\n                            <div className={`p-2 rounded-lg mr-3 bg-${getActionColor(selectedLog.action)}-100`}>\n                              <div className={`text-${getActionColor(selectedLog.action)}-600`}>\n                                {getActionIcon(selectedLog.action)}\n                              </div>\n                            </div>\n                            <div>\n                              <div className=\"font-medium text-gray-900 capitalize\">{selectedLog.action}</div>\n                              <div className=\"text-xs text-gray-500\">{selectedLog.source}</div>\n                            </div>\n                          </div>\n                        </div>\n                        <div>\n                          <span className=\"text-xs text-gray-500\">Description</span>\n                          <p className=\"text-sm text-gray-900 mt-1\">{selectedLog.description}</p>\n                        </div>\n                        <div>\n                          <span className=\"text-xs text-gray-500\">Severity</span>\n                          <div className=\"mt-1\">\n                            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                              severityLevels.find(s => s.value === selectedLog.severity)?.color || 'bg-gray-100 text-gray-800'\n                            }`}>\n                              {selectedLog.severity}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div>\n                      <h4 className=\"text-sm font-medium text-gray-700 mb-3\">User Information</h4>\n                      <div className=\"space-y-2\">\n                        <div>\n                          <span className=\"text-xs text-gray-500\">User</span>\n                          <div className=\"flex items-center mt-1\">\n                            <div className=\"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center mr-3\">\n                              <User className=\"w-4 h-4 text-blue-600\" />\n                            </div>\n                            <div>\n                              <div className=\"font-medium text-gray-900\">{selectedLog.userName}</div>\n                              <div className=\"text-xs text-gray-500\">{selectedLog.userEmail}</div>\n                              <div className=\"text-xs text-gray-400\">{selectedLog.userRole}</div>\n                            </div>\n                          </div>\n                        </div>\n                        <div>\n                          <span className=\"text-xs text-gray-500\">Timestamp</span>\n                          <div className=\"flex items-center mt-1 text-sm text-gray-900\">\n                            <Calendar className=\"w-4 h-4 mr-2 text-gray-400\" />\n                            {new Date(selectedLog.timestamp).toLocaleDateString()}\n                            <Clock className=\"w-4 h-4 ml-4 mr-2 text-gray-400\" />\n                            {new Date(selectedLog.timestamp).toLocaleTimeString()}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Entity Info */}\n                  <div>\n                    <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Entity Information</h4>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      <div>\n                        <span className=\"text-xs text-gray-500\">Entity Type</span>\n                        <p className=\"text-sm text-gray-900 mt-1\">{selectedLog.entityType}</p>\n                      </div>\n                      <div>\n                        <span className=\"text-xs text-gray-500\">Entity ID</span>\n                        <p className=\"text-sm text-gray-900 mt-1 font-mono\">{selectedLog.entityId}</p>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Technical Details */}\n                  <div>\n                    <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Technical Details</h4>\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <div>\n                          <span className=\"text-xs text-gray-500\">IP Address</span>\n                          <p className=\"text-sm text-gray-900 mt-1 font-mono\">\n                            {selectedLog.details?.ip || 'N/A'}\n                          </p>\n                        </div>\n                        <div>\n                          <span className=\"text-xs text-gray-500\">Location</span>\n                          <p className=\"text-sm text-gray-900 mt-1\">\n                            {selectedLog.details?.location || 'N/A'}\n                          </p>\n                        </div>\n                        <div className=\"md:col-span-2\">\n                          <span className=\"text-xs text-gray-500\">User Agent</span>\n                          <p className=\"text-sm text-gray-900 mt-1 font-mono text-sm\">\n                            {selectedLog.details?.userAgent || 'N/A'}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Changes */}\n                  {selectedLog.details?.changes && (\n                    <div>\n                      <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Changes Made</h4>\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                        <div>\n                          <h5 className=\"text-xs font-medium text-gray-600 mb-2\">Before</h5>\n                          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n                            <pre className=\"text-xs text-red-800 overflow-x-auto\">\n                              {JSON.stringify(selectedLog.details.changes.before, null, 2)}\n                            </pre>\n                          </div>\n                        </div>\n                        <div>\n                          <h5 className=\"text-xs font-medium text-gray-600 mb-2\">After</h5>\n                          <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n                            <pre className=\"text-xs text-green-800 overflow-x-auto\">\n                              {JSON.stringify(selectedLog.details.changes.after, null, 2)}\n                            </pre>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Raw Data */}\n                  <div>\n                    <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Raw Log Data</h4>\n                    <div className=\"bg-gray-900 rounded-lg p-4\">\n                      <pre className=\"text-xs text-gray-100 overflow-x-auto\">\n                        {JSON.stringify(selectedLog, null, 2)}\n                      </pre>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"p-6 border-t border-gray-200 bg-gray-50\">\n                <div className=\"flex justify-end space-x-3\">\n                  <button\n                    onClick={() => {\n                      setShowDetailsModal(false);\n                      setSelectedLog(null);\n                    }}\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\n                  >\n                    Close\n                  </button>\n                  <button\n                    onClick={() => {\n                      // Export this single log\n                      const blob = new Blob([JSON.stringify(selectedLog, null, 2)], { type: 'application/json' });\n                      const url = window.URL.createObjectURL(blob);\n                      const a = document.createElement('a');\n                      a.href = url;\n                      a.download = `audit-log-${selectedLog.id}.json`;\n                      a.click();\n                    }}\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                  >\n                    Export This Log\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SystemAdminAuditLogs;"],"names":["SystemAdminAuditLogs","useAuth","logs","setLogs","useState","loading","setLoading","searchTerm","setSearchTerm","filters","setFilters","selectedLogs","setSelectedLogs","currentPage","setCurrentPage","showDetailsModal","setShowDetailsModal","selectedLog","setSelectedLog","exporting","setExporting","clearing","setClearing","itemsPerPage","actionTypes","Shield","CheckCircle","RefreshCw","XCircle","Eye","Download","Database","Globe","severityLevels","dateRanges","useEffect","loadLogs","data","error","generateSampleLogs","actions","severities","users","entities","i","action","severity","user","entity","timestamp","a","b","handleSelectLog","logId","id","handleSelectAll","filteredLogs","log","handleExport","handleClearLogs","handleViewDetails","matchesSearch","matchesAction","matchesSeverity","totalPages","startIndex","paginatedLogs","getActionIcon","actionType","Icon","jsx","FileText","getActionColor","jsxs","l","stat","index","Search","e","Filter","level","range","User","_a","_b","s","prev","_","Fragment","Calendar","Clock","_c","_d","_e","blob","url"],"mappings":"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"}