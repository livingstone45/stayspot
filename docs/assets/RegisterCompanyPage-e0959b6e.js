import{j as e}from"./charts-2e8e60b5.js";import{r as b}from"./vendor-fb33f09a.js";import{b as k,L as g}from"./router-9ce3d278.js";import{g as C}from"./roleRedirection-21b9e312.js";const B=()=>{const[t,f]=b.useState(1),[o,j]=b.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",companyName:"",registrationNumber:"",businessType:"",industry:"",numberOfEmployees:"",acceptTerms:!1}),[u,i]=b.useState(""),[h,s]=b.useState(!1),S=k(),r=n=>{const{name:l,value:d,type:p,checked:x}=n.target;j(c=>({...c,[l]:p==="checkbox"?x:d}))},w=()=>{if(t===1&&(!o.firstName||!o.lastName)){i("Please fill in all fields");return}if(t===2&&(!o.email||!o.phone)){i("Please fill in all fields");return}if(t===3&&(!o.password||!o.confirmPassword)){i("Please fill in all fields");return}if(t===3&&o.password!==o.confirmPassword){i("Passwords do not match");return}if(t===3&&o.password.length<8){i("Password must be at least 8 characters");return}i(""),f(t+1)},v=async n=>{var p,x,c,y;if(n.preventDefault(),s(!0),i(""),!o.acceptTerms){i("You must accept the terms and conditions"),s(!1);return}const l=new AbortController,d=setTimeout(()=>l.abort(),1e4);try{const m=await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:o.firstName,lastName:o.lastName,email:o.email,phone:o.phone,password:o.password,confirmPassword:o.confirmPassword,role:"company_admin",companyName:o.companyName,registrationNumber:o.registrationNumber,businessType:o.businessType,industry:o.industry,numberOfEmployees:o.numberOfEmployees,acceptTerms:o.acceptTerms}),signal:l.signal});clearTimeout(d);const a=await m.json();if(m.ok){localStorage.setItem("token",((x=(p=a.data)==null?void 0:p.tokens)==null?void 0:x.accessToken)||a.token),localStorage.setItem("user",JSON.stringify(((c=a.data)==null?void 0:c.user)||{role:"company_admin"})),s(!1);const z=C(((y=a.data)==null?void 0:y.user)||{role:"company_admin"});S(z)}else i(a.error||a.message||"Registration failed"),s(!1)}catch(m){clearTimeout(d),m.name==="AbortError"?i("Request timeout. Please try again."):i("Network error. Make sure backend is running."),s(!1)}};return e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8fafc",padding:"16px",minHeight:"100vh",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:[e.jsx("style",{children:`
        @keyframes popIn {
          0% { transform: scale(0.8) translateY(20px); opacity: 0; }
          100% { transform: scale(1) translateY(0); opacity: 1; }
        }
        .register-card {
          animation: popIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
      `}),e.jsxs("div",{className:"register-card",style:{width:"100%",maxWidth:"420px",backgroundColor:"white",borderRadius:"12px",boxShadow:"0 8px 32px rgba(30, 64, 175, 0.15)",padding:"24px",border:"1px solid rgba(30, 64, 175, 0.1)"},children:[e.jsxs(g,{to:"/",style:{fontSize:"14px",fontWeight:"600",color:"#1e293b",textDecoration:"none",display:"flex",alignItems:"center",gap:"4px",marginBottom:"16px"},children:[e.jsx("div",{style:{width:"20px",height:"20px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"9px"},children:"SS"}),e.jsx("span",{children:"StaySpot"})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[1,2,3,4].map(n=>e.jsx("div",{style:{flex:1,height:"4px",backgroundColor:n<=t?"#1e293b":"#e2e8f0",borderRadius:"2px",transition:"all 0.3s"}},n))}),e.jsxs("p",{style:{color:"#64748b",fontSize:"11px"},children:["Step ",t," of 4"]})]}),e.jsxs("h1",{style:{fontSize:"16px",fontWeight:"700",marginBottom:"2px",color:"#0f172a"},children:[t===1&&"Your Information",t===2&&"Contact Details",t===3&&"Create Password",t===4&&"Company Information"]}),e.jsxs("p",{style:{color:"#64748b",fontSize:"11px",marginBottom:"12px"},children:[t===1&&"Tell us about yourself",t===2&&"How can we reach you?",t===3&&"Secure your account",t===4&&"Tell us about your company"]}),u&&e.jsx("div",{style:{backgroundColor:"#fee2e2",border:"1px solid #fecaca",color:"#991b1b",padding:"8px",borderRadius:"6px",marginBottom:"10px",fontSize:"11px"},children:u}),e.jsxs("form",{onSubmit:v,style:{display:"flex",flexDirection:"column",gap:"10px"},children:[t===1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"3px",fontWeight:"500",color:"#0f172a",fontSize:"11px"},children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",value:o.firstName,onChange:r,style:{width:"100%",padding:"7px 9px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"12px",boxSizing:"border-box"},placeholder:"John"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"3px",fontWeight:"500",color:"#0f172a",fontSize:"11px"},children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:o.lastName,onChange:r,style:{width:"100%",padding:"7px 9px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"12px",boxSizing:"border-box"},placeholder:"Doe"})]})]}),t===2&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"3px",fontWeight:"500",color:"#0f172a",fontSize:"11px"},children:"Email"}),e.jsx("input",{type:"email",name:"email",value:o.email,onChange:r,style:{width:"100%",padding:"7px 9px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"12px",boxSizing:"border-box"},placeholder:"you@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"3px",fontWeight:"500",color:"#0f172a",fontSize:"11px"},children:"Phone"}),e.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:r,style:{width:"100%",padding:"7px 9px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"12px",boxSizing:"border-box"},placeholder:"+1 (555) 000-0000"})]})]}),t===3&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"3px",fontWeight:"500",color:"#0f172a",fontSize:"11px"},children:"Password"}),e.jsx("input",{type:"password",name:"password",value:o.password,onChange:r,style:{width:"100%",padding:"7px 9px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"12px",boxSizing:"border-box"},placeholder:"••••••••"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"3px",fontWeight:"500",color:"#0f172a",fontSize:"11px"},children:"Confirm Password"}),e.jsx("input",{type:"password",name:"confirmPassword",value:o.confirmPassword,onChange:r,style:{width:"100%",padding:"7px 9px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"12px",boxSizing:"border-box"},placeholder:"••••••••"})]})]}),t===4&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"3px",fontWeight:"500",color:"#0f172a",fontSize:"11px"},children:"Company Name"}),e.jsx("input",{type:"text",name:"companyName",value:o.companyName,onChange:r,style:{width:"100%",padding:"7px 9px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"12px",boxSizing:"border-box"},placeholder:"Your Company Ltd."})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"3px",fontWeight:"500",color:"#0f172a",fontSize:"11px"},children:"Company Registration Number"}),e.jsx("input",{type:"text",name:"registrationNumber",value:o.registrationNumber,onChange:r,style:{width:"100%",padding:"7px 9px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"12px",boxSizing:"border-box"},placeholder:"REG123456"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"3px",fontWeight:"500",color:"#0f172a",fontSize:"11px"},children:"Business Type"}),e.jsxs("select",{name:"businessType",value:o.businessType,onChange:r,style:{width:"100%",padding:"7px 9px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"12px",boxSizing:"border-box"},children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"property_management",children:"Property Management"}),e.jsx("option",{value:"real_estate",children:"Real Estate Agency"}),e.jsx("option",{value:"real_estate_investment",children:"Real Estate Investment"}),e.jsx("option",{value:"hospitality",children:"Hospitality"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"3px",fontWeight:"500",color:"#0f172a",fontSize:"11px"},children:"Industry"}),e.jsx("input",{type:"text",name:"industry",value:o.industry,onChange:r,style:{width:"100%",padding:"7px 9px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"12px",boxSizing:"border-box"},placeholder:"e.g., Real Estate"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"3px",fontWeight:"500",color:"#0f172a",fontSize:"11px"},children:"Number of Employees"}),e.jsx("input",{type:"number",name:"numberOfEmployees",value:o.numberOfEmployees,onChange:r,style:{width:"100%",padding:"7px 9px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"12px",boxSizing:"border-box"},placeholder:"5"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"11px",color:"#475569",marginTop:"8px"},children:[e.jsx("input",{type:"checkbox",name:"acceptTerms",checked:o.acceptTerms,onChange:r,style:{cursor:"pointer",width:"14px",height:"14px"}}),e.jsxs("span",{children:["I agree to the ",e.jsx(g,{to:"/terms",style:{color:"#1e293b",textDecoration:"underline"},children:"Terms and Conditions"})]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[t>1&&e.jsx("button",{type:"button",onClick:()=>f(t-1),style:{flex:1,padding:"7px",borderRadius:"6px",border:"1px solid #cbd5e1",backgroundColor:"white",fontWeight:"600",cursor:"pointer",fontSize:"12px"},children:"Back"}),t<4?e.jsx("button",{type:"button",onClick:w,style:{flex:1,padding:"7px",borderRadius:"6px",border:"none",backgroundColor:"#1e293b",color:"white",fontWeight:"600",cursor:"pointer",fontSize:"12px"},children:"Next"}):e.jsx("button",{type:"submit",disabled:h,style:{flex:1,padding:"7px",borderRadius:"6px",border:"none",backgroundColor:"#1e293b",color:"white",fontWeight:"600",cursor:"pointer",fontSize:"12px",opacity:h?.7:1},children:h?"Creating...":"Create Account"})]})]}),e.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #e2e8f0",textAlign:"center"},children:[e.jsx("p",{style:{color:"#64748b",fontSize:"11px",marginBottom:"3px"},children:"Already have an account?"}),e.jsx(g,{to:"/auth/login",style:{color:"#1e293b",textDecoration:"none",fontWeight:"600",fontSize:"11px"},children:"Sign in"})]})]})]})};export{B as default};
//# sourceMappingURL=RegisterCompanyPage-e0959b6e.js.map
