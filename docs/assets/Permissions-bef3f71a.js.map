{"version":3,"file":"Permissions-bef3f71a.js","sources":["../../src/pages/system-admin/Permissions.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Shield, \n  Search, \n  Filter, \n  CheckCircle, \n  XCircle, \n  Eye,\n  Edit2,\n  Trash2,\n  Plus,\n  Download,\n  Upload,\n  RefreshCw,\n  Lock,\n  Unlock,\n  AlertTriangle\n} from 'lucide-react';\nimport { useAuth } from '../../hooks/useAuth';\n\nconst SystemAdminPermissions = () => {\n  const { user } = useAuth();\n  const [permissions, setPermissions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [selectedPermissions, setSelectedPermissions] = useState([]);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [editingPermission, setEditingPermission] = useState(null);\n  const [permissionToDelete, setPermissionToDelete] = useState(null);\n  const [syncing, setSyncing] = useState(false);\n\n  const categories = [\n    { id: 'all', name: 'All Categories', color: 'gray' },\n    { id: 'system', name: 'System', color: 'red', icon: Shield },\n    { id: 'user', name: 'User Management', color: 'blue', icon: Shield },\n    { id: 'property', name: 'Property Management', color: 'green', icon: Shield },\n    { id: 'financial', name: 'Financial', color: 'purple', icon: Shield },\n    { id: 'audit', name: 'Audit & Security', color: 'yellow', icon: Shield },\n    { id: 'integration', name: 'Integration', color: 'indigo', icon: Shield },\n    { id: 'company', name: 'Company', color: 'pink', icon: Shield },\n    { id: 'tenant', name: 'Tenant', color: 'orange', icon: Shield },\n    { id: 'maintenance', name: 'Maintenance', color: 'cyan', icon: Shield },\n  ];\n\n  const samplePermissions = [\n    {\n      id: 'system.view',\n      name: 'View System Dashboard',\n      description: 'Access to system overview and performance metrics',\n      category: 'system',\n      type: 'read',\n      status: 'active',\n      createdAt: '2024-01-15',\n      usageCount: 1248,\n      roles: ['system_admin', 'company_admin'],\n      locked: false\n    },\n    {\n      id: 'system.manage',\n      name: 'Manage System Settings',\n      description: 'Configure system-wide settings and configurations',\n      category: 'system',\n      type: 'write',\n      status: 'active',\n      createdAt: '2024-01-15',\n      usageCount: 45,\n      roles: ['system_admin'],\n      locked: true\n    },\n    {\n      id: 'users.view',\n      name: 'View Users',\n      description: 'View all user accounts in the system',\n      category: 'user',\n      type: 'read',\n      status: 'active',\n      createdAt: '2024-01-15',\n      usageCount: 892,\n      roles: ['system_admin', 'company_admin'],\n      locked: false\n    },\n    {\n      id: 'users.create',\n      name: 'Create Users',\n      description: 'Create new user accounts',\n      category: 'user',\n      type: 'write',\n      status: 'active',\n      createdAt: '2024-01-15',\n      usageCount: 124,\n      roles: ['system_admin', 'company_admin'],\n      locked: false\n    },\n    {\n      id: 'users.edit',\n      name: 'Edit Users',\n      description: 'Modify user account information',\n      category: 'user',\n      type: 'write',\n      status: 'active',\n      createdAt: '2024-01-15',\n      usageCount: 567,\n      roles: ['system_admin', 'company_admin'],\n      locked: false\n    },\n    {\n      id: 'users.delete',\n      name: 'Delete Users',\n      description: 'Permanently remove user accounts',\n      category: 'user',\n      type: 'write',\n      status: 'active',\n      createdAt: '2024-01-15',\n      usageCount: 89,\n      roles: ['system_admin'],\n      locked: true\n    },\n    {\n      id: 'properties.view_all',\n      name: 'View All Properties',\n      description: 'View all properties across all companies',\n      category: 'property',\n      type: 'read',\n      status: 'active',\n      createdAt: '2024-01-15',\n      usageCount: 2145,\n      roles: ['system_admin', 'company_admin'],\n      locked: false\n    },\n    {\n      id: 'properties.create',\n      name: 'Create Properties',\n      description: 'Add new properties to the system',\n      category: 'property',\n      type: 'write',\n      status: 'active',\n      createdAt: '2024-01-15',\n      usageCount: 892,\n      roles: ['system_admin', 'company_admin', 'property_manager'],\n      locked: false\n    },\n    {\n      id: 'properties.edit_all',\n      name: 'Edit All Properties',\n      description: 'Modify any property in the system',\n      category: 'property',\n      type: 'write',\n      status: 'active',\n      createdAt: '2024-01-15',\n      usageCount: 567,\n      roles: ['system_admin', 'company_admin'],\n      locked: true\n    },\n    {\n      id: 'financial.view_all',\n      name: 'View All Financials',\n      description: 'Access all financial data across the system',\n      category: 'financial',\n      type: 'read',\n      status: 'active',\n      createdAt: '2024-01-15',\n      usageCount: 124,\n      roles: ['system_admin'],\n      locked: true\n    },\n    {\n      id: 'financial.process',\n      name: 'Process Payments',\n      description: 'Process rent payments and other transactions',\n      category: 'financial',\n      type: 'write',\n      status: 'active',\n      createdAt: '2024-01-15',\n      usageCount: 892,\n      roles: ['system_admin', 'company_admin', 'property_manager'],\n      locked: false\n    },\n    {\n      id: 'audit.view',\n      name: 'View Audit Logs',\n      description: 'Access system audit logs and history',\n      category: 'audit',\n      type: 'read',\n      status: 'active',\n      createdAt: '2024-01-15',\n      usageCount: 45,\n      roles: ['system_admin'],\n      locked: true\n    },\n    {\n      id: 'integrations.manage',\n      name: 'Manage Integrations',\n      description: 'Configure and manage third-party integrations',\n      category: 'integration',\n      type: 'write',\n      status: 'active',\n      createdAt: '2024-01-15',\n      usageCount: 67,\n      roles: ['system_admin'],\n      locked: true\n    },\n  ];\n\n  useEffect(() => {\n    loadPermissions();\n  }, []);\n\n  const loadPermissions = async () => {\n    setLoading(true);\n    try {\n      const data = await getPermissions();\n      setPermissions(data);\n    } catch (error) {\n      console.error('Failed to load permissions:', error);\n      // Use sample data for demo\n      setPermissions(samplePermissions);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSyncPermissions = async () => {\n    setSyncing(true);\n    try {\n      await syncPermissions();\n      loadPermissions();\n    } catch (error) {\n      console.error('Failed to sync permissions:', error);\n    } finally {\n      setSyncing(false);\n    }\n  };\n\n  const handleSelectPermission = (permissionId) => {\n    if (selectedPermissions.includes(permissionId)) {\n      setSelectedPermissions(selectedPermissions.filter(id => id !== permissionId));\n    } else {\n      setSelectedPermissions([...selectedPermissions, permissionId]);\n    }\n  };\n\n  const handleSelectAll = () => {\n    if (selectedPermissions.length === filteredPermissions.length) {\n      setSelectedPermissions([]);\n    } else {\n      setSelectedPermissions(filteredPermissions.map(p => p.id));\n    }\n  };\n\n  const handleBulkAction = (action) => {\n    // Handle bulk actions\n    console.log(`Bulk ${action} for permissions:`, selectedPermissions);\n    setSelectedPermissions([]);\n  };\n\n  const handleEditPermission = (permission) => {\n    setEditingPermission(permission);\n    setShowEditModal(true);\n  };\n\n  const handleSavePermission = async (updatedPermission) => {\n    try {\n      await updatePermission(updatedPermission.id, updatedPermission);\n      loadPermissions();\n      setShowEditModal(false);\n      setEditingPermission(null);\n    } catch (error) {\n      console.error('Failed to update permission:', error);\n    }\n  };\n\n  const filteredPermissions = permissions.filter(permission => {\n    const matchesSearch = \n      permission.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      permission.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      permission.id.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesCategory = selectedCategory === 'all' || permission.category === selectedCategory;\n    \n    return matchesSearch && matchesCategory;\n  });\n\n  const getCategoryStats = () => {\n    const stats = {};\n    categories.forEach(cat => {\n      if (cat.id !== 'all') {\n        stats[cat.id] = permissions.filter(p => p.category === cat.id).length;\n      }\n    });\n    return stats;\n  };\n\n  const categoryStats = getCategoryStats();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 p-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"animate-pulse\">\n            <div className=\"h-8 bg-gray-200 rounded w-1/4 mb-8\"></div>\n            <div className=\"grid grid-cols-1 gap-4\">\n              {[1, 2, 3, 4, 5].map(i => (\n                <div key={i} className=\"h-20 bg-gray-200 rounded-lg\"></div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-4 md:p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex flex-col md:flex-row md:items-center justify-between\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Permission Management</h1>\n              <p className=\"mt-2 text-gray-600\">\n                Manage system permissions and access controls\n              </p>\n            </div>\n            <div className=\"mt-4 md:mt-0 flex items-center space-x-3\">\n              <button\n                onClick={handleSyncPermissions}\n                disabled={syncing}\n                className=\"flex items-center px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50\"\n              >\n                <RefreshCw className={`w-4 h-4 mr-2 ${syncing ? 'animate-spin' : ''}`} />\n                {syncing ? 'Syncing...' : 'Sync Permissions'}\n              </button>\n              <button\n                onClick={() => {/* Add new permission */}}\n                className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n              >\n                <Plus className=\"w-4 h-4 mr-2\" />\n                Add Permission\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Overview */}\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8\">\n          {[\n            { label: 'Total Permissions', value: permissions.length, color: 'blue' },\n            { label: 'Active', value: permissions.filter(p => p.status === 'active').length, color: 'green' },\n            { label: 'Locked', value: permissions.filter(p => p.locked).length, color: 'red' },\n            { label: 'In Use', value: permissions.filter(p => p.usageCount > 0).length, color: 'purple' },\n          ].map((stat, index) => (\n            <div key={index} className=\"bg-white rounded-lg p-4 border border-gray-200\">\n              <p className=\"text-sm text-gray-600\">{stat.label}</p>\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">{stat.value}</p>\n            </div>\n          ))}\n        </div>\n\n        {/* Category Filter */}\n        <div className=\"mb-8\">\n          <h3 className=\"text-sm font-medium text-gray-700 mb-3\">Filter by Category</h3>\n          <div className=\"flex flex-wrap gap-2\">\n            {categories.map((category) => (\n              <button\n                key={category.id}\n                onClick={() => setSelectedCategory(category.id)}\n                className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                  selectedCategory === category.id\n                    ? `bg-${category.color}-100 text-${category.color}-800 border border-${category.color}-300`\n                    : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'\n                }`}\n              >\n                {category.name}\n                {category.id !== 'all' && (\n                  <span className={`ml-2 px-2 py-0.5 text-xs rounded-full ${\n                    selectedCategory === category.id\n                      ? `bg-${category.color}-200 text-${category.color}-900`\n                      : 'bg-gray-100 text-gray-600'\n                  }`}>\n                    {categoryStats[category.id] || 0}\n                  </span>\n                )}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Search and Actions */}\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8\">\n          <div className=\"flex flex-col md:flex-row md:items-center justify-between\">\n            <div className=\"flex-1 max-w-lg mb-4 md:mb-0\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search permissions by name, description, or ID...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-3\">\n              <button className=\"flex items-center px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\">\n                <Filter className=\"w-4 h-4 mr-2\" />\n                Filter\n              </button>\n              <button className=\"flex items-center px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\">\n                <Download className=\"w-4 h-4 mr-2\" />\n                Export\n              </button>\n            </div>\n          </div>\n\n          {/* Bulk Actions */}\n          {selectedPermissions.length > 0 && (\n            <div className=\"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center\">\n                  <CheckCircle className=\"w-5 h-5 text-blue-600 mr-2\" />\n                  <span className=\"font-medium text-blue-900\">\n                    {selectedPermissions.length} permission{selectedPermissions.length > 1 ? 's' : ''} selected\n                  </span>\n                </div>\n                <div className=\"flex items-center space-x-3\">\n                  <button\n                    onClick={() => handleBulkAction('activate')}\n                    className=\"px-3 py-1 text-sm bg-green-100 text-green-800 rounded-lg hover:bg-green-200\"\n                  >\n                    Activate\n                  </button>\n                  <button\n                    onClick={() => handleBulkAction('deactivate')}\n                    className=\"px-3 py-1 text-sm bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200\"\n                  >\n                    Deactivate\n                  </button>\n                  <button\n                    onClick={() => handleBulkAction('delete')}\n                    className=\"px-3 py-1 text-sm bg-red-100 text-red-800 rounded-lg hover:bg-red-200\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Permissions Table */}\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedPermissions.length === filteredPermissions.length && filteredPermissions.length > 0}\n                      onChange={handleSelectAll}\n                      className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                    />\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Permission\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Category\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Type\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Usage\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {filteredPermissions.map((permission) => (\n                  <tr key={permission.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedPermissions.includes(permission.id)}\n                        onChange={() => handleSelectPermission(permission.id)}\n                        className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                      />\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div>\n                        <div className=\"flex items-center\">\n                          <div className={`p-2 rounded-lg mr-3 ${\n                            permission.category === 'system' ? 'bg-red-100' :\n                            permission.category === 'user' ? 'bg-blue-100' :\n                            permission.category === 'property' ? 'bg-green-100' :\n                            permission.category === 'financial' ? 'bg-purple-100' :\n                            permission.category === 'audit' ? 'bg-yellow-100' :\n                            permission.category === 'integration' ? 'bg-indigo-100' :\n                            'bg-gray-100'\n                          }`}>\n                            <Shield className={`w-4 h-4 ${\n                              permission.category === 'system' ? 'text-red-600' :\n                              permission.category === 'user' ? 'text-blue-600' :\n                              permission.category === 'property' ? 'text-green-600' :\n                              permission.category === 'financial' ? 'text-purple-600' :\n                              permission.category === 'audit' ? 'text-yellow-600' :\n                              permission.category === 'integration' ? 'text-indigo-600' :\n                              'text-gray-600'\n                            }`} />\n                          </div>\n                          <div>\n                            <div className=\"font-medium text-gray-900\">{permission.name}</div>\n                            <div className=\"text-sm text-gray-500 mt-1\">{permission.description}</div>\n                            <div className=\"text-xs text-gray-400 mt-1 font-mono\">{permission.id}</div>\n                          </div>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                        permission.category === 'system' ? 'bg-red-100 text-red-800' :\n                        permission.category === 'user' ? 'bg-blue-100 text-blue-800' :\n                        permission.category === 'property' ? 'bg-green-100 text-green-800' :\n                        permission.category === 'financial' ? 'bg-purple-100 text-purple-800' :\n                        permission.category === 'audit' ? 'bg-yellow-100 text-yellow-800' :\n                        permission.category === 'integration' ? 'bg-indigo-100 text-indigo-800' :\n                        'bg-gray-100 text-gray-800'\n                      }`}>\n                        {permission.category}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                        permission.type === 'read' ? 'bg-blue-100 text-blue-800' :\n                        permission.type === 'write' ? 'bg-green-100 text-green-800' :\n                        permission.type === 'admin' ? 'bg-red-100 text-red-800' :\n                        'bg-gray-100 text-gray-800'\n                      }`}>\n                        {permission.type}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">{permission.usageCount}</div>\n                      <div className=\"text-xs text-gray-500\">\n                        {permission.roles?.length || 0} roles\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        {permission.status === 'active' ? (\n                          <>\n                            <div className=\"w-2 h-2 bg-green-500 rounded-full mr-2\"></div>\n                            <span className=\"text-sm text-green-700\">Active</span>\n                          </>\n                        ) : (\n                          <>\n                            <div className=\"w-2 h-2 bg-red-500 rounded-full mr-2\"></div>\n                            <span className=\"text-sm text-red-700\">Inactive</span>\n                          </>\n                        )}\n                        {permission.locked && (\n                          <Lock className=\"w-3 h-3 text-gray-400 ml-2\" />\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => handleEditPermission(permission)}\n                          className=\"text-blue-600 hover:text-blue-900\"\n                          title=\"View Details\"\n                        >\n                          <Eye className=\"w-4 h-4\" />\n                        </button>\n                        {!permission.locked && (\n                          <>\n                            <button\n                              onClick={() => handleEditPermission(permission)}\n                              className=\"text-green-600 hover:text-green-900\"\n                              title=\"Edit\"\n                            >\n                              <Edit2 className=\"w-4 h-4\" />\n                            </button>\n                            <button\n                              onClick={() => {\n                                setPermissionToDelete(permission);\n                                setShowDeleteModal(true);\n                              }}\n                              className=\"text-red-600 hover:text-red-900\"\n                              title=\"Delete\"\n                            >\n                              <Trash2 className=\"w-4 h-4\" />\n                            </button>\n                          </>\n                        )}\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n\n          {/* Empty State */}\n          {filteredPermissions.length === 0 && (\n            <div className=\"text-center py-12\">\n              <div className=\"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4\">\n                <Shield className=\"w-8 h-8 text-gray-400\" />\n              </div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No permissions found</h3>\n              <p className=\"text-gray-600\">\n                {searchTerm || selectedCategory !== 'all'\n                  ? 'Try adjusting your search or filters'\n                  : 'No permissions have been configured yet'}\n              </p>\n            </div>\n          )}\n        </div>\n\n        {/* Edit Modal */}\n        {showEditModal && editingPermission && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-xl max-w-2xl w-full p-6\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <h3 className=\"text-xl font-semibold text-gray-900\">\n                  Permission Details\n                </h3>\n                <button\n                  onClick={() => {\n                    setShowEditModal(false);\n                    setEditingPermission(null);\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <XCircle className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              <div className=\"space-y-6\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Permission Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={editingPermission.name}\n                    onChange={(e) => setEditingPermission({...editingPermission, name: e.target.value})}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Description\n                  </label>\n                  <textarea\n                    value={editingPermission.description}\n                    onChange={(e) => setEditingPermission({...editingPermission, description: e.target.value})}\n                    rows=\"3\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Category\n                    </label>\n                    <select\n                      value={editingPermission.category}\n                      onChange={(e) => setEditingPermission({...editingPermission, category: e.target.value})}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    >\n                      {categories.filter(c => c.id !== 'all').map(cat => (\n                        <option key={cat.id} value={cat.id}>{cat.name}</option>\n                      ))}\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Type\n                    </label>\n                    <select\n                      value={editingPermission.type}\n                      onChange={(e) => setEditingPermission({...editingPermission, type: e.target.value})}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    >\n                      <option value=\"read\">Read</option>\n                      <option value=\"write\">Write</option>\n                      <option value=\"admin\">Admin</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Status\n                    </label>\n                    <select\n                      value={editingPermission.status}\n                      onChange={(e) => setEditingPermission({...editingPermission, status: e.target.value})}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    >\n                      <option value=\"active\">Active</option>\n                      <option value=\"inactive\">Inactive</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Lock Status\n                    </label>\n                    <div className=\"flex items-center mt-2\">\n                      <input\n                        type=\"checkbox\"\n                        checked={editingPermission.locked}\n                        onChange={(e) => setEditingPermission({...editingPermission, locked: e.target.checked})}\n                        className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                      />\n                      <span className=\"ml-2 text-sm text-gray-700\">Locked (cannot be modified)</span>\n                    </div>\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Permission ID\n                  </label>\n                  <div className=\"font-mono text-sm bg-gray-50 p-3 rounded-lg border border-gray-200\">\n                    {editingPermission.id}\n                  </div>\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    This ID is used internally and cannot be changed\n                  </p>\n                </div>\n\n                {editingPermission.locked && (\n                  <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n                    <div className=\"flex\">\n                      <AlertTriangle className=\"w-5 h-5 text-yellow-400 mr-3\" />\n                      <div>\n                        <p className=\"text-sm text-yellow-800 font-medium\">System Permission</p>\n                        <p className=\"text-sm text-yellow-700 mt-1\">\n                          This permission is locked because it's required by system functionality.\n                          Some fields cannot be modified.\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"mt-8 flex justify-end space-x-3\">\n                <button\n                  onClick={() => {\n                    setShowEditModal(false);\n                    setEditingPermission(null);\n                  }}\n                  className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={() => handleSavePermission(editingPermission)}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                >\n                  Save Changes\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Delete Confirmation Modal */}\n        {showDeleteModal && permissionToDelete && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-xl max-w-md w-full p-6\">\n              <div className=\"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4\">\n                <Trash2 className=\"w-6 h-6 text-red-600\" />\n              </div>\n              <h3 className=\"text-lg font-semibold text-gray-900 text-center mb-2\">\n                Delete Permission\n              </h3>\n              <p className=\"text-gray-600 text-center mb-4\">\n                Are you sure you want to delete the permission \"{permissionToDelete.name}\"?\n              </p>\n              {permissionToDelete.usageCount > 0 && (\n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4\">\n                  <div className=\"flex\">\n                    <AlertTriangle className=\"w-5 h-5 text-yellow-400 mr-3\" />\n                    <div>\n                      <p className=\"text-sm text-yellow-800 font-medium\">Warning</p>\n                      <p className=\"text-sm text-yellow-700 mt-1\">\n                        This permission is used by {permissionToDelete.usageCount} role{permissionToDelete.usageCount !== 1 ? 's' : ''}. \n                        Deleting it may affect system functionality.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              )}\n              {permissionToDelete.locked && (\n                <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\n                  <div className=\"flex\">\n                    <Lock className=\"w-5 h-5 text-red-400 mr-3\" />\n                    <div>\n                      <p className=\"text-sm text-red-800 font-medium\">System Permission</p>\n                      <p className=\"text-sm text-red-700 mt-1\">\n                        This permission is locked and cannot be deleted because it's required by system functionality.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              )}\n              <div className=\"flex justify-center space-x-3\">\n                <button\n                  onClick={() => {\n                    setShowDeleteModal(false);\n                    setPermissionToDelete(null);\n                  }}\n                  className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n                {!permissionToDelete.locked && (\n                  <button\n                    onClick={() => {/* Handle delete */}}\n                    className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\n                  >\n                    Delete Permission\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SystemAdminPermissions;"],"names":["SystemAdminPermissions","useAuth","permissions","setPermissions","useState","loading","setLoading","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","selectedPermissions","setSelectedPermissions","showEditModal","setShowEditModal","showDeleteModal","setShowDeleteModal","editingPermission","setEditingPermission","permissionToDelete","setPermissionToDelete","syncing","setSyncing","categories","Shield","samplePermissions","useEffect","loadPermissions","data","error","handleSyncPermissions","handleSelectPermission","permissionId","id","handleSelectAll","filteredPermissions","p","handleBulkAction","action","handleEditPermission","permission","handleSavePermission","updatedPermission","matchesSearch","matchesCategory","categoryStats","stats","cat","jsx","jsxs","i","RefreshCw","Plus","stat","index","category","Search","e","Filter","Download","CheckCircle","_a","Fragment","Lock","Eye","Edit2","Trash2","XCircle","c","AlertTriangle"],"mappings":"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"}