import{j as s}from"./charts-9ec29004.js";import{r as e}from"./vendor-8b2b8b4f.js";import{u as w}from"./index-5e48a45e.js";import{H as y,S as j}from"./Sidebar-cd2326a2.js";import{b as C,u as E,O as L}from"./router-5c3dff30.js";import"./maps-f59a35be.js";import"../../node_modules/core-js/internals/globalThis-this";import"../../node_modules/core-js/internals/define-globalThis-property";import"./triangle-alert-7d51363f.js";import"./createLucideIcon-44004120.js";import"./search-d5f06d09.js";import"./bell-0988dbea.js";import"./clock-fe7c832a.js";import"./user-4764d9e9.js";import"./log-out-969f8e79.js";import"./info-4f1eee7f.js";import"./circle-alert-7301942b.js";import"./circle-check-big-f01bb21d.js";import"./chart-column-7f2a4b93.js";import"./house-f26bbae1.js";import"./users-cfc6270c.js";import"./wrench-406d1e2f.js";import"./credit-card-2e83ad54.js";import"./sun-81d582da.js";import"./message-square-83a760a0.js";import"./shield-6e8a0feb.js";import"./globe-f04a383c.js";import"./dollar-sign-bf4af0a8.js";import"./chart-pie-a957c5f2.js";import"./calendar-b48c8efe.js";import"./file-text-5d481075.js";import"./send-4e90f3a3.js";import"./trending-up-71d6a21a.js";import"./plug-1e48e907.js";import"./chevron-down-a2876420.js";import"./chevron-right-432ea5f4.js";function M({title:n,titleId:a,...o},i){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},o),n?e.createElement("title",{id:a},n):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const _=e.forwardRef(M),$=_;function R({title:n,titleId:a,...o},i){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},o),n?e.createElement("title",{id:a},n):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const A=e.forwardRef(R),O=A;function B({title:n,titleId:a,...o},i){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},o),n?e.createElement("title",{id:a},n):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const H=e.forwardRef(B),I=H;function P({title:n,titleId:a,...o},i){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},o),n?e.createElement("title",{id:a},n):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const S=e.forwardRef(P),N=S;function Z({title:n,titleId:a,...o},i){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},o),n?e.createElement("title",{id:a},n):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const F=e.forwardRef(Z),W=F;function T({title:n,titleId:a,...o},i){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},o),n?e.createElement("title",{id:a},n):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const V=e.forwardRef(T),D=V;function G({title:n,titleId:a,...o},i){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},o),n?e.createElement("title",{id:a},n):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const U=e.forwardRef(G),z=U;function q({title:n,titleId:a,...o},i){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},o),n?e.createElement("title",{id:a},n):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"}))}const J=e.forwardRef(q),K=J,Q={system_admin:["system.manage","users.manage","companies.manage","properties.manage","financials.manage","reports.view","settings.manage","audit.view"],company_admin:["company.manage","users.manage","properties.manage","financials.manage","reports.view","settings.manage","tenants.manage","maintenance.manage"],company_owner:["company.view","properties.view","financials.view","reports.view","users.view","tenants.view","maintenance.view"],portfolio_manager:["properties.manage","tenants.manage","maintenance.manage","financials.view","reports.view","tasks.manage","communications.manage"],property_manager:["property.manage","tenants.manage","maintenance.manage","tasks.manage","communications.manage","reports.view","financials.view"],leasing_specialist:["tenants.manage","applications.manage","showings.manage","marketing.manage","communications.manage","reports.view"],maintenance_supervisor:["maintenance.manage","vendors.manage","work_orders.manage","inspections.manage","inventory.manage","reports.view"],marketing_specialist:["marketing.manage","listings.manage","communications.manage","analytics.view","reports.view","media.manage"],financial_controller:["financials.manage","payments.manage","invoices.manage","reports.manage","budgets.manage","accounting.manage"],landlord:["property.view","tenants.view","maintenance.view","financials.view","reports.view","communications.view","tasks.view"],tenant:["profile.manage","payments.view","maintenance.create","communications.view","documents.view","lease.view"],vendor:["profile.manage","work_orders.view","invoices.manage","communications.view","schedule.manage","reports.view"],inspector:["inspections.manage","reports.create","properties.view","maintenance.view","communications.view","documents.manage"],accountant:["financials.view","reports.view","invoices.view","payments.view","budgets.view","accounting.manage"]},X=()=>{const{user:n,isAuthenticated:a}=w(),[o,i]=e.useState([]),d=e.useMemo(()=>n!=null&&n.role?Q[n.role]||[]:[],[n==null?void 0:n.role]),l=e.useMemo(()=>[...d,...o,...(n==null?void 0:n.permissions)||[]],[d,o,n==null?void 0:n.permissions]),t=e.useCallback(r=>!a||!n?!1:n.role==="system_admin"?!0:l.includes(r),[a,n,l]),g=e.useCallback(r=>Array.isArray(r)?r.some(p=>t(p)):!1,[t]),u=e.useCallback(r=>Array.isArray(r)?r.every(p=>t(p)):!1,[t]),m=e.useCallback(r=>!a||!n?!1:n.role===r,[a,n]),f=e.useCallback(r=>Array.isArray(r)?r.some(p=>m(p)):!1,[m]),v=e.useCallback(r=>t(`${r}.manage`),[t]),c=e.useCallback(r=>t(`${r}.view`)||t(`${r}.manage`),[t]),h=e.useCallback(r=>t(`${r}.create`)||t(`${r}.manage`),[t]),k=e.useCallback(r=>t(`${r}.edit`)||t(`${r}.manage`),[t]),b=e.useCallback(r=>t(`${r}.delete`)||t(`${r}.manage`),[t]),x=e.useCallback(()=>({dashboard:c("dashboard"),properties:c("properties"),tenants:c("tenants"),maintenance:c("maintenance"),financials:c("financials"),reports:c("reports"),users:c("users"),settings:c("settings"),communications:c("communications"),tasks:c("tasks")}),[c]);return{permissions:l,rolePermissions:d,customPermissions:o,hasPermission:t,hasAnyPermission:g,hasAllPermissions:u,hasRole:m,hasAnyRole:f,canManage:v,canView:c,canCreate:h,canEdit:k,canDelete:b,getMenuPermissions:x,setCustomPermissions:i}},Y=()=>s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),Pe=()=>{const{user:n,logout:a}=w(),{hasPermission:o}=X(),i=C(),d=E(),[l,t]=e.useState(!1);e.useEffect(()=>{t(!1)},[d.pathname]),[{name:"Dashboard",href:"/landlord",icon:D,permission:"view_landlord_dashboard"},{name:"My Properties",href:"/landlord/properties",icon:$,permission:"view_own_properties"},{name:"Tenants",href:"/landlord/tenants",icon:z,permission:"view_own_tenants"},{name:"Financials",href:"/landlord/financials",icon:N,permission:"view_own_financials"},{name:"Maintenance",href:"/landlord/maintenance",icon:K,permission:"view_own_maintenance"},{name:"Reports",href:"/landlord/reports",icon:O,permission:"view_own_reports"},{name:"Communications",href:"/landlord/communications",icon:W,permission:"view_own_communications"},{name:"Settings",href:"/landlord/settings",icon:I,permission:"edit_landlord_profile"}].filter(m=>!m.permission||o(m.permission));const u=async()=>{await a(),i("/login")};return s.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx(y,{user:n,onLogout:u,portalType:"landlord",showNotifications:!0,onMenuToggle:()=>t(!l)}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx(j,{isOpen:l}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx(e.Suspense,{fallback:s.jsx(Y,{}),children:s.jsx(L,{})})})]}),l&&s.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-50 lg:hidden",onClick:()=>t(!1)})]})};export{Pe as default};
//# sourceMappingURL=LandlordLayout-a4cde66b.js.map
