{"version":3,"file":"CompanyRoutes-9f267d71.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/arrow-up-down.js","../../../node_modules/lucide-react/dist/esm/icons/coffee.js","../../../node_modules/lucide-react/dist/esm/icons/history.js","../../../node_modules/lucide-react/dist/esm/icons/loader-circle.js","../../../node_modules/lucide-react/dist/esm/icons/navigation.js","../../../node_modules/lucide-react/dist/esm/icons/repeat-2.js","../../../node_modules/lucide-react/dist/esm/icons/rotate-ccw.js","../../../node_modules/lucide-react/dist/esm/icons/toggle-left.js","../../../node_modules/lucide-react/dist/esm/icons/toggle-right.js","../../../node_modules/lucide-react/dist/esm/icons/tv.js","../../../node_modules/lucide-react/dist/esm/icons/user-check.js","../../../node_modules/lucide-react/dist/esm/icons/utensils.js","../../src/components/common/CompanySidebar.jsx","../../src/layouts/CompanyLayout.jsx","../../src/pages/company/Dashboard.jsx","../../src/pages/company/PaymentManagement.jsx","../../src/pages/company/PaymentHistory.jsx","../../src/components/GenerateInvoiceModal.jsx","../../src/pages/company/PaymentInvoices.jsx","../../src/pages/company/PaymentRefunds.jsx","../../src/pages/company/PaymentSettings.jsx","../../src/pages/company/PropertyVerification.jsx","../../src/pages/company/Properties.jsx","../../src/pages/company/BnBProperties.jsx","../../src/pages/company/PendingProperties.jsx","../../src/pages/company/PropertyDocuments.jsx","../../src/components/common/UI/Button.jsx","../../src/components/common/UI/Modal.jsx","../../src/components/common/UI/Select.jsx","../../../node_modules/@heroicons/react/24/outline/esm/CheckCircleIcon.js","../../../node_modules/@heroicons/react/24/outline/esm/ExclamationTriangleIcon.js","../../../node_modules/@heroicons/react/24/outline/esm/InformationCircleIcon.js","../../../node_modules/@heroicons/react/24/outline/esm/XCircleIcon.js","../../../node_modules/@heroicons/react/24/outline/esm/XMarkIcon.js","../../src/components/common/UI/Alert.jsx","../../src/components/common/UI/Loader.jsx","../../src/pages/company/TenantVerification.jsx","../../src/pages/company/LandlordVerification.jsx","../../src/pages/company/ManagerVerification.jsx","../../src/pages/company/PendingVerification.jsx","../../src/pages/company/VerificationReports.jsx","../../src/pages/company/SupportTickets.jsx","../../src/pages/company/SupportChat.jsx","../../src/pages/company/SupportKB.jsx","../../src/pages/company/SupportIssues.jsx","../../src/pages/company/SupportReports.jsx","../../src/pages/company/transportation/Drivers.jsx","../../src/pages/company/transportation/Bookings.jsx","../../src/pages/company/transportation/Tracking.jsx","../../src/pages/company/transportation/Fleet.jsx","../../src/pages/company/transportation/Earnings.jsx","../../src/pages/company/communication/Messages.jsx","../../src/pages/company/communication/Announcements.jsx","../../src/pages/company/communication/Notifications.jsx","../../src/pages/company/communication/Templates.jsx","../../src/pages/company/communication/Logs.jsx","../../src/pages/company/security/Permissions.jsx","../../src/pages/company/security/Audit.jsx","../../src/pages/company/security/Data.jsx","../../src/pages/company/security/Compliance.jsx","../../src/pages/company/Settings.jsx","../../src/pages/company/SharingCollaboration.jsx","../../src/pages/company/PayOthers.jsx","../../src/routes/CompanyRoutes.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m21 16-4 4-4-4\", key: \"f6ql7i\" }],\n  [\"path\", { d: \"M17 20V4\", key: \"1ejh1v\" }],\n  [\"path\", { d: \"m3 8 4-4 4 4\", key: \"11wl7u\" }],\n  [\"path\", { d: \"M7 4v16\", key: \"1glfcx\" }]\n];\nconst ArrowUpDown = createLucideIcon(\"arrow-up-down\", __iconNode);\n\nexport { __iconNode, ArrowUpDown as default };\n//# sourceMappingURL=arrow-up-down.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 2v2\", key: \"7u0qdc\" }],\n  [\"path\", { d: \"M14 2v2\", key: \"6buw04\" }],\n  [\n    \"path\",\n    {\n      d: \"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1\",\n      key: \"pwadti\"\n    }\n  ],\n  [\"path\", { d: \"M6 2v2\", key: \"colzsn\" }]\n];\nconst Coffee = createLucideIcon(\"coffee\", __iconNode);\n\nexport { __iconNode, Coffee as default };\n//# sourceMappingURL=coffee.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }],\n  [\"path\", { d: \"M12 7v5l4 2\", key: \"1fdv2h\" }]\n];\nconst History = createLucideIcon(\"history\", __iconNode);\n\nexport { __iconNode, History as default };\n//# sourceMappingURL=history.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"M21 12a9 9 0 1 1-6.219-8.56\", key: \"13zald\" }]];\nconst LoaderCircle = createLucideIcon(\"loader-circle\", __iconNode);\n\nexport { __iconNode, LoaderCircle as default };\n//# sourceMappingURL=loader-circle.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"polygon\", { points: \"3 11 22 2 13 21 11 13 3 11\", key: \"1ltx0t\" }]\n];\nconst Navigation = createLucideIcon(\"navigation\", __iconNode);\n\nexport { __iconNode, Navigation as default };\n//# sourceMappingURL=navigation.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m2 9 3-3 3 3\", key: \"1ltn5i\" }],\n  [\"path\", { d: \"M13 18H7a2 2 0 0 1-2-2V6\", key: \"1r6tfw\" }],\n  [\"path\", { d: \"m22 15-3 3-3-3\", key: \"4rnwn2\" }],\n  [\"path\", { d: \"M11 6h6a2 2 0 0 1 2 2v10\", key: \"2f72bc\" }]\n];\nconst Repeat2 = createLucideIcon(\"repeat-2\", __iconNode);\n\nexport { __iconNode, Repeat2 as default };\n//# sourceMappingURL=repeat-2.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }]\n];\nconst RotateCcw = createLucideIcon(\"rotate-ccw\", __iconNode);\n\nexport { __iconNode, RotateCcw as default };\n//# sourceMappingURL=rotate-ccw.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"9\", cy: \"12\", r: \"3\", key: \"u3jwor\" }],\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"5\", rx: \"7\", key: \"g7kal2\" }]\n];\nconst ToggleLeft = createLucideIcon(\"toggle-left\", __iconNode);\n\nexport { __iconNode, ToggleLeft as default };\n//# sourceMappingURL=toggle-left.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"15\", cy: \"12\", r: \"3\", key: \"1afu0r\" }],\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"5\", rx: \"7\", key: \"g7kal2\" }]\n];\nconst ToggleRight = createLucideIcon(\"toggle-right\", __iconNode);\n\nexport { __iconNode, ToggleRight as default };\n//# sourceMappingURL=toggle-right.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m17 2-5 5-5-5\", key: \"16satq\" }],\n  [\"rect\", { width: \"20\", height: \"15\", x: \"2\", y: \"7\", rx: \"2\", key: \"1e6viu\" }]\n];\nconst Tv = createLucideIcon(\"tv\", __iconNode);\n\nexport { __iconNode, Tv as default };\n//# sourceMappingURL=tv.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m16 11 2 2 4-4\", key: \"9rsbq5\" }],\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }]\n];\nconst UserCheck = createLucideIcon(\"user-check\", __iconNode);\n\nexport { __iconNode, UserCheck as default };\n//# sourceMappingURL=user-check.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2\", key: \"cjf0a3\" }],\n  [\"path\", { d: \"M7 2v20\", key: \"1473qp\" }],\n  [\"path\", { d: \"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7\", key: \"j28e5\" }]\n];\nconst Utensils = createLucideIcon(\"utensils\", __iconNode);\n\nexport { __iconNode, Utensils as default };\n//# sourceMappingURL=utensils.js.map\n","import React, { useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { \n  LayoutDashboard, CreditCard, Home, CheckCircle, Users, Headphones, \n  Truck, MessageSquare, Settings, ChevronDown, Menu, X, Shield,\n  Building2, DollarSign, AlertCircle, FileCheck, UserCheck, Share2, Send\n} from 'lucide-react';\n\nconst CompanySidebar = ({ isOpen, setIsOpen }) => {\n  const location = useLocation();\n  const [expandedMenu, setExpandedMenu] = useState(null);\n\n  const menuItems = [\n    {\n      label: 'Dashboard',\n      icon: LayoutDashboard,\n      path: '/company',\n      badge: null\n    },\n    {\n      label: 'Payment Management',\n      icon: CreditCard,\n      submenu: [\n        { label: 'All Payments', path: '/company/payments' },\n        { label: 'Payment History', path: '/company/payments/history' },\n        { label: 'Invoices', path: '/company/payments/invoices' },\n        { label: 'Refunds', path: '/company/payments/refunds' },\n        { label: 'Payment Settings', path: '/company/payments/settings' },\n        { label: 'Pay Others', path: '/company/pay-others' }\n      ]\n    },\n    {\n      label: 'Property Management',\n      icon: Home,\n      submenu: [\n        { label: 'All Properties', path: '/company/properties' },\n        { label: 'Property Verification', path: '/company/properties/verification' },\n        { label: 'BNB & Guest Houses', path: '/company/properties/bnb' },\n        { label: 'Pending Approvals', path: '/company/properties/pending', badge: '12' },\n        { label: 'Property Documents', path: '/company/properties/documents' }\n      ]\n    },\n    {\n      label: 'User Verification',\n      icon: UserCheck,\n      submenu: [\n        { label: 'Verify Tenants', path: '/company/verification/tenants' },\n        { label: 'Verify Landlords', path: '/company/verification/landlords' },\n        { label: 'Verify Managers', path: '/company/verification/managers' },\n        { label: 'Pending Verification', path: '/company/verification/pending', badge: '8' },\n        { label: 'Verification Reports', path: '/company/verification/reports' }\n      ]\n    },\n    {\n      label: 'Client Support',\n      icon: Headphones,\n      submenu: [\n        { label: 'Support Tickets', path: '/company/support/tickets', badge: '5' },\n        { label: 'Live Chat', path: '/company/support/chat' },\n        { label: 'Knowledge Base', path: '/company/support/kb' },\n        { label: 'Issue Resolution', path: '/company/support/issues' },\n        { label: 'Support Reports', path: '/company/support/reports' }\n      ]\n    },\n    {\n      label: 'Transportation',\n      icon: Truck,\n      submenu: [\n        { label: 'Driver Management', path: '/company/transportation/drivers' },\n        { label: 'Bookings', path: '/company/transportation/bookings' },\n        { label: 'Routes & Tracking', path: '/company/transportation/tracking' },\n        { label: 'Vehicle Fleet', path: '/company/transportation/fleet' },\n        { label: 'Earnings Report', path: '/company/transportation/earnings' }\n      ]\n    },\n    {\n      label: 'System Communication',\n      icon: MessageSquare,\n      submenu: [\n        { label: 'Messages', path: '/company/communication/messages' },\n        { label: 'Announcements', path: '/company/communication/announcements' },\n        { label: 'Notifications', path: '/company/communication/notifications' },\n        { label: 'Email Templates', path: '/company/communication/templates' },\n        { label: 'Communication Logs', path: '/company/communication/logs' }\n      ]\n    },\n    {\n      label: 'Security & Compliance',\n      icon: Shield,\n      submenu: [\n        { label: 'User Permissions', path: '/company/security/permissions' },\n        { label: 'Audit Logs', path: '/company/security/audit' },\n        { label: 'Data Protection', path: '/company/security/data' },\n        { label: 'Compliance Reports', path: '/company/security/compliance' }\n      ]\n    },\n    {\n      label: 'Sharing & Collaboration',\n      icon: Share2,\n      path: '/company/sharing'\n    },\n    {\n      label: 'Settings',\n      icon: Settings,\n      path: '/company/settings'\n    }\n  ];\n\n  const isActive = (path) => location.pathname === path;\n  const isSubmenuActive = (submenu) => submenu?.some(item => isActive(item.path));\n\n  return (\n    <>\n      {/* Mobile Toggle */}\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"fixed top-4 left-4 z-50 lg:hidden p-2 bg-orange-600 text-white rounded-lg\"\n      >\n        {isOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\n      </button>\n\n      {/* Sidebar */}\n      <div\n        className={`fixed left-0 top-0 h-screen w-64 bg-gradient-to-b from-slate-900 to-slate-800 text-white overflow-y-auto transition-transform duration-300 z-40 lg:translate-x-0 ${\n          isOpen ? 'translate-x-0' : '-translate-x-full'\n        }`}\n      >\n        {/* Logo */}\n        <div className=\"p-6 border-b border-slate-700\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 bg-orange-600 rounded-lg\">\n              <Building2 className=\"w-6 h-6\" />\n            </div>\n            <div>\n              <h1 className=\"text-xl font-bold\">StaySpot</h1>\n              <p className=\"text-xs text-slate-400\">Admin Panel</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Menu Items */}\n        <nav className=\"p-4 space-y-2\">\n          {menuItems.map((item, idx) => {\n            const Icon = item.icon;\n            const hasSubmenu = item.submenu;\n            const isItemActive = isActive(item.path) || isSubmenuActive(item.submenu);\n\n            return (\n              <div key={idx}>\n                {hasSubmenu ? (\n                  <button\n                    onClick={() => setExpandedMenu(expandedMenu === idx ? null : idx)}\n                    className={`w-full flex items-center justify-between px-4 py-3 rounded-lg transition ${\n                      isSubmenuActive(item.submenu)\n                        ? 'bg-orange-600 text-white'\n                        : 'text-slate-300 hover:bg-slate-700'\n                    }`}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <Icon className=\"w-5 h-5\" />\n                      <span className=\"font-medium\">{item.label}</span>\n                    </div>\n                    <ChevronDown\n                      className={`w-4 h-4 transition ${expandedMenu === idx ? 'rotate-180' : ''}`}\n                    />\n                  </button>\n                ) : (\n                  <Link\n                    to={item.path}\n                    onClick={() => setIsOpen(false)}\n                    className={`flex items-center justify-between px-4 py-3 rounded-lg transition ${\n                      isActive(item.path)\n                        ? 'bg-orange-600 text-white'\n                        : 'text-slate-300 hover:bg-slate-700'\n                    }`}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <Icon className=\"w-5 h-5\" />\n                      <span className=\"font-medium\">{item.label}</span>\n                    </div>\n                    {item.badge && (\n                      <span className=\"text-xs bg-red-600 px-2 py-1 rounded-full\">{item.badge}</span>\n                    )}\n                  </Link>\n                )}\n\n                {/* Submenu */}\n                {hasSubmenu && expandedMenu === idx && (\n                  <div className=\"mt-2 ml-4 space-y-1 border-l border-slate-700 pl-4\">\n                    {item.submenu.map((subitem, subidx) => (\n                      <Link\n                        key={subidx}\n                        to={subitem.path}\n                        onClick={() => setIsOpen(false)}\n                        className={`flex items-center justify-between px-4 py-2 rounded-lg text-sm transition ${\n                          isActive(subitem.path)\n                            ? 'bg-orange-600 text-white'\n                            : 'text-slate-400 hover:text-slate-200 hover:bg-slate-700'\n                        }`}\n                      >\n                        <span>{subitem.label}</span>\n                        {subitem.badge && (\n                          <span className=\"text-xs bg-red-600 px-2 py-0.5 rounded-full\">{subitem.badge}</span>\n                        )}\n                      </Link>\n                    ))}\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </nav>\n\n        {/* Footer */}\n        <div className=\"absolute bottom-0 left-0 right-0 p-4 border-t border-slate-700 bg-slate-900\">\n          <div className=\"text-xs text-slate-400 text-center\">\n            <p>StaySpot Admin v1.0</p>\n            <p className=\"mt-1\">Â© 2024 All Rights Reserved</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile Overlay */}\n      {isOpen && (\n        <div\n          className=\"fixed inset-0 bg-black/50 z-30 lg:hidden\"\n          onClick={() => setIsOpen(false)}\n        />\n      )}\n    </>\n  );\n};\n\nexport default CompanySidebar;\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport CompanySidebar from '../components/common/CompanySidebar';\nimport { useThemeMode } from '../hooks/useThemeMode';\nimport { LogOut, User, Lock } from 'lucide-react';\n\nconst CompanyLayout = ({ children }) => {\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [showUserMenu, setShowUserMenu] = useState(false);\n  const { isDarkMode } = useThemeMode();\n  const navigate = useNavigate();\n  const user = { name: 'Admin User', email: 'admin@stayspot.com' };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/login');\n  };\n\n  const handleChangePassword = () => {\n    navigate('/company/settings');\n    setShowUserMenu(false);\n  };\n\n  const handleAccount = () => {\n    navigate('/company/settings');\n    setShowUserMenu(false);\n  };\n\n  return (\n    <div className={`flex h-screen ${isDarkMode ? 'bg-slate-950' : 'bg-slate-50'}`}>\n      {/* Sidebar */}\n      <div className=\"hidden lg:block w-64 flex-shrink-0\">\n        <CompanySidebar isOpen={sidebarOpen} setIsOpen={setSidebarOpen} />\n      </div>\n\n      {/* Mobile Sidebar */}\n      {sidebarOpen && (\n        <div className=\"lg:hidden fixed inset-0 z-40\">\n          <CompanySidebar isOpen={sidebarOpen} setIsOpen={setSidebarOpen} />\n        </div>\n      )}\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\n        {/* Header */}\n        <div className={`border-b ${isDarkMode ? 'bg-slate-900 border-slate-800' : 'bg-white border-slate-200'} px-6 py-4 flex items-center justify-between lg:hidden`}>\n          <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>StaySpot Admin</h1>\n          <button \n            onClick={() => setSidebarOpen(!sidebarOpen)}\n            className={`p-2 rounded-lg ${isDarkMode ? 'hover:bg-slate-800' : 'hover:bg-slate-100'}`}\n          >\n            <svg className={`w-6 h-6 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n            </svg>\n          </button>\n        </div>\n\n        {/* Desktop Header */}\n        <div className={`hidden lg:flex border-b ${isDarkMode ? 'bg-slate-900 border-slate-800' : 'bg-white border-slate-200'} px-6 py-4 items-center justify-between`}>\n          <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>StaySpot Admin</h1>\n          <div className=\"flex items-center gap-4\">\n            <button className={`p-2 rounded-lg ${isDarkMode ? 'hover:bg-slate-800' : 'hover:bg-slate-100'}`}>\n              <svg className={`w-6 h-6 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\n              </svg>\n            </button>\n            <div className=\"relative\">\n              <button \n                onClick={() => setShowUserMenu(!showUserMenu)}\n                className={`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${isDarkMode ? 'bg-orange-600 hover:bg-orange-700' : 'bg-orange-600 hover:bg-orange-700'}`}\n              >\n                {user.name.charAt(0)}\n              </button>\n              {showUserMenu && (\n                <div className={`absolute right-0 mt-2 w-48 rounded-lg shadow-lg z-50 ${isDarkMode ? 'bg-slate-800 border border-slate-700' : 'bg-white border border-slate-200'}`}>\n                  <div className={`px-4 py-3 border-b ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}`}>\n                    <p className={`font-semibold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{user.name}</p>\n                    <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{user.email}</p>\n                  </div>\n                  <button \n                    onClick={handleAccount}\n                    className={`w-full text-left px-4 py-2 flex items-center gap-2 ${isDarkMode ? 'hover:bg-slate-700 text-slate-300' : 'hover:bg-slate-100 text-slate-900'}`}\n                  >\n                    <User className=\"w-4 h-4\" /> Account\n                  </button>\n                  <button \n                    onClick={handleChangePassword}\n                    className={`w-full text-left px-4 py-2 flex items-center gap-2 ${isDarkMode ? 'hover:bg-slate-700 text-slate-300' : 'hover:bg-slate-100 text-slate-900'}`}\n                  >\n                    <Lock className=\"w-4 h-4\" /> Change Password\n                  </button>\n                  <button \n                    onClick={handleLogout}\n                    className={`w-full text-left px-4 py-2 flex items-center gap-2 border-t ${isDarkMode ? 'border-slate-700 hover:bg-slate-700 text-red-400' : 'border-slate-200 hover:bg-slate-100 text-red-600'}`}\n                  >\n                    <LogOut className=\"w-4 h-4\" /> Logout\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Content Area */}\n        <div className={`flex-1 overflow-auto ${isDarkMode ? 'bg-slate-950' : 'bg-slate-50'}`}>\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CompanyLayout;\n","import React, { useState, useEffect } from 'react';\nimport { Building, Users, DollarSign, ArrowUpRight, BarChart3, Activity, Download, Globe, Zap, Shield, AlertCircle, CheckCircle, Truck } from 'lucide-react';\nimport { useThemeMode } from '../../hooks/useThemeMode';\nimport axios from 'axios';\n\nconst CompanyDashboard = () => {\n  const { isDarkMode } = useThemeMode();\n  const [timeRange, setTimeRange] = useState('month');\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [moderators, setModerators] = useState([]);\n\n  const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';\n\n  const mockData = {\n    stats: [\n      { label: 'Total Properties', value: 1240, change: '+8.5%', icon: Building, color: 'blue' },\n      { label: 'Active Users', value: '45.2K', change: '+12.3%', icon: Users, color: 'purple' },\n      { label: 'Platform Revenue', value: 'KES 245M', change: '+18.7%', icon: DollarSign, color: 'green' },\n      { label: 'System Health', value: '99.8%', change: '+0.2%', icon: Zap, color: 'orange' },\n      { label: 'Moderators', value: 12, change: '+2', icon: Shield, color: 'blue' }\n    ],\n    moderators: [\n      { id: 1, name: 'James Kipchoge', email: 'james@example.com', status: 'active', actions: 245 },\n      { id: 2, name: 'Mary Wanjiru', email: 'mary@example.com', status: 'active', actions: 189 },\n      { id: 3, name: 'Peter Omondi', email: 'peter@example.com', status: 'active', actions: 156 }\n    ],\n    drivers: [\n      { id: 1, name: 'James Kipchoge', email: 'james@example.com', status: 'active', trips: 245 },\n      { id: 2, name: 'Mary Wanjiru', email: 'mary@example.com', status: 'active', trips: 189 }\n    ],\n    bookings: [\n      { id: 'BK001', passenger_name: 'Peter Omondi', status: 'completed', fare: 2500 },\n      { id: 'BK002', passenger_name: 'Grace Muthoni', status: 'in_progress', fare: 1800 },\n      { id: 'BK003', passenger_name: 'David Kiplagat', status: 'pending', fare: 1200 },\n      { id: 'BK004', passenger_name: 'Amina Hassan', status: 'completed', fare: 950 },\n      { id: 'BK005', passenger_name: 'Samuel Kariuki', status: 'accepted', fare: 1500 }\n    ],\n    revenue: [\n      { month: 'Jan', percent: 60 }, { month: 'Feb', percent: 65 }, { month: 'Mar', percent: 70 },\n      { month: 'Apr', percent: 75 }, { month: 'May', percent: 78 }, { month: 'Jun', percent: 82 }\n    ],\n    companies: [\n      { name: 'Nairobi Transport Ltd', revenue: 'KES 245K' },\n      { name: 'Mombasa Logistics Co', revenue: 'KES 187K' },\n      { name: 'Kisumu Rentals Ltd', revenue: 'KES 156K' },\n      { name: 'Nakuru Management', revenue: 'KES 134K' },\n      { name: 'Eldoret Properties', revenue: 'KES 98K' }\n    ]\n  };\n\n  useEffect(() => {\n    fetchDashboardData();\n    fetchModerators();\n  }, [timeRange]);\n\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${API_URL}/management/dashboard`, {\n        params: { period: timeRange },\n        headers: { Authorization: `Bearer ${token}` },\n        timeout: 5000\n      });\n      \n      if (response.data?.success && response.data?.data) {\n        setData(response.data.data);\n      } else {\n        setData(mockData);\n      }\n    } catch (error) {\n      console.log('Using mock data:', error.message);\n      setData(mockData);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchModerators = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${API_URL}/security/user-roles?limit=5`, {\n        headers: { Authorization: `Bearer ${token}` },\n        timeout: 5000\n      });\n      if (response.data?.data) {\n        setModerators(response.data.data);\n      } else {\n        setModerators(mockData.moderators);\n      }\n    } catch (error) {\n      setModerators(mockData.moderators);\n    }\n  };\n\n  const displayData = data || mockData;\n  const stats = displayData.stats || mockData.stats;\n  const revenue = displayData.revenue || mockData.revenue;\n  const companies = displayData.companies || mockData.companies;\n  const displayModerators = moderators.length > 0 ? moderators : mockData.moderators;\n  const displayDrivers = displayData.drivers || mockData.drivers;\n  const displayBookings = displayData.bookings || mockData.bookings;\n\n  const colorMap = { blue: 'from-blue-500 to-blue-600', purple: 'from-purple-500 to-purple-600', green: 'from-green-500 to-green-600', orange: 'from-orange-500 to-orange-600' };\n\n  const getStatusColor = (status) => {\n    const colors = {\n      active: 'text-green-600',\n      inactive: 'text-red-600',\n      completed: 'text-green-600',\n      in_progress: 'text-blue-600',\n      pending: 'text-yellow-600',\n      accepted: 'text-blue-600'\n    };\n    return colors[status] || 'text-gray-600';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-96\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4\"></div>\n          <p className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>Loading dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-8\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className={`text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Dashboard</h1>\n          <p className={`text-sm mt-1 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>System-wide analytics and management</p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <select value={timeRange} onChange={(e) => setTimeRange(e.target.value)} className={`px-4 py-2 rounded-lg border font-semibold ${isDarkMode ? 'border-slate-700 bg-slate-800 text-white' : 'border-purple-200 bg-white text-slate-900'}`}>\n            <option value=\"week\">This Week</option>\n            <option value=\"month\">This Month</option>\n            <option value=\"quarter\">This Quarter</option>\n            <option value=\"year\">This Year</option>\n          </select>\n          <button className={`p-2 rounded-lg ${isDarkMode ? 'bg-slate-800' : 'bg-white'}`}>\n            <Download className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\">\n        {stats.map((stat, idx) => {\n          const Icon = stat.icon;\n          return (\n            <div key={idx} className={`rounded-2xl shadow-xl p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white/80 border-purple-200/50'}`}>\n              <div className=\"flex items-start justify-between mb-4\">\n                <div className={`p-3 bg-gradient-to-br ${colorMap[stat.color]} rounded-lg shadow-lg`}>\n                  <Icon className=\"w-6 h-6 text-white\" />\n                </div>\n                <div className=\"flex items-center gap-1 text-sm font-semibold text-green-600\">\n                  <ArrowUpRight className=\"w-4 h-4\" />\n                  {stat.change}\n                </div>\n              </div>\n              <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{stat.label}</p>\n              <p className={`text-2xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{stat.value}</p>\n            </div>\n          );\n        })}\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        <div className={`lg:col-span-2 rounded-2xl shadow-xl p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white/80 border-purple-200/50'}`}>\n          <div className=\"flex items-center gap-2 mb-6\">\n            <BarChart3 className=\"w-5 h-5 text-orange-600\" />\n            <h2 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Revenue Trend</h2>\n          </div>\n          <div className=\"space-y-4\">\n            {revenue.map((item, idx) => (\n              <div key={idx}>\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className={`text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>{item.month}</span>\n                  <span className={`text-sm font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>KES {(1.8 + idx * 0.15).toFixed(2)}M</span>\n                </div>\n                <div className={`w-full h-2 rounded-full ${isDarkMode ? 'bg-slate-700' : 'bg-slate-200'}`}>\n                  <div className=\"bg-gradient-to-r from-orange-500 to-red-600 h-2 rounded-full\" style={{ width: `${item.percent}%` }}></div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className={`rounded-2xl shadow-xl p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white/80 border-purple-200/50'}`}>\n          <div className=\"flex items-center gap-2 mb-6\">\n            <Shield className=\"w-5 h-5 text-blue-600\" />\n            <h2 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Moderators</h2>\n          </div>\n          <div className=\"space-y-3\">\n            {displayModerators.slice(0, 4).map((mod, idx) => (\n              <div key={idx} className={`p-3 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex-1\">\n                    <p className={`font-semibold text-sm ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{mod.name}</p>\n                    <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{mod.email}</p>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    {mod.status === 'active' ? <CheckCircle className=\"w-4 h-4 text-green-600\" /> : <AlertCircle className=\"w-4 h-4 text-red-600\" />}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n        <div className={`rounded-2xl shadow-xl p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white/80 border-purple-200/50'}`}>\n          <div className=\"flex items-center gap-2 mb-6\">\n            <Truck className=\"w-5 h-5 text-orange-600\" />\n            <h2 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Active Drivers</h2>\n          </div>\n          <div className=\"space-y-3\">\n            {displayDrivers.map((driver, idx) => (\n              <div key={idx} className={`p-3 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex-1\">\n                    <p className={`font-semibold text-sm ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{driver.name}</p>\n                    <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{driver.email}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{driver.trips} trips</p>\n                    <span className={`text-xs font-semibold ${getStatusColor(driver.status)}`}>{driver.status}</span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className={`rounded-2xl shadow-xl p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white/80 border-purple-200/50'}`}>\n          <div className=\"flex items-center gap-2 mb-6\">\n            <Activity className=\"w-5 h-5 text-blue-600\" />\n            <h2 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Recent Bookings</h2>\n          </div>\n          <div className=\"space-y-3\">\n            {displayBookings.slice(0, 5).map((booking, idx) => (\n              <div key={idx} className={`p-3 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex-1\">\n                    <p className={`font-semibold text-sm ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{booking.passenger_name}</p>\n                    <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{booking.id}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-sm font-bold text-green-600\">KES {booking.fare}</p>\n                    <span className={`text-xs font-semibold ${getStatusColor(booking.status)}`}>{booking.status}</span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className={`rounded-2xl shadow-xl p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white/80 border-purple-200/50'}`}>\n        <div className=\"flex items-center gap-2 mb-6\">\n          <Activity className=\"w-5 h-5 text-blue-600\" />\n          <h2 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Top Companies</h2>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\n          {companies.map((company, idx) => (\n            <div key={idx} className={`p-4 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n              <div className=\"flex items-center justify-between\">\n                <p className={`font-semibold text-sm ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{company.name}</p>\n                <span className=\"text-xs px-2 py-1 bg-green-100 text-green-800 rounded-full\">{company.revenue}</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CompanyDashboard;\n","import React, { useState, useEffect } from 'react';\nimport { CreditCard, Download, Filter, Search, Eye, Edit, Trash2, Plus, TrendingUp, AlertCircle, CheckCircle, X, Calendar, Clock, FileText, DollarSign, User, Building2, Check } from 'lucide-react';\nimport { useThemeMode } from '../../hooks/useThemeMode';\nimport axios from 'axios';\n\nconst PaymentManagement = () => {\n  const { isDarkMode } = useThemeMode();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [payments, setPayments] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [step, setStep] = useState(1);\n  const [formData, setFormData] = useState({\n    recipientType: 'landlord',\n    recipient: '',\n    amount: '',\n    method: 'bank',\n    description: '',\n    dueDate: '',\n    scheduleType: 'once',\n    frequency: 'monthly',\n    reference: '',\n    notes: '',\n    attachments: []\n  });\n\n  const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';\n\n  useEffect(() => {\n    fetchPayments();\n  }, [filterStatus]);\n\n  const fetchPayments = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const response = await axios.get(`${API_URL}/payments`, {\n        params: { status: filterStatus !== 'all' ? filterStatus : undefined },\n        headers: { Authorization: `Bearer ${token}` },\n        timeout: 5000\n      });\n\n      if (response.data?.success && response.data?.data) {\n        const paymentsData = response.data.data;\n        setPayments(Array.isArray(paymentsData) ? paymentsData : []);\n        \n        const completed = paymentsData.filter(p => p.status === 'completed');\n        const pending = paymentsData.filter(p => p.status === 'pending');\n        const failed = paymentsData.filter(p => p.status === 'failed');\n        \n        const totalRevenue = completed.reduce((sum, p) => sum + (p.amount || 0), 0);\n        const pendingAmount = pending.reduce((sum, p) => sum + (p.amount || 0), 0);\n        const failedAmount = failed.reduce((sum, p) => sum + (p.amount || 0), 0);\n\n        setStats({\n          totalRevenue: `$${(totalRevenue / 1000).toFixed(1)}K`,\n          pendingPayments: `$${(pendingAmount / 1000).toFixed(1)}K`,\n          failedPayments: `$${(failedAmount / 1000).toFixed(1)}K`,\n          refunds: '$45K'\n        });\n      }\n    } catch (error) {\n      console.log('Error fetching payments:', error.message);\n      setPayments([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const paymentStats = [\n    { label: 'Total Revenue', value: stats?.totalRevenue || '$0', change: '+18.7%', icon: 'ðŸ’°' },\n    { label: 'Pending Payments', value: stats?.pendingPayments || '$0', change: 'transactions', icon: 'â³' },\n    { label: 'Failed Payments', value: stats?.failedPayments || '$0', change: 'transactions', icon: 'âŒ' },\n    { label: 'Refunds Issued', value: stats?.refunds || '$0', change: 'This month', icon: 'â†©ï¸' }\n  ];\n\n  const filteredPayments = payments.filter(payment => {\n    const matchesSearch = !searchTerm || \n      payment.id?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      payment.company?.toLowerCase().includes(searchTerm.toLowerCase());\n    return matchesSearch;\n  });\n\n  const getStatusColor = (status) => {\n    const colors = {\n      completed: isDarkMode ? 'bg-green-900/20 text-green-400' : 'bg-green-100 text-green-800',\n      pending: isDarkMode ? 'bg-yellow-900/20 text-yellow-400' : 'bg-yellow-100 text-yellow-800',\n      failed: isDarkMode ? 'bg-red-900/20 text-red-400' : 'bg-red-100 text-red-800'\n    };\n    return colors[status] || colors.pending;\n  };\n\n  const formatAmount = (amount) => {\n    return `$${(amount || 0).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n  };\n\n  const formatDate = (date) => {\n    return new Date(date).toLocaleDateString('en-US', { year: 'numeric', month: '2-digit', day: '2-digit' });\n  };\n\n  const handleCreatePayment = () => {\n    if (formData.recipient && formData.amount && formData.method) {\n      setPayments([{\n        id: 'TXN' + Date.now(),\n        company: formData.recipient,\n        amount: parseFloat(formData.amount),\n        status: 'pending',\n        method: formData.method,\n        createdAt: new Date()\n      }, ...payments]);\n      setShowModal(false);\n      setStep(1);\n      setFormData({\n        recipientType: 'landlord',\n        recipient: '',\n        amount: '',\n        method: 'bank',\n        description: '',\n        dueDate: '',\n        scheduleType: 'once',\n        frequency: 'monthly',\n        reference: '',\n        notes: '',\n        attachments: []\n      });\n    }\n  };\n\n  const handleClose = () => {\n    setShowModal(false);\n    setStep(1);\n    setFormData({\n      recipientType: 'landlord',\n      recipient: '',\n      amount: '',\n      method: 'bank',\n      description: '',\n      dueDate: '',\n      scheduleType: 'once',\n      frequency: 'monthly',\n      reference: '',\n      notes: '',\n      attachments: []\n    });\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-950' : 'bg-gradient-to-br from-slate-50 to-slate-100'}`}>\n      {/* Header */}\n      <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-900/50' : 'border-slate-200 bg-white/40'} backdrop-blur-xl sticky top-0 z-10`}>\n        <div className=\"max-w-7xl mx-auto px-6 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg\">\n                <CreditCard className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Payment Management</h1>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Track and manage all platform payments</p>\n              </div>\n            </div>\n            <button onClick={() => setShowModal(true)} className=\"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition\">\n              <Plus className=\"w-5 h-5\" /> New Payment\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          {paymentStats.map((stat, idx) => (\n            <div key={idx} className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <div className=\"flex items-center justify-between mb-3\">\n                <span className=\"text-2xl\">{stat.icon}</span>\n                <span className=\"text-xs font-semibold text-green-600\">{stat.change}</span>\n              </div>\n              <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{stat.label}</p>\n              <p className={`text-2xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{stat.value}</p>\n            </div>\n          ))}\n        </div>\n\n        {/* Filters & Search */}\n        <div className={`rounded-xl shadow p-6 border mb-6 ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"absolute left-3 top-3 w-5 h-5 text-slate-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search by transaction ID or company...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`w-full pl-10 pr-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n              />\n            </div>\n            <select\n              value={filterStatus}\n              onChange={(e) => setFilterStatus(e.target.value)}\n              className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"completed\">Completed</option>\n              <option value=\"pending\">Pending</option>\n              <option value=\"failed\">Failed</option>\n            </select>\n            <button className={`px-4 py-2 rounded-lg border flex items-center gap-2 ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-slate-50 border-slate-300 text-slate-900 hover:bg-slate-100'}`}>\n              <Download className=\"w-5 h-5\" /> Export\n            </button>\n          </div>\n        </div>\n\n        {/* Payments Table */}\n        <div className={`rounded-xl shadow border overflow-hidden ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n          <div className=\"overflow-x-auto\">\n            {loading ? (\n              <div className=\"p-8 text-center\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mx-auto mb-2\"></div>\n                <p className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>Loading payments...</p>\n              </div>\n            ) : filteredPayments.length === 0 ? (\n              <div className=\"p-8 text-center\">\n                <p className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>No payments found</p>\n              </div>\n            ) : (\n              <table className=\"w-full\">\n                <thead className={`border-b ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                  <tr>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Transaction ID</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Company</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Amount</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Status</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Method</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Date</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredPayments.map((payment, idx) => (\n                    <tr key={idx} className={`border-b ${isDarkMode ? 'border-slate-700 hover:bg-slate-800' : 'border-slate-200 hover:bg-slate-50'}`}>\n                      <td className={`px-6 py-4 text-sm font-mono ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>{payment.id}</td>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>{payment.company || 'N/A'}</td>\n                      <td className={`px-6 py-4 text-sm font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{formatAmount(payment.amount)}</td>\n                      <td className={`px-6 py-4 text-sm`}>\n                        <span className={`px-3 py-1 rounded-full text-xs font-semibold ${getStatusColor(payment.status)}`}>\n                          {payment.status?.charAt(0).toUpperCase() + payment.status?.slice(1)}\n                        </span>\n                      </td>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{payment.method || 'N/A'}</td>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{formatDate(payment.createdAt)}</td>\n                      <td className={`px-6 py-4 text-sm flex gap-2`}>\n                        <button className={`p-2 rounded hover:bg-slate-700 ${isDarkMode ? 'text-slate-400 hover:text-white' : 'text-slate-600 hover:text-slate-900'}`}>\n                          <Eye className=\"w-4 h-4\" />\n                        </button>\n                        <button className={`p-2 rounded hover:bg-slate-700 ${isDarkMode ? 'text-slate-400 hover:text-white' : 'text-slate-600 hover:text-slate-900'}`}>\n                          <Edit className=\"w-4 h-4\" />\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Enhanced Payment Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto\">\n          <div className=\"bg-gradient-to-b from-slate-900 to-slate-950 rounded-2xl shadow-2xl max-w-2xl w-full my-8 border border-orange-900/30\">\n            {/* Header */}\n            <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-6 flex items-center justify-between rounded-t-2xl\">\n              <h2 className=\"text-2xl font-bold text-white\">New Payment</h2>\n              <button onClick={handleClose} className=\"text-white hover:bg-white hover:bg-opacity-20 p-1 rounded-lg transition\">\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            {/* Step Indicator */}\n            <div className=\"flex gap-2 px-6 py-4 bg-slate-800/50 border-b border-orange-900/20\">\n              {[1, 2, 3].map(s => (\n                <div key={s} className={`flex-1 h-2 rounded-full transition-all ${s <= step ? 'bg-gradient-to-r from-orange-500 to-orange-600' : 'bg-slate-700'}`}></div>\n              ))}\n            </div>\n\n            {/* Form Content */}\n            <div className=\"p-6 space-y-4 max-h-96 overflow-y-auto text-slate-100\">\n              {/* Step 1: Recipient & Amount */}\n              {step === 1 && (\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2 flex items-center gap-2\">\n                      <User size={16} className=\"text-orange-500\" /> Recipient Type\n                    </label>\n                    <div className=\"grid grid-cols-3 gap-2\">\n                      {['landlord', 'manager', 'vendor'].map(type => (\n                        <button\n                          key={type}\n                          onClick={() => setFormData({...formData, recipientType: type})}\n                          className={`p-3 rounded-lg border-2 transition-all text-sm font-medium ${\n                            formData.recipientType === type\n                              ? 'border-orange-500 bg-orange-900/30 text-orange-300'\n                              : 'border-slate-700 bg-slate-800 text-slate-400 hover:border-orange-600/50'\n                          }`}\n                        >\n                          {type.charAt(0).toUpperCase() + type.slice(1)}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Recipient Name</label>\n                    <input type=\"text\" placeholder=\"Enter recipient name\" value={formData.recipient} onChange={(e) => setFormData({...formData, recipient: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2 flex items-center gap-2\">\n                      <DollarSign size={16} className=\"text-orange-500\" /> Amount (KES)\n                    </label>\n                    <input type=\"number\" placeholder=\"Enter amount\" value={formData.amount} onChange={(e) => setFormData({...formData, amount: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Reference Number</label>\n                    <input type=\"text\" placeholder=\"e.g., INV-2024-001\" value={formData.reference} onChange={(e) => setFormData({...formData, reference: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                  </div>\n                </div>\n              )}\n\n              {/* Step 2: Payment Details */}\n              {step === 2 && (\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Payment Method</label>\n                    <select value={formData.method} onChange={(e) => setFormData({...formData, method: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 focus:outline-none focus:ring-2 focus:ring-orange-500\">\n                      <option value=\"bank\">Bank Transfer</option>\n                      <option value=\"card\">Credit Card</option>\n                      <option value=\"mpesa\">M-Pesa</option>\n                      <option value=\"check\">Check</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2 flex items-center gap-2\">\n                      <Calendar size={16} className=\"text-orange-500\" /> Due Date\n                    </label>\n                    <input type=\"date\" value={formData.dueDate} onChange={(e) => setFormData({...formData, dueDate: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2 flex items-center gap-2\">\n                      <Clock size={16} className=\"text-orange-500\" /> Schedule Type\n                    </label>\n                    <div className=\"grid grid-cols-2 gap-2\">\n                      {['once', 'recurring'].map(type => (\n                        <button\n                          key={type}\n                          onClick={() => setFormData({...formData, scheduleType: type})}\n                          className={`p-2 rounded-lg border-2 transition-all text-sm font-medium ${\n                            formData.scheduleType === type\n                              ? 'border-orange-500 bg-orange-900/30 text-orange-300'\n                              : 'border-slate-700 bg-slate-800 text-slate-400 hover:border-orange-600/50'\n                          }`}\n                        >\n                          {type.charAt(0).toUpperCase() + type.slice(1)}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n\n                  {formData.scheduleType === 'recurring' && (\n                    <div>\n                      <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Frequency</label>\n                      <select value={formData.frequency} onChange={(e) => setFormData({...formData, frequency: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 focus:outline-none focus:ring-2 focus:ring-orange-500\">\n                        <option value=\"weekly\">Weekly</option>\n                        <option value=\"monthly\">Monthly</option>\n                        <option value=\"quarterly\">Quarterly</option>\n                        <option value=\"annually\">Annually</option>\n                      </select>\n                    </div>\n                  )}\n\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Description</label>\n                    <textarea placeholder=\"Enter payment description\" value={formData.description} onChange={(e) => setFormData({...formData, description: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none\" rows=\"2\"></textarea>\n                  </div>\n                </div>\n              )}\n\n              {/* Step 3: Review & Confirm */}\n              {step === 3 && (\n                <div className=\"space-y-4\">\n                  <div className=\"bg-orange-900/20 border border-orange-600/30 rounded-lg p-4 space-y-3\">\n                    <h3 className=\"text-sm font-semibold text-orange-400\">Payment Summary</h3>\n                    <div className=\"space-y-2 text-sm\">\n                      <div className=\"flex justify-between\"><span className=\"text-slate-400\">Recipient:</span><span className=\"text-slate-100 font-medium\">{formData.recipient}</span></div>\n                      <div className=\"flex justify-between\"><span className=\"text-slate-400\">Type:</span><span className=\"text-slate-100 font-medium\">{formData.recipientType}</span></div>\n                      <div className=\"flex justify-between\"><span className=\"text-slate-400\">Amount:</span><span className=\"text-orange-400 font-bold\">KES {parseFloat(formData.amount || 0).toLocaleString()}</span></div>\n                      <div className=\"flex justify-between\"><span className=\"text-slate-400\">Method:</span><span className=\"text-slate-100 font-medium\">{formData.method}</span></div>\n                      <div className=\"flex justify-between\"><span className=\"text-slate-400\">Due Date:</span><span className=\"text-slate-100 font-medium\">{formData.dueDate || 'Not set'}</span></div>\n                      <div className=\"flex justify-between\"><span className=\"text-slate-400\">Schedule:</span><span className=\"text-slate-100 font-medium\">{formData.scheduleType === 'recurring' ? `${formData.frequency}` : 'One-time'}</span></div>\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2 flex items-center gap-2\">\n                      <FileText size={16} className=\"text-orange-500\" /> Additional Notes\n                    </label>\n                    <textarea placeholder=\"Add any additional notes...\" value={formData.notes} onChange={(e) => setFormData({...formData, notes: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none\" rows=\"3\"></textarea>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Footer */}\n            <div className=\"bg-slate-800/50 px-6 py-4 flex gap-3 border-t border-orange-900/20 rounded-b-2xl\">\n              <button onClick={() => step > 1 ? setStep(step - 1) : handleClose()} className=\"flex-1 px-4 py-2 border-2 border-slate-700 text-slate-300 font-semibold rounded-lg hover:bg-slate-700 transition-colors\">\n                {step === 1 ? 'Cancel' : 'Back'}\n              </button>\n              <button\n                onClick={() => step < 3 ? setStep(step + 1) : handleCreatePayment()}\n                className=\"flex-1 px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white font-semibold rounded-lg hover:from-orange-700 hover:to-orange-800 transition-all flex items-center justify-center gap-2\"\n              >\n                {step === 3 ? <><Check size={18} /> Create Payment</> : 'Next'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PaymentManagement;\n","import React, { useState, useEffect } from 'react';\nimport { History, Download, Filter, Search, Calendar, TrendingUp, ArrowUpRight, ArrowDownLeft, Eye, ChevronLeft, ChevronRight } from 'lucide-react';\nimport { useThemeMode } from '../../hooks/useThemeMode';\nimport axios from 'axios';\n\nconst PaymentHistory = () => {\n  const { isDarkMode } = useThemeMode();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [dateRange, setDateRange] = useState('all');\n  const [payments, setPayments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [stats, setStats] = useState(null);\n\n  const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';\n  const limit = 15;\n\n  useEffect(() => {\n    fetchPayments();\n  }, [filterStatus, page, dateRange]);\n\n  const fetchPayments = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const params = {\n        page,\n        limit,\n        status: filterStatus !== 'all' ? filterStatus : undefined\n      };\n\n      if (dateRange !== 'all') {\n        const now = new Date();\n        let startDate = new Date();\n        \n        if (dateRange === 'week') startDate.setDate(now.getDate() - 7);\n        else if (dateRange === 'month') startDate.setMonth(now.getMonth() - 1);\n        else if (dateRange === 'quarter') startDate.setMonth(now.getMonth() - 3);\n        else if (dateRange === 'year') startDate.setFullYear(now.getFullYear() - 1);\n        \n        params.fromDate = startDate.toISOString();\n        params.toDate = now.toISOString();\n      }\n\n      const response = await axios.get(`${API_URL}/payments`, {\n        params,\n        headers: { Authorization: `Bearer ${token}` },\n        timeout: 5000\n      });\n\n      if (response.data?.success) {\n        setPayments(response.data.data || []);\n        if (response.data.pagination) {\n          setTotalPages(response.data.pagination.pages);\n        }\n\n        // Calculate stats\n        const completed = response.data.data.filter(p => p.status === 'completed');\n        const totalAmount = completed.reduce((sum, p) => sum + (p.paidAmount || p.amount || 0), 0);\n        const avgAmount = completed.length > 0 ? totalAmount / completed.length : 0;\n\n        setStats({\n          totalTransactions: response.data.data.length,\n          totalAmount: totalAmount,\n          avgAmount: avgAmount,\n          completedCount: completed.length\n        });\n      }\n    } catch (error) {\n      console.log('Error fetching payments:', error.message);\n      setPayments([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredPayments = payments.filter(payment => {\n    return !searchTerm || \n      payment.id?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      payment.paymentNumber?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      payment.company?.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n\n  const getStatusColor = (status) => {\n    const colors = {\n      completed: isDarkMode ? 'bg-green-900/20 text-green-400' : 'bg-green-100 text-green-800',\n      pending: isDarkMode ? 'bg-yellow-900/20 text-yellow-400' : 'bg-yellow-100 text-yellow-800',\n      failed: isDarkMode ? 'bg-red-900/20 text-red-400' : 'bg-red-100 text-red-800',\n      overdue: isDarkMode ? 'bg-orange-900/20 text-orange-400' : 'bg-orange-100 text-orange-800',\n      partially_paid: isDarkMode ? 'bg-blue-900/20 text-blue-400' : 'bg-blue-100 text-blue-800',\n      cancelled: isDarkMode ? 'bg-slate-900/20 text-slate-400' : 'bg-slate-100 text-slate-800'\n    };\n    return colors[status] || colors.pending;\n  };\n\n  const getStatusIcon = (status) => {\n    if (status === 'completed') return <ArrowDownLeft className=\"w-4 h-4\" />;\n    if (status === 'pending') return <ArrowUpRight className=\"w-4 h-4\" />;\n    return null;\n  };\n\n  const formatAmount = (amount) => {\n    return `$${(amount || 0).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n  };\n\n  const formatDate = (date) => {\n    return new Date(date).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-950' : 'bg-gradient-to-br from-slate-50 to-slate-100'}`}>\n      {/* Header */}\n      <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-900/50' : 'border-slate-200 bg-white/40'} backdrop-blur-xl sticky top-0 z-10`}>\n        <div className=\"max-w-7xl mx-auto px-6 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg\">\n                <History className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Payment History</h1>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>View all payment transactions</p>\n              </div>\n            </div>\n            <button className={`px-4 py-2 rounded-lg border flex items-center gap-2 ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'}`}>\n              <Download className=\"w-5 h-5\" /> Export\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Stats */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Transactions</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{stats.totalTransactions}</p>\n            </div>\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Amount</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{formatAmount(stats.totalAmount)}</p>\n            </div>\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Average Amount</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{formatAmount(stats.avgAmount)}</p>\n            </div>\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Completed</p>\n              <p className={`text-3xl font-bold mt-2 text-green-600`}>{stats.completedCount}</p>\n            </div>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className={`rounded-xl shadow p-6 border mb-6 ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-3 w-5 h-5 text-slate-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search by ID or company...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`w-full pl-10 pr-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n              />\n            </div>\n            <select\n              value={filterStatus}\n              onChange={(e) => {\n                setFilterStatus(e.target.value);\n                setPage(1);\n              }}\n              className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"completed\">Completed</option>\n              <option value=\"pending\">Pending</option>\n              <option value=\"failed\">Failed</option>\n              <option value=\"overdue\">Overdue</option>\n              <option value=\"partially_paid\">Partially Paid</option>\n            </select>\n            <select\n              value={dateRange}\n              onChange={(e) => {\n                setDateRange(e.target.value);\n                setPage(1);\n              }}\n              className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n            >\n              <option value=\"all\">All Time</option>\n              <option value=\"week\">Last 7 Days</option>\n              <option value=\"month\">Last Month</option>\n              <option value=\"quarter\">Last Quarter</option>\n              <option value=\"year\">Last Year</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Transactions Table */}\n        <div className={`rounded-xl shadow border overflow-hidden ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n          <div className=\"overflow-x-auto\">\n            {loading ? (\n              <div className=\"p-8 text-center\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2\"></div>\n                <p className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>Loading transactions...</p>\n              </div>\n            ) : filteredPayments.length === 0 ? (\n              <div className=\"p-8 text-center\">\n                <p className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>No transactions found</p>\n              </div>\n            ) : (\n              <table className=\"w-full\">\n                <thead className={`border-b ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                  <tr>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Date</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Transaction ID</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Company</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Amount</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Type</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Status</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Method</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Action</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredPayments.map((payment, idx) => (\n                    <tr key={idx} className={`border-b ${isDarkMode ? 'border-slate-700 hover:bg-slate-800' : 'border-slate-200 hover:bg-slate-50'}`}>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>\n                        {formatDate(payment.paidDate || payment.dueDate || payment.createdAt)}\n                      </td>\n                      <td className={`px-6 py-4 text-sm font-mono ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>\n                        {payment.paymentNumber || payment.id?.slice(0, 8)}\n                      </td>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>\n                        {payment.company || payment.Property?.name || 'N/A'}\n                      </td>\n                      <td className={`px-6 py-4 text-sm font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>\n                        {formatAmount(payment.paidAmount || payment.amount)}\n                      </td>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n                        {payment.type || 'rent'}\n                      </td>\n                      <td className={`px-6 py-4 text-sm`}>\n                        <div className={`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${getStatusColor(payment.status)}`}>\n                          {getStatusIcon(payment.status)}\n                          {payment.status?.charAt(0).toUpperCase() + payment.status?.slice(1)}\n                        </div>\n                      </td>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n                        {payment.paymentMethod || 'N/A'}\n                      </td>\n                      <td className={`px-6 py-4 text-sm`}>\n                        <button className={`p-2 rounded hover:bg-slate-700 ${isDarkMode ? 'text-slate-400 hover:text-white' : 'text-slate-600 hover:text-slate-900'}`}>\n                          <Eye className=\"w-4 h-4\" />\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            )}\n          </div>\n        </div>\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"flex items-center justify-between mt-6\">\n            <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n              Page {page} of {totalPages}\n            </p>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setPage(Math.max(1, page - 1))}\n                disabled={page === 1}\n                className={`p-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-white border-slate-300 text-slate-900'} disabled:opacity-50`}\n              >\n                <ChevronLeft className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={() => setPage(Math.min(totalPages, page + 1))}\n                disabled={page === totalPages}\n                className={`p-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-white border-slate-300 text-slate-900'} disabled:opacity-50`}\n              >\n                <ChevronRight className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PaymentHistory;\n","import React from 'react';\nimport { X, AlertCircle, CheckCircle } from 'lucide-react';\n\nconst GenerateInvoiceModal = ({\n  isDarkMode,\n  showModal,\n  onClose,\n  onSubmit,\n  generating,\n  message,\n  formData,\n  setFormData,\n  tenants,\n  leases\n}) => {\n  if (!showModal) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n      <div className={`rounded-2xl shadow-2xl max-w-2xl w-full overflow-hidden ${isDarkMode ? 'bg-slate-900 border border-slate-700' : 'bg-white'}`}>\n        {/* Header */}\n        <div className={`p-8 border-b bg-gradient-to-r from-purple-600/10 to-purple-700/10 flex items-center justify-between ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}`}>\n          <div>\n            <h2 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Generate Invoice</h2>\n            <p className={`text-sm mt-1 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Create a new invoice for your tenant</p>\n          </div>\n          <button\n            onClick={onClose}\n            className={`p-2 rounded-lg transition ${isDarkMode ? 'bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white' : 'bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900'}`}\n          >\n            <X className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={onSubmit} className=\"p-8\">\n          {message && (\n            <div className={`mb-6 p-4 rounded-lg flex items-center gap-3 border ${\n              message.type === 'success'\n                ? isDarkMode ? 'bg-green-900/20 border-green-700 text-green-400' : 'bg-green-50 border-green-300 text-green-800'\n                : isDarkMode ? 'bg-red-900/20 border-red-700 text-red-400' : 'bg-red-50 border-red-300 text-red-800'\n            }`}>\n              {message.type === 'success' ? <CheckCircle className=\"w-5 h-5 flex-shrink-0\" /> : <AlertCircle className=\"w-5 h-5 flex-shrink-0\" />}\n              <span className=\"text-sm font-medium\">{message.text}</span>\n            </div>\n          )}\n\n          {/* Two Column Grid */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n            {/* Tenant */}\n            <div>\n              <label className={`block text-sm font-semibold mb-3 ${isDarkMode ? 'text-slate-200' : 'text-slate-900'}`}>\n                Select Tenant\n              </label>\n              <select\n                value={formData.tenantId}\n                onChange={(e) => setFormData({ ...formData, tenantId: e.target.value })}\n                required\n                className={`w-full px-4 py-3 rounded-lg border-2 transition focus:outline-none focus:border-purple-500 ${\n                  isDarkMode \n                    ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500 focus:bg-slate-800' \n                    : 'bg-slate-50 border-slate-300 text-slate-900 placeholder-slate-400 focus:bg-white'\n                }`}\n              >\n                <option value=\"\">Choose a tenant...</option>\n                {tenants.map(tenant => (\n                  <option key={tenant.id} value={tenant.id}>\n                    {tenant.firstName} {tenant.lastName}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Lease */}\n            <div>\n              <label className={`block text-sm font-semibold mb-3 ${isDarkMode ? 'text-slate-200' : 'text-slate-900'}`}>\n                Select Lease\n              </label>\n              <select\n                value={formData.leaseId}\n                onChange={(e) => setFormData({ ...formData, leaseId: e.target.value })}\n                required\n                className={`w-full px-4 py-3 rounded-lg border-2 transition focus:outline-none focus:border-purple-500 ${\n                  isDarkMode \n                    ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500 focus:bg-slate-800' \n                    : 'bg-slate-50 border-slate-300 text-slate-900 placeholder-slate-400 focus:bg-white'\n                }`}\n              >\n                <option value=\"\">Choose a lease...</option>\n                {leases.map(lease => (\n                  <option key={lease.id} value={lease.id}>\n                    {lease.leaseNumber} - {lease.Property?.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Amount and Date */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n            {/* Amount */}\n            <div>\n              <label className={`block text-sm font-semibold mb-3 ${isDarkMode ? 'text-slate-200' : 'text-slate-900'}`}>\n                Invoice Amount\n              </label>\n              <div className={`flex items-center rounded-lg border-2 transition focus-within:border-purple-500 ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-slate-50 border-slate-300'}`}>\n                <span className={`px-4 py-3 font-semibold ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>$</span>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={formData.amount}\n                  onChange={(e) => setFormData({ ...formData, amount: e.target.value })}\n                  required\n                  placeholder=\"0.00\"\n                  className={`flex-1 px-0 py-3 bg-transparent outline-none ${isDarkMode ? 'text-white placeholder-slate-500' : 'text-slate-900 placeholder-slate-400'}`}\n                />\n              </div>\n            </div>\n\n            {/* Due Date */}\n            <div>\n              <label className={`block text-sm font-semibold mb-3 ${isDarkMode ? 'text-slate-200' : 'text-slate-900'}`}>\n                Due Date\n              </label>\n              <input\n                type=\"date\"\n                value={formData.dueDate}\n                onChange={(e) => setFormData({ ...formData, dueDate: e.target.value })}\n                required\n                className={`w-full px-4 py-3 rounded-lg border-2 transition focus:outline-none focus:border-purple-500 ${\n                  isDarkMode \n                    ? 'bg-slate-800 border-slate-700 text-white focus:bg-slate-800' \n                    : 'bg-slate-50 border-slate-300 text-slate-900 focus:bg-white'\n                }`}\n              />\n            </div>\n          </div>\n\n          {/* Description */}\n          <div className=\"mb-8\">\n            <label className={`block text-sm font-semibold mb-3 ${isDarkMode ? 'text-slate-200' : 'text-slate-900'}`}>\n              Description\n            </label>\n            <textarea\n              value={formData.description}\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n              placeholder=\"e.g., Monthly rent for January 2024\"\n              rows=\"3\"\n              className={`w-full px-4 py-3 rounded-lg border-2 transition focus:outline-none focus:border-purple-500 resize-none ${\n                isDarkMode \n                  ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500 focus:bg-slate-800' \n                  : 'bg-slate-50 border-slate-300 text-slate-900 placeholder-slate-400 focus:bg-white'\n              }`}\n            />\n          </div>\n\n          {/* Buttons */}\n          <div className=\"flex gap-3 pt-6 border-t\" style={{borderColor: isDarkMode ? '#334155' : '#e2e8f0'}}>\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className={`flex-1 px-6 py-3 rounded-lg font-semibold transition ${\n                isDarkMode \n                  ? 'bg-slate-800 text-white hover:bg-slate-700' \n                  : 'bg-slate-100 text-slate-900 hover:bg-slate-200'\n              }`}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={generating}\n              className=\"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition font-semibold disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {generating ? (\n                <span className=\"flex items-center justify-center gap-2\">\n                  <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                  Generating...\n                </span>\n              ) : (\n                'Generate Invoice'\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default GenerateInvoiceModal;\n","import React, { useState, useEffect } from 'react';\nimport { FileText, Download, Search, Eye, ChevronLeft, ChevronRight, Printer, Mail, Plus } from 'lucide-react';\nimport { useThemeMode } from '../../hooks/useThemeMode';\nimport GenerateInvoiceModal from '../../components/GenerateInvoiceModal';\nimport axios from 'axios';\n\nconst PaymentInvoices = () => {\n  const { isDarkMode } = useThemeMode();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [invoices, setInvoices] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [stats, setStats] = useState(null);\n  const [showGenerateModal, setShowGenerateModal] = useState(false);\n  const [generating, setGenerating] = useState(false);\n  const [message, setMessage] = useState(null);\n  const [formData, setFormData] = useState({\n    tenantId: '',\n    leaseId: '',\n    amount: '',\n    dueDate: '',\n    description: ''\n  });\n  const [leases, setLeases] = useState([]);\n  const [tenants, setTenants] = useState([]);\n\n  const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';\n  const limit = 12;\n\n  useEffect(() => {\n    fetchInvoices();\n  }, [filterStatus, page]);\n\n  useEffect(() => {\n    if (showGenerateModal) {\n      fetchLeases();\n    }\n  }, [showGenerateModal]);\n\n  const fetchInvoices = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const params = {\n        page,\n        limit,\n        type: 'invoice',\n        status: filterStatus !== 'all' ? filterStatus : undefined\n      };\n\n      const response = await axios.get(`${API_URL}/payments`, {\n        params,\n        headers: { Authorization: `Bearer ${token}` },\n        timeout: 5000\n      });\n\n      if (response.data?.success) {\n        const invoiceData = response.data.data || [];\n        setInvoices(invoiceData);\n        if (response.data.pagination) {\n          setTotalPages(response.data.pagination.pages);\n        }\n\n        const paid = invoiceData.filter(i => i.status === 'completed');\n        const pending = invoiceData.filter(i => i.status === 'pending');\n        const overdue = invoiceData.filter(i => i.status === 'overdue');\n\n        const totalAmount = invoiceData.reduce((sum, i) => sum + (i.amount || 0), 0);\n        const paidAmount = paid.reduce((sum, i) => sum + (i.paidAmount || i.amount || 0), 0);\n        const pendingAmount = pending.reduce((sum, i) => sum + (i.amount || 0), 0);\n\n        setStats({\n          totalInvoices: invoiceData.length,\n          totalAmount,\n          paidAmount,\n          pendingAmount,\n          overdueCount: overdue.length\n        });\n      }\n    } catch (error) {\n      console.log('Error fetching invoices:', error.message);\n      setInvoices([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchLeases = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      \n      // Fetch tenants\n      const tenantResponse = await axios.get(`${API_URL}/tenants`, {\n        params: { limit: 100 },\n        headers: { Authorization: `Bearer ${token}` },\n        timeout: 5000\n      });\n\n      if (tenantResponse.data?.success) {\n        const tenantsList = tenantResponse.data.data || [];\n        setTenants(tenantsList);\n        \n        // Fetch leases for each tenant\n        const allLeases = [];\n        for (const tenant of tenantsList) {\n          try {\n            const leaseResponse = await axios.get(`${API_URL}/tenants/${tenant.id}/leases`, {\n              headers: { Authorization: `Bearer ${token}` },\n              timeout: 5000\n            });\n            if (leaseResponse.data?.success) {\n              allLeases.push(...(leaseResponse.data.data || []));\n            }\n          } catch (err) {\n            console.log(`Error fetching leases for tenant ${tenant.id}:`, err.message);\n          }\n        }\n        setLeases(allLeases);\n      }\n    } catch (error) {\n      console.log('Error fetching tenants:', error.message);\n    }\n  };\n\n  const handleGenerateInvoice = async (e) => {\n    e.preventDefault();\n    try {\n      setGenerating(true);\n      const token = localStorage.getItem('token');\n\n      const response = await axios.post(`${API_URL}/payments`, {\n        ...formData,\n        amount: parseFloat(formData.amount),\n        type: 'invoice'\n      }, {\n        headers: { Authorization: `Bearer ${token}` },\n        timeout: 5000\n      });\n\n      if (response.data?.success) {\n        setMessage({ type: 'success', text: 'Invoice generated successfully' });\n        setFormData({ tenantId: '', leaseId: '', amount: '', dueDate: '', description: '' });\n        setTimeout(() => {\n          setShowGenerateModal(false);\n          setMessage(null);\n          fetchInvoices();\n        }, 2000);\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: error.response?.data?.message || 'Failed to generate invoice' });\n    } finally {\n      setGenerating(false);\n    }\n  };\n\n  const filteredInvoices = invoices.filter(invoice => {\n    return !searchTerm || \n      invoice.paymentNumber?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      invoice.company?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      invoice.Tenant?.firstName?.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n\n  const getStatusColor = (status) => {\n    const colors = {\n      completed: isDarkMode ? 'bg-green-900/20 text-green-400' : 'bg-green-100 text-green-800',\n      pending: isDarkMode ? 'bg-yellow-900/20 text-yellow-400' : 'bg-yellow-100 text-yellow-800',\n      overdue: isDarkMode ? 'bg-red-900/20 text-red-400' : 'bg-red-100 text-red-800',\n      draft: isDarkMode ? 'bg-slate-900/20 text-slate-400' : 'bg-slate-100 text-slate-800'\n    };\n    return colors[status] || colors.pending;\n  };\n\n  const formatAmount = (amount) => {\n    return `$${(amount || 0).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n  };\n\n  const formatDate = (date) => {\n    return new Date(date).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-950' : 'bg-gradient-to-br from-slate-50 to-slate-100'}`}>\n      {/* Header */}\n      <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-900/50' : 'border-slate-200 bg-white/40'} backdrop-blur-xl sticky top-0 z-10`}>\n        <div className=\"max-w-7xl mx-auto px-6 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg\">\n                <FileText className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Invoices</h1>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Manage and track all invoices</p>\n              </div>\n            </div>\n            <div className=\"flex gap-3\">\n              <button className={`px-4 py-2 rounded-lg border flex items-center gap-2 ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'}`}>\n                <Download className=\"w-5 h-5\" /> Export\n              </button>\n              <button\n                onClick={() => setShowGenerateModal(true)}\n                className=\"px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition flex items-center gap-2 font-semibold\"\n              >\n                <Plus className=\"w-5 h-5\" /> Generate Invoice\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Stats */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8\">\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Invoices</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{stats.totalInvoices}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Amount</p>\n              <p className={`text-2xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{formatAmount(stats.totalAmount)}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide text-green-600`}>Paid</p>\n              <p className={`text-2xl font-bold mt-2 text-green-600`}>{formatAmount(stats.paidAmount)}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide text-orange-600`}>Pending</p>\n              <p className={`text-2xl font-bold mt-2 text-orange-600`}>{formatAmount(stats.pendingAmount)}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide text-red-600`}>Overdue</p>\n              <p className={`text-3xl font-bold mt-2 text-red-600`}>{stats.overdueCount}</p>\n            </div>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className={`rounded-xl shadow p-6 border mb-8 ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-3 w-5 h-5 text-slate-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search by invoice number or company...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`w-full pl-10 pr-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500' : 'bg-slate-50 border-slate-300 text-slate-900 placeholder-slate-400'}`}\n              />\n            </div>\n            <select\n              value={filterStatus}\n              onChange={(e) => {\n                setFilterStatus(e.target.value);\n                setPage(1);\n              }}\n              className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"completed\">Paid</option>\n              <option value=\"pending\">Pending</option>\n              <option value=\"overdue\">Overdue</option>\n              <option value=\"draft\">Draft</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Invoices Grid */}\n        <div>\n          {loading ? (\n            <div className=\"p-12 text-center\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-3\"></div>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>Loading invoices...</p>\n            </div>\n          ) : filteredInvoices.length === 0 ? (\n            <div className={`p-12 text-center rounded-xl border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <FileText className={`w-12 h-12 mx-auto mb-3 ${isDarkMode ? 'text-slate-600' : 'text-slate-400'}`} />\n              <p className={`text-lg font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>No invoices found</p>\n              <p className={`text-sm mt-1 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Create your first invoice to get started</p>\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {filteredInvoices.map((invoice, idx) => (\n                <div key={idx} className={`rounded-xl shadow border overflow-hidden transition ${isDarkMode ? 'bg-slate-900/50 border-slate-700 hover:border-purple-600/50 hover:shadow-lg' : 'bg-white border-slate-200 hover:border-purple-300 hover:shadow-lg'}`}>\n                  {/* Invoice Header */}\n                  <div className={`p-6 border-b ${isDarkMode ? 'border-slate-700 bg-slate-800/50' : 'border-slate-200 bg-slate-50'}`}>\n                    <div className=\"flex items-start justify-between mb-3\">\n                      <div className=\"flex-1\">\n                        <p className={`text-xs font-mono font-semibold ${isDarkMode ? 'text-purple-400' : 'text-purple-600'}`}>\n                          {invoice.paymentNumber || `INV-${invoice.id?.slice(0, 8)}`}\n                        </p>\n                        <p className={`text-base font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>\n                          {invoice.company || invoice.Property?.name || 'N/A'}\n                        </p>\n                      </div>\n                      <span className={`px-3 py-1 rounded-full text-xs font-semibold whitespace-nowrap ml-2 ${getStatusColor(invoice.status)}`}>\n                        {invoice.status?.charAt(0).toUpperCase() + invoice.status?.slice(1)}\n                      </span>\n                    </div>\n                    <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n                      {invoice.Tenant?.firstName} {invoice.Tenant?.lastName}\n                    </p>\n                  </div>\n\n                  {/* Invoice Details */}\n                  <div className=\"p-6 space-y-3\">\n                    <div className=\"flex justify-between items-center\">\n                      <span className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Amount</span>\n                      <span className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>\n                        {formatAmount(invoice.amount)}\n                      </span>\n                    </div>\n                    \n                    {invoice.paidAmount > 0 && (\n                      <div className=\"flex justify-between items-center\">\n                        <span className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Paid</span>\n                        <span className=\"text-sm font-semibold text-green-600\">\n                          {formatAmount(invoice.paidAmount)}\n                        </span>\n                      </div>\n                    )}\n\n                    <div className=\"flex justify-between items-center\">\n                      <span className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Due Date</span>\n                      <span className={`text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                        {formatDate(invoice.dueDate || invoice.createdAt)}\n                      </span>\n                    </div>\n\n                    <div className=\"flex justify-between items-center\">\n                      <span className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Type</span>\n                      <span className={`text-sm font-semibold capitalize ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                        {invoice.type || 'invoice'}\n                      </span>\n                    </div>\n                  </div>\n\n                  {/* Invoice Actions */}\n                  <div className={`p-6 border-t ${isDarkMode ? 'border-slate-700 bg-slate-800/30' : 'border-slate-200 bg-slate-50'} flex gap-2`}>\n                    <button className={`flex-1 px-3 py-2 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-slate-200 text-slate-900 hover:bg-slate-300'}`}>\n                      <Eye className=\"w-4 h-4\" /> View\n                    </button>\n                    <button className={`flex-1 px-3 py-2 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-slate-200 text-slate-900 hover:bg-slate-300'}`}>\n                      <Printer className=\"w-4 h-4\" /> Print\n                    </button>\n                    <button className={`flex-1 px-3 py-2 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-slate-200 text-slate-900 hover:bg-slate-300'}`}>\n                      <Mail className=\"w-4 h-4\" /> Send\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"flex items-center justify-between mt-8\">\n            <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n              Page {page} of {totalPages}\n            </p>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setPage(Math.max(1, page - 1))}\n                disabled={page === 1}\n                className={`p-2 rounded-lg border transition ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'} disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                <ChevronLeft className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={() => setPage(Math.min(totalPages, page + 1))}\n                disabled={page === totalPages}\n                className={`p-2 rounded-lg border transition ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'} disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                <ChevronRight className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <GenerateInvoiceModal\n        isDarkMode={isDarkMode}\n        showModal={showGenerateModal}\n        onClose={() => {\n          setShowGenerateModal(false);\n          setMessage(null);\n        }}\n        onSubmit={handleGenerateInvoice}\n        generating={generating}\n        message={message}\n        formData={formData}\n        setFormData={setFormData}\n        tenants={tenants}\n        leases={leases}\n      />\n    </div>\n  );\n};\n\nexport default PaymentInvoices;\n","import React, { useState, useEffect } from 'react';\nimport { RotateCcw, Download, Search, Filter, ChevronLeft, ChevronRight, CheckCircle, Clock, AlertCircle, Eye, MoreVertical } from 'lucide-react';\nimport { useThemeMode } from '../../hooks/useThemeMode';\nimport axios from 'axios';\n\nconst PaymentRefunds = () => {\n  const { isDarkMode } = useThemeMode();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [refunds, setRefunds] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [stats, setStats] = useState(null);\n\n  const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';\n  const limit = 10;\n\n  useEffect(() => {\n    fetchRefunds();\n  }, [filterStatus, page]);\n\n  const fetchRefunds = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const params = {\n        page,\n        limit,\n        type: 'refund',\n        status: filterStatus !== 'all' ? filterStatus : undefined\n      };\n\n      const response = await axios.get(`${API_URL}/payments`, {\n        params,\n        headers: { Authorization: `Bearer ${token}` },\n        timeout: 5000\n      });\n\n      if (response.data?.success) {\n        const refundData = response.data.data || [];\n        setRefunds(refundData);\n        if (response.data.pagination) {\n          setTotalPages(response.data.pagination.pages);\n        }\n\n        const completed = refundData.filter(r => r.status === 'completed');\n        const pending = refundData.filter(r => r.status === 'pending');\n        const failed = refundData.filter(r => r.status === 'failed');\n\n        const totalRefunds = refundData.reduce((sum, r) => sum + (r.amount || 0), 0);\n        const completedAmount = completed.reduce((sum, r) => sum + (r.amount || 0), 0);\n        const pendingAmount = pending.reduce((sum, r) => sum + (r.amount || 0), 0);\n\n        setStats({\n          totalRefunds: refundData.length,\n          totalAmount: totalRefunds,\n          completedAmount,\n          pendingAmount,\n          failedCount: failed.length\n        });\n      }\n    } catch (error) {\n      console.log('Error fetching refunds:', error.message);\n      setRefunds([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredRefunds = refunds.filter(refund => {\n    return !searchTerm || \n      refund.paymentNumber?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      refund.Tenant?.firstName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      refund.Tenant?.lastName?.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n\n  const getStatusIcon = (status) => {\n    switch(status) {\n      case 'completed':\n        return <CheckCircle className=\"w-5 h-5 text-green-500\" />;\n      case 'pending':\n        return <Clock className=\"w-5 h-5 text-yellow-500\" />;\n      case 'failed':\n        return <AlertCircle className=\"w-5 h-5 text-red-500\" />;\n      default:\n        return <Clock className=\"w-5 h-5 text-slate-500\" />;\n    }\n  };\n\n  const getStatusColor = (status) => {\n    const colors = {\n      completed: isDarkMode ? 'bg-green-900/20 text-green-400' : 'bg-green-100 text-green-800',\n      pending: isDarkMode ? 'bg-yellow-900/20 text-yellow-400' : 'bg-yellow-100 text-yellow-800',\n      failed: isDarkMode ? 'bg-red-900/20 text-red-400' : 'bg-red-100 text-red-800'\n    };\n    return colors[status] || colors.pending;\n  };\n\n  const formatAmount = (amount) => {\n    return `$${(amount || 0).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n  };\n\n  const formatDate = (date) => {\n    return new Date(date).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-950' : 'bg-gradient-to-br from-slate-50 to-slate-100'}`}>\n      {/* Header */}\n      <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-900/50' : 'border-slate-200 bg-white/40'} backdrop-blur-xl sticky top-0 z-10`}>\n        <div className=\"max-w-7xl mx-auto px-6 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg\">\n                <RotateCcw className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Refunds</h1>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Track and manage all refund transactions</p>\n              </div>\n            </div>\n            <button className={`px-4 py-2 rounded-lg border flex items-center gap-2 ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'}`}>\n              <Download className=\"w-5 h-5\" /> Export\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Statistics */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8\">\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Refunds</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{stats.totalRefunds}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Amount</p>\n              <p className={`text-2xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{formatAmount(stats.totalAmount)}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide text-green-600`}>Completed</p>\n              <p className={`text-2xl font-bold mt-2 text-green-600`}>{formatAmount(stats.completedAmount)}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide text-yellow-600`}>Pending</p>\n              <p className={`text-2xl font-bold mt-2 text-yellow-600`}>{formatAmount(stats.pendingAmount)}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide text-red-600`}>Failed</p>\n              <p className={`text-3xl font-bold mt-2 text-red-600`}>{stats.failedCount}</p>\n            </div>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className={`rounded-xl shadow p-6 border mb-8 ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-3 w-5 h-5 text-slate-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search by refund ID or customer...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`w-full pl-10 pr-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500' : 'bg-slate-50 border-slate-300 text-slate-900 placeholder-slate-400'}`}\n              />\n            </div>\n            <select\n              value={filterStatus}\n              onChange={(e) => {\n                setFilterStatus(e.target.value);\n                setPage(1);\n              }}\n              className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"completed\">Completed</option>\n              <option value=\"pending\">Pending</option>\n              <option value=\"failed\">Failed</option>\n            </select>\n            <button className={`px-4 py-2 rounded-lg border flex items-center justify-center gap-2 ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-slate-50 border-slate-300 text-slate-900 hover:bg-slate-100'}`}>\n              <Filter className=\"w-5 h-5\" /> More Filters\n            </button>\n          </div>\n        </div>\n\n        {/* Table */}\n        <div className={`rounded-xl shadow border overflow-hidden ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n          <div className=\"overflow-x-auto\">\n            {loading ? (\n              <div className=\"p-12 text-center\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mx-auto mb-3\"></div>\n                <p className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>Loading refunds...</p>\n              </div>\n            ) : filteredRefunds.length === 0 ? (\n              <div className=\"p-12 text-center\">\n                <RotateCcw className={`w-12 h-12 mx-auto mb-3 ${isDarkMode ? 'text-slate-600' : 'text-slate-400'}`} />\n                <p className={`text-lg font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>No refunds found</p>\n              </div>\n            ) : (\n              <table className=\"w-full\">\n                <thead className={`border-b ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                  <tr>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Date</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Refund ID</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Customer</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Amount</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Reason</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Status</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>Action</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredRefunds.map((refund, idx) => (\n                    <tr key={idx} className={`border-b ${isDarkMode ? 'border-slate-700 hover:bg-slate-800/50' : 'border-slate-200 hover:bg-slate-50'}`}>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>\n                        {formatDate(refund.createdAt)}\n                      </td>\n                      <td className={`px-6 py-4 text-sm font-mono font-semibold ${isDarkMode ? 'text-orange-400' : 'text-orange-600'}`}>\n                        {refund.paymentNumber || `REF-${refund.id?.slice(0, 8)}`}\n                      </td>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>\n                        {refund.Tenant?.firstName} {refund.Tenant?.lastName}\n                      </td>\n                      <td className={`px-6 py-4 text-sm font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>\n                        {formatAmount(refund.amount)}\n                      </td>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n                        {refund.description || 'N/A'}\n                      </td>\n                      <td className={`px-6 py-4 text-sm`}>\n                        <div className=\"flex items-center gap-2\">\n                          {getStatusIcon(refund.status)}\n                          <span className={`px-3 py-1 rounded-full text-xs font-semibold ${getStatusColor(refund.status)}`}>\n                            {refund.status?.charAt(0).toUpperCase() + refund.status?.slice(1)}\n                          </span>\n                        </div>\n                      </td>\n                      <td className={`px-6 py-4 text-sm`}>\n                        <button className={`p-2 rounded-lg transition ${isDarkMode ? 'text-slate-400 hover:bg-slate-700 hover:text-white' : 'text-slate-600 hover:bg-slate-100 hover:text-slate-900'}`}>\n                          <Eye className=\"w-4 h-4\" />\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            )}\n          </div>\n        </div>\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"flex items-center justify-between mt-8\">\n            <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n              Page {page} of {totalPages}\n            </p>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setPage(Math.max(1, page - 1))}\n                disabled={page === 1}\n                className={`p-2 rounded-lg border transition ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'} disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                <ChevronLeft className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={() => setPage(Math.min(totalPages, page + 1))}\n                disabled={page === totalPages}\n                className={`p-2 rounded-lg border transition ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'} disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                <ChevronRight className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PaymentRefunds;\n","import React, { useState, useEffect } from 'react';\nimport { Settings, Save, AlertCircle, CheckCircle, Lock, CreditCard, DollarSign, Clock, Shield } from 'lucide-react';\nimport { useThemeMode } from '../../hooks/useThemeMode';\n\nconst PaymentSettings = () => {\n  const { isDarkMode } = useThemeMode();\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [message, setMessage] = useState(null);\n  const [formData, setFormData] = useState({\n    paymentMethods: ['bank_transfer', 'credit_card', 'mpesa'],\n    autoPaymentEnabled: true,\n    paymentDueDay: 15,\n    lateFeePercentage: 5,\n    lateFeeType: 'percentage',\n    gracePeriodDays: 3,\n    notificationDays: 7,\n    refundPolicy: 'full',\n    refundProcessingDays: 5,\n    bankDetails: {\n      accountHolder: 'StaySpot Inc',\n      accountNumber: 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢',\n      routingNumber: 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢',\n      bankName: 'First National Bank'\n    },\n    paypalEmail: 'payments@stayspot.com',\n    stripeConnected: true,\n    mpesaTillNumber: '123456',\n    mpesaPaybill: '654321',\n    mpesaAccountNumber: 'STAYSPOT',\n    mpesaPhoneNumber: '+254712345678'\n  });\n\n  useEffect(() => {\n    setLoading(false);\n  }, []);\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n\n  const handleBankDetailsChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      bankDetails: {\n        ...prev.bankDetails,\n        [name]: value\n      }\n    }));\n  };\n\n  const handlePaymentMethodToggle = (method) => {\n    setFormData(prev => ({\n      ...prev,\n      paymentMethods: prev.paymentMethods.includes(method)\n        ? prev.paymentMethods.filter(m => m !== method)\n        : [...prev.paymentMethods, method]\n    }));\n  };\n\n  const handleSave = async () => {\n    try {\n      setSaving(true);\n      setMessage({ type: 'success', text: 'Settings saved successfully' });\n      setTimeout(() => setMessage(null), 3000);\n    } catch (error) {\n      console.log('Error saving settings:', error.message);\n      setMessage({ type: 'error', text: 'Failed to save settings' });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className={`min-h-screen ${isDarkMode ? 'bg-slate-950' : 'bg-gradient-to-br from-slate-50 to-slate-100'}`}>\n        <div className=\"flex items-center justify-center h-screen\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-950' : 'bg-gradient-to-br from-slate-50 to-slate-100'}`}>\n      {/* Header */}\n      <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-900/50' : 'border-slate-200 bg-white/40'} backdrop-blur-xl sticky top-0 z-10`}>\n        <div className=\"max-w-7xl mx-auto px-6 py-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg\">\n              <Settings className=\"w-6 h-6 text-white\" />\n            </div>\n            <div>\n              <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Payment Settings</h1>\n              <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Configure payment methods and policies</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Message */}\n        {message && (\n          <div className={`mb-6 p-4 rounded-lg flex items-center gap-3 ${\n            message.type === 'success'\n              ? isDarkMode ? 'bg-green-900/20 border border-green-700 text-green-400' : 'bg-green-100 border border-green-300 text-green-800'\n              : isDarkMode ? 'bg-red-900/20 border border-red-700 text-red-400' : 'bg-red-100 border border-red-300 text-red-800'\n          }`}>\n            {message.type === 'success' ? <CheckCircle className=\"w-5 h-5\" /> : <AlertCircle className=\"w-5 h-5\" />}\n            {message.text}\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Main Settings */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Payment Methods */}\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <div className=\"flex items-center gap-2 mb-6\">\n                <CreditCard className=\"w-5 h-5 text-blue-500\" />\n                <h2 className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Payment Methods</h2>\n              </div>\n              <div className=\"space-y-3\">\n                {['bank_transfer', 'credit_card', 'paypal', 'stripe', 'mpesa'].map(method => (\n                  <label key={method} className=\"flex items-center gap-3 cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.paymentMethods.includes(method)}\n                      onChange={() => handlePaymentMethodToggle(method)}\n                      className=\"w-4 h-4 rounded\"\n                    />\n                    <span className={isDarkMode ? 'text-slate-300' : 'text-slate-700'}>\n                      {method === 'mpesa' ? 'M-Pesa' : method === 'bank_transfer' ? 'Bank Transfer' : method === 'credit_card' ? 'Credit Card' : method.toUpperCase()}\n                    </span>\n                  </label>\n                ))}\n              </div>\n            </div>\n\n            {/* Auto Payment */}\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"flex items-center gap-2\">\n                  <Clock className=\"w-5 h-5 text-purple-500\" />\n                  <h2 className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Auto Payment</h2>\n                </div>\n                <label className=\"flex items-center gap-2 cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    name=\"autoPaymentEnabled\"\n                    checked={formData.autoPaymentEnabled}\n                    onChange={handleInputChange}\n                    className=\"w-4 h-4 rounded\"\n                  />\n                </label>\n              </div>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                    Payment Due Day\n                  </label>\n                  <input\n                    type=\"number\"\n                    name=\"paymentDueDay\"\n                    value={formData.paymentDueDay}\n                    onChange={handleInputChange}\n                    min=\"1\"\n                    max=\"31\"\n                    className={`w-full px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Late Fees */}\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <div className=\"flex items-center gap-2 mb-6\">\n                <AlertCircle className=\"w-5 h-5 text-red-500\" />\n                <h2 className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Late Fees</h2>\n              </div>\n              <div className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                      Late Fee Type\n                    </label>\n                    <select\n                      name=\"lateFeeType\"\n                      value={formData.lateFeeType}\n                      onChange={handleInputChange}\n                      className={`w-full px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                    >\n                      <option value=\"percentage\">Percentage</option>\n                      <option value=\"fixed\">Fixed Amount</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                      Late Fee {formData.lateFeeType === 'percentage' ? '(%)' : '($)'}\n                    </label>\n                    <input\n                      type=\"number\"\n                      name=\"lateFeePercentage\"\n                      value={formData.lateFeePercentage}\n                      onChange={handleInputChange}\n                      min=\"0\"\n                      step=\"0.1\"\n                      className={`w-full px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                    />\n                  </div>\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                    Grace Period (Days)\n                  </label>\n                  <input\n                    type=\"number\"\n                    name=\"gracePeriodDays\"\n                    value={formData.gracePeriodDays}\n                    onChange={handleInputChange}\n                    min=\"0\"\n                    className={`w-full px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Notifications */}\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <div className=\"flex items-center gap-2 mb-6\">\n                <Shield className=\"w-5 h-5 text-green-500\" />\n                <h2 className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Notifications</h2>\n              </div>\n              <div>\n                <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                  Send Reminder (Days Before Due)\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"notificationDays\"\n                  value={formData.notificationDays}\n                  onChange={handleInputChange}\n                  min=\"1\"\n                  className={`w-full px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                />\n              </div>\n            </div>\n\n            {/* Refund Policy */}\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <div className=\"flex items-center gap-2 mb-6\">\n                <DollarSign className=\"w-5 h-5 text-yellow-500\" />\n                <h2 className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Refund Policy</h2>\n              </div>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                    Refund Type\n                  </label>\n                  <select\n                    name=\"refundPolicy\"\n                    value={formData.refundPolicy}\n                    onChange={handleInputChange}\n                    className={`w-full px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                  >\n                    <option value=\"full\">Full Refund</option>\n                    <option value=\"partial\">Partial Refund</option>\n                    <option value=\"store_credit\">Store Credit</option>\n                  </select>\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                    Processing Days\n                  </label>\n                  <input\n                    type=\"number\"\n                    name=\"refundProcessingDays\"\n                    value={formData.refundProcessingDays}\n                    onChange={handleInputChange}\n                    min=\"1\"\n                    className={`w-full px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Bank Details Sidebar */}\n          <div className=\"space-y-6\">\n            {/* Bank Account */}\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <div className=\"flex items-center gap-2 mb-6\">\n                <Lock className=\"w-5 h-5 text-indigo-500\" />\n                <h2 className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Bank Account</h2>\n              </div>\n              <div className=\"space-y-3\">\n                <div>\n                  <label className={`block text-sm font-medium mb-1 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                    Bank Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"bankName\"\n                    value={formData.bankDetails.bankName}\n                    onChange={handleBankDetailsChange}\n                    placeholder=\"Enter bank name\"\n                    className={`w-full px-3 py-2 rounded-lg border text-sm ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                  />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-1 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                    Account Holder\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"accountHolder\"\n                    value={formData.bankDetails.accountHolder}\n                    onChange={handleBankDetailsChange}\n                    placeholder=\"Full name\"\n                    className={`w-full px-3 py-2 rounded-lg border text-sm ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                  />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-1 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                    Account Number\n                  </label>\n                  <input\n                    type=\"password\"\n                    name=\"accountNumber\"\n                    value={formData.bankDetails.accountNumber}\n                    onChange={handleBankDetailsChange}\n                    placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\n                    className={`w-full px-3 py-2 rounded-lg border text-sm ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                  />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-1 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                    Routing Number\n                  </label>\n                  <input\n                    type=\"password\"\n                    name=\"routingNumber\"\n                    value={formData.bankDetails.routingNumber}\n                    onChange={handleBankDetailsChange}\n                    placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\n                    className={`w-full px-3 py-2 rounded-lg border text-sm ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* PayPal */}\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <h3 className={`text-lg font-bold mb-4 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>PayPal</h3>\n              <div>\n                <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                  PayPal Email\n                </label>\n                <input\n                  type=\"email\"\n                  name=\"paypalEmail\"\n                  value={formData.paypalEmail}\n                  onChange={handleInputChange}\n                  placeholder=\"your@email.com\"\n                  className={`w-full px-3 py-2 rounded-lg border text-sm ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                />\n              </div>\n            </div>\n\n            {/* Stripe */}\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <div className=\"flex items-center justify-between\">\n                <h3 className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Stripe</h3>\n                <span className={`text-xs font-semibold px-2 py-1 rounded ${formData.stripeConnected ? 'bg-green-900/20 text-green-400' : 'bg-slate-700 text-slate-400'}`}>\n                  {formData.stripeConnected ? 'Connected' : 'Not Connected'}\n                </span>\n              </div>\n              <button className=\"w-full mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm font-medium\">\n                {formData.stripeConnected ? 'Manage' : 'Connect'} Stripe\n              </button>\n            </div>\n\n            {/* M-Pesa */}\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <h3 className={`text-lg font-bold mb-4 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>M-Pesa ðŸ“±</h3>\n              <div className=\"space-y-3\">\n                <div>\n                  <label className={`block text-sm font-medium mb-1 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                    Till Number\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.mpesaTillNumber}\n                    onChange={(e) => setFormData(prev => ({ ...prev, mpesaTillNumber: e.target.value }))}\n                    placeholder=\"e.g. 123456\"\n                    className={`w-full px-3 py-2 rounded-lg border text-sm ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                  />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-1 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                    Paybill Number\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.mpesaPaybill}\n                    onChange={(e) => setFormData(prev => ({ ...prev, mpesaPaybill: e.target.value }))}\n                    placeholder=\"e.g. 654321\"\n                    className={`w-full px-3 py-2 rounded-lg border text-sm ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                  />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-1 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                    Account Number\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.mpesaAccountNumber}\n                    onChange={(e) => setFormData(prev => ({ ...prev, mpesaAccountNumber: e.target.value }))}\n                    placeholder=\"e.g. STAYSPOT\"\n                    className={`w-full px-3 py-2 rounded-lg border text-sm ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                  />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-1 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>\n                    Phone Number\n                  </label>\n                  <input\n                    type=\"tel\"\n                    value={formData.mpesaPhoneNumber}\n                    onChange={(e) => setFormData(prev => ({ ...prev, mpesaPhoneNumber: e.target.value }))}\n                    placeholder=\"e.g. +254712345678\"\n                    className={`w-full px-3 py-2 rounded-lg border text-sm ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Save Button */}\n        <div className=\"mt-8 flex justify-end\">\n          <button\n            onClick={handleSave}\n            disabled={saving}\n            className=\"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition disabled:opacity-50\"\n          >\n            <Save className=\"w-5 h-5\" />\n            {saving ? 'Saving...' : 'Save Settings'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PaymentSettings;\n","import React, { useState, useEffect } from 'react';\nimport { Building2, Search, Filter, ChevronLeft, ChevronRight, MapPin, CheckCircle, AlertCircle, Clock, FileText, Download, Eye } from 'lucide-react';\nimport { useThemeMode } from '../../hooks/useThemeMode';\nimport axios from 'axios';\n\nconst PropertyVerification = () => {\n  const { isDarkMode } = useThemeMode();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [properties, setProperties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [stats, setStats] = useState(null);\n  const [selectedProperty, setSelectedProperty] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [actionLoading, setActionLoading] = useState(false);\n\n  const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';\n  const limit = 10;\n\n  useEffect(() => {\n    fetchProperties();\n  }, [filterStatus, page]);\n\n  const fetchProperties = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const params = {\n        page,\n        limit,\n        verificationStatus: filterStatus !== 'all' ? filterStatus : undefined\n      };\n\n      const response = await axios.get(`${API_URL}/properties`, {\n        params,\n        headers: { Authorization: `Bearer ${token}` },\n        timeout: 5000\n      });\n\n      if (response.data?.success) {\n        const propertyData = response.data.data || [];\n        setProperties(propertyData);\n        if (response.data.pagination) {\n          setTotalPages(response.data.pagination.pages);\n        }\n\n        const verified = propertyData.filter(p => p.verificationStatus === 'verified');\n        const pending = propertyData.filter(p => p.verificationStatus === 'pending');\n        const rejected = propertyData.filter(p => p.verificationStatus === 'rejected');\n\n        setStats({\n          totalProperties: propertyData.length,\n          verifiedProperties: verified.length,\n          pendingProperties: pending.length,\n          rejectedProperties: rejected.length,\n          verificationRate: propertyData.length > 0 ? Math.round((verified.length / propertyData.length) * 100) : 0\n        });\n      }\n    } catch (error) {\n      console.log('Error fetching properties:', error.message);\n      setProperties([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredProperties = properties.filter(property => {\n    return !searchTerm || \n      property.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      property.address?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      property.city?.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n\n  const getStatusColor = (status) => {\n    const colors = {\n      verified: isDarkMode ? 'bg-green-900/20 text-green-400 border-green-700' : 'bg-green-100 text-green-800 border-green-300',\n      pending: isDarkMode ? 'bg-yellow-900/20 text-yellow-400 border-yellow-700' : 'bg-yellow-100 text-yellow-800 border-yellow-300',\n      rejected: isDarkMode ? 'bg-red-900/20 text-red-400 border-red-700' : 'bg-red-100 text-red-800 border-red-300'\n    };\n    return colors[status] || colors.pending;\n  };\n\n  const getStatusIcon = (status) => {\n    switch(status) {\n      case 'verified':\n        return <CheckCircle className=\"w-5 h-5 text-green-500\" />;\n      case 'rejected':\n        return <AlertCircle className=\"w-5 h-5 text-red-500\" />;\n      default:\n        return <Clock className=\"w-5 h-5 text-yellow-500\" />;\n    }\n  };\n\n  const handleApprove = async (propertyId) => {\n    try {\n      setActionLoading(true);\n      const token = localStorage.getItem('token');\n      \n      await axios.put(`${API_URL}/properties/${propertyId}/verify`, \n        { verificationStatus: 'verified', notes: 'Approved' },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n\n      setProperties(properties.map(p => \n        p.id === propertyId ? { ...p, verificationStatus: 'verified' } : p\n      ));\n      setShowModal(false);\n      fetchProperties();\n    } catch (error) {\n      console.log('Error approving property:', error.message);\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleReject = async (propertyId) => {\n    try {\n      setActionLoading(true);\n      const token = localStorage.getItem('token');\n      \n      await axios.put(`${API_URL}/properties/${propertyId}/verify`, \n        { verificationStatus: 'rejected', notes: 'Rejected' },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n\n      setProperties(properties.map(p => \n        p.id === propertyId ? { ...p, verificationStatus: 'rejected' } : p\n      ));\n      setShowModal(false);\n      fetchProperties();\n    } catch (error) {\n      console.log('Error rejecting property:', error.message);\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const formatDate = (date) => {\n    return new Date(date).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-950' : 'bg-gradient-to-br from-slate-50 to-slate-100'}`}>\n      {/* Header */}\n      <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-900/50' : 'border-slate-200 bg-white/40'} backdrop-blur-xl sticky top-0 z-10`}>\n        <div className=\"max-w-7xl mx-auto px-6 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg\">\n                <Building2 className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Property Verification</h1>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Verify and manage property documents</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Statistics */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Properties</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{stats.totalProperties}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Verified</p>\n              <p className={`text-3xl font-bold mt-2 text-green-600`}>{stats.verifiedProperties}</p>\n              <p className={`text-xs mt-2 ${isDarkMode ? 'text-slate-500' : 'text-slate-500'}`}>{stats.verificationRate}% verified</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Pending</p>\n              <p className={`text-3xl font-bold mt-2 text-yellow-600`}>{stats.pendingProperties}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Rejected</p>\n              <p className={`text-3xl font-bold mt-2 text-red-600`}>{stats.rejectedProperties}</p>\n            </div>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className={`rounded-xl shadow p-6 border mb-8 ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-3 w-5 h-5 text-slate-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search by name, address, or city...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`w-full pl-10 pr-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500' : 'bg-slate-50 border-slate-300 text-slate-900 placeholder-slate-400'}`}\n              />\n            </div>\n            <select\n              value={filterStatus}\n              onChange={(e) => {\n                setFilterStatus(e.target.value);\n                setPage(1);\n              }}\n              className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"verified\">Verified</option>\n              <option value=\"pending\">Pending</option>\n              <option value=\"rejected\">Rejected</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Properties Table */}\n        <div className={`rounded-xl shadow border overflow-hidden ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n          {loading ? (\n            <div className=\"p-12 text-center\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-3\"></div>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>Loading properties...</p>\n            </div>\n          ) : filteredProperties.length === 0 ? (\n            <div className=\"p-12 text-center\">\n              <Building2 className={`w-12 h-12 mx-auto mb-3 ${isDarkMode ? 'text-slate-600' : 'text-slate-400'}`} />\n              <p className={`text-lg font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>No properties found</p>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className={`border-b ${isDarkMode ? 'bg-slate-800/50 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                  <tr>\n                    <th className={`px-6 py-4 text-left text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Property</th>\n                    <th className={`px-6 py-4 text-left text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Location</th>\n                    <th className={`px-6 py-4 text-left text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Status</th>\n                    <th className={`px-6 py-4 text-left text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Verified At</th>\n                    <th className={`px-6 py-4 text-left text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Actions</th>\n                  </tr>\n                </thead>\n                <tbody className={`divide-y ${isDarkMode ? 'divide-slate-700' : 'divide-slate-200'}`}>\n                  {filteredProperties.map((property) => (\n                    <tr key={property.id} className={`hover:${isDarkMode ? 'bg-slate-800/30' : 'bg-slate-50'} transition`}>\n                      <td className=\"px-6 py-4\">\n                        <div>\n                          <p className={`font-semibold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{property.name}</p>\n                          <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{property.type}</p>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className=\"flex items-center gap-1 text-sm\">\n                          <MapPin className=\"w-4 h-4 text-slate-400\" />\n                          <span className={isDarkMode ? 'text-slate-300' : 'text-slate-700'}>{property.city}, {property.state}</span>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className={`inline-flex items-center gap-2 px-3 py-1 rounded-full border text-sm font-semibold ${getStatusColor(property.verificationStatus)}`}>\n                          {getStatusIcon(property.verificationStatus)}\n                          {property.verificationStatus.charAt(0).toUpperCase() + property.verificationStatus.slice(1)}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n                          {property.verifiedAt ? formatDate(property.verifiedAt) : '-'}\n                        </p>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <button\n                          onClick={() => {\n                            setSelectedProperty(property);\n                            setShowModal(true);\n                          }}\n                          className={`px-3 py-1 rounded-lg text-sm font-semibold transition ${isDarkMode ? 'bg-blue-900/20 text-blue-400 hover:bg-blue-900/30' : 'bg-blue-50 text-blue-600 hover:bg-blue-100'}`}\n                        >\n                          Review\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"flex items-center justify-between mt-8\">\n            <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n              Page {page} of {totalPages}\n            </p>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setPage(Math.max(1, page - 1))}\n                disabled={page === 1}\n                className={`p-2 rounded-lg border transition ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'} disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                <ChevronLeft className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={() => setPage(Math.min(totalPages, page + 1))}\n                disabled={page === totalPages}\n                className={`p-2 rounded-lg border transition ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'} disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                <ChevronRight className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Detail Modal */}\n      {showModal && selectedProperty && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className={`rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto ${isDarkMode ? 'bg-slate-900' : 'bg-white'}`}>\n            {/* Modal Header */}\n            <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-800/50' : 'border-slate-200 bg-slate-50'} p-6 flex items-center justify-between sticky top-0`}>\n              <h2 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.name}</h2>\n              <button\n                onClick={() => setShowModal(false)}\n                className={`p-2 rounded-lg transition ${isDarkMode ? 'hover:bg-slate-700' : 'hover:bg-slate-100'}`}\n              >\n                âœ•\n              </button>\n            </div>\n\n            {/* Modal Content */}\n            <div className=\"p-6 space-y-6\">\n              {/* Property Info */}\n              <div className={`rounded-lg p-4 border ${isDarkMode ? 'bg-slate-800/30 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                <h3 className={`font-semibold mb-4 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Property Information</h3>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Address</p>\n                    <p className={`font-semibold mt-1 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.address}</p>\n                  </div>\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>City, State</p>\n                    <p className={`font-semibold mt-1 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.city}, {selectedProperty.state}</p>\n                  </div>\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Type</p>\n                    <p className={`font-semibold mt-1 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.type}</p>\n                  </div>\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Status</p>\n                    <p className={`font-semibold mt-1 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.status}</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Verification Status */}\n              <div className={`rounded-lg p-4 border ${isDarkMode ? 'bg-slate-800/30 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                <h3 className={`font-semibold mb-4 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Verification Status</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className={isDarkMode ? 'text-slate-300' : 'text-slate-700'}>Current Status</span>\n                    <div className={`inline-flex items-center gap-2 px-3 py-1 rounded-full border text-sm font-semibold ${getStatusColor(selectedProperty.verificationStatus)}`}>\n                      {getStatusIcon(selectedProperty.verificationStatus)}\n                      {selectedProperty.verificationStatus.charAt(0).toUpperCase() + selectedProperty.verificationStatus.slice(1)}\n                    </div>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className={isDarkMode ? 'text-slate-300' : 'text-slate-700'}>Verified At</span>\n                    <span className={`text-sm font-semibold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>\n                      {selectedProperty.verifiedAt ? formatDate(selectedProperty.verifiedAt) : 'Not verified'}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Modal Footer */}\n            <div className={`border-t ${isDarkMode ? 'border-slate-800 bg-slate-800/50' : 'border-slate-200 bg-slate-50'} p-6 flex gap-3 justify-end sticky bottom-0`}>\n              <button\n                onClick={() => setShowModal(false)}\n                className={`px-4 py-2 rounded-lg font-semibold transition ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-slate-200 text-slate-900 hover:bg-slate-300'}`}\n              >\n                Close\n              </button>\n              {selectedProperty.verificationStatus !== 'verified' && (\n                <button\n                  onClick={() => handleApprove(selectedProperty.id)}\n                  disabled={actionLoading}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition disabled:opacity-50\"\n                >\n                  {actionLoading ? 'Approving...' : 'Approve'}\n                </button>\n              )}\n              {selectedProperty.verificationStatus !== 'rejected' && (\n                <button\n                  onClick={() => handleReject(selectedProperty.id)}\n                  disabled={actionLoading}\n                  className=\"px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition disabled:opacity-50\"\n                >\n                  {actionLoading ? 'Rejecting...' : 'Reject'}\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PropertyVerification;\n","import React, { useState, useEffect } from 'react';\nimport { Building2, Plus, Search, Filter, ChevronLeft, ChevronRight, MapPin, Home, Grid3x3, List, Zap, TrendingUp, X } from 'lucide-react';\nimport { useThemeMode } from '../../hooks/useThemeMode';\nimport axios from 'axios';\nimport AddPropertyModal from '../../components/common/AddPropertyModal';\n\nconst Properties = () => {\n  const { isDarkMode } = useThemeMode();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [properties, setProperties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [stats, setStats] = useState(null);\n  const [viewMode, setViewMode] = useState('grid');\n  const [sortBy, setSortBy] = useState('name');\n  const [showAddModal, setShowAddModal] = useState(false);\n\n  const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';\n  const limit = 12;\n\n  useEffect(() => {\n    fetchProperties();\n  }, [filterStatus, page]);\n\n  const fetchProperties = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const params = {\n        page,\n        limit,\n        status: filterStatus !== 'all' ? filterStatus : undefined\n      };\n\n      const response = await axios.get(`${API_URL}/properties`, {\n        params,\n        headers: { Authorization: `Bearer ${token}` },\n        timeout: 5000\n      });\n\n      if (response.data?.success) {\n        const propertyData = response.data.data || [];\n        setProperties(propertyData);\n        if (response.data.pagination) {\n          setTotalPages(response.data.pagination.pages);\n        }\n\n        const active = propertyData.filter(p => p.status === 'active');\n        const inactive = propertyData.filter(p => p.status === 'inactive');\n        const maintenance = propertyData.filter(p => p.status === 'maintenance');\n\n        const totalUnits = propertyData.reduce((sum, p) => sum + (p.unitCount || 0), 0);\n        const occupiedUnits = propertyData.reduce((sum, p) => sum + (p.occupiedUnits || 0), 0);\n        const totalValue = propertyData.reduce((sum, p) => sum + (p.estimatedValue || 0), 0);\n\n        setStats({\n          totalProperties: propertyData.length,\n          activeProperties: active.length,\n          inactiveProperties: inactive.length,\n          maintenanceProperties: maintenance.length,\n          totalUnits,\n          occupiedUnits,\n          totalValue\n        });\n      }\n    } catch (error) {\n      console.log('Error fetching properties:', error.message);\n      setProperties([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getSortedProperties = () => {\n    const sorted = [...filteredProperties];\n    if (sortBy === 'value') {\n      sorted.sort((a, b) => (b.estimatedValue || 0) - (a.estimatedValue || 0));\n    } else if (sortBy === 'units') {\n      sorted.sort((a, b) => (b.unitCount || 0) - (a.unitCount || 0));\n    } else {\n      sorted.sort((a, b) => (a.name || '').localeCompare(b.name || ''));\n    }\n    return sorted;\n  };\n\n  const filteredProperties = properties.filter(property => {\n    return !searchTerm || \n      property.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      property.address?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      property.city?.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n\n  const getStatusColor = (status) => {\n    const colors = {\n      active: isDarkMode ? 'bg-green-900/20 text-green-400' : 'bg-green-100 text-green-800',\n      inactive: isDarkMode ? 'bg-slate-900/20 text-slate-400' : 'bg-slate-100 text-slate-800',\n      maintenance: isDarkMode ? 'bg-yellow-900/20 text-yellow-400' : 'bg-yellow-100 text-yellow-800'\n    };\n    return colors[status] || colors.inactive;\n  };\n\n  const formatCurrency = (value) => {\n    return `$${(value || 0).toLocaleString('en-US', { maximumFractionDigits: 0 })}`;\n  };\n\n  const sortedProperties = getSortedProperties();\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-950' : 'bg-gradient-to-br from-slate-50 to-slate-100'}`}>\n      {/* Header */}\n      <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-900/50' : 'border-slate-200 bg-white/40'} backdrop-blur-xl sticky top-0 z-10`}>\n        <div className=\"max-w-7xl mx-auto px-6 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg\">\n                <Building2 className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Properties</h1>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Manage your property portfolio</p>\n              </div>\n            </div>\n            <button onClick={() => setShowAddModal(true)} className=\"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition flex items-center gap-2 font-semibold\">\n              <Plus className=\"w-5 h-5\" /> Add Property\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Statistics */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Properties</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{stats.totalProperties}</p>\n              <p className={`text-xs mt-2 ${isDarkMode ? 'text-slate-500' : 'text-slate-500'}`}>{stats.activeProperties} active</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Units</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{stats.totalUnits}</p>\n              <p className={`text-xs mt-2 ${isDarkMode ? 'text-slate-500' : 'text-slate-500'}`}>{stats.occupiedUnits} occupied</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Portfolio Value</p>\n              <p className={`text-2xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{formatCurrency(stats.totalValue)}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Occupancy Rate</p>\n              <p className={`text-3xl font-bold mt-2 text-blue-600`}>{stats.totalUnits > 0 ? Math.round((stats.occupiedUnits / stats.totalUnits) * 100) : 0}%</p>\n            </div>\n          </div>\n        )}\n\n        {/* Filters & Controls */}\n        <div className={`rounded-xl shadow p-6 border mb-8 ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-3 w-5 h-5 text-slate-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search by name, address, or city...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`w-full pl-10 pr-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500' : 'bg-slate-50 border-slate-300 text-slate-900 placeholder-slate-400'}`}\n              />\n            </div>\n            <select\n              value={filterStatus}\n              onChange={(e) => {\n                setFilterStatus(e.target.value);\n                setPage(1);\n              }}\n              className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"active\">Active</option>\n              <option value=\"inactive\">Inactive</option>\n              <option value=\"maintenance\">Maintenance</option>\n            </select>\n            <select\n              value={sortBy}\n              onChange={(e) => setSortBy(e.target.value)}\n              className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n            >\n              <option value=\"name\">Sort by Name</option>\n              <option value=\"value\">Sort by Value</option>\n              <option value=\"units\">Sort by Units</option>\n            </select>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setViewMode('grid')}\n                className={`flex-1 px-4 py-2 rounded-lg border flex items-center justify-center gap-2 transition ${viewMode === 'grid' ? isDarkMode ? 'bg-blue-900/20 border-blue-700 text-blue-400' : 'bg-blue-50 border-blue-300 text-blue-600' : isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-slate-50 border-slate-300 text-slate-900 hover:bg-slate-100'}`}\n              >\n                <Grid3x3 className=\"w-4 h-4\" />\n              </button>\n              <button\n                onClick={() => setViewMode('list')}\n                className={`flex-1 px-4 py-2 rounded-lg border flex items-center justify-center gap-2 transition ${viewMode === 'list' ? isDarkMode ? 'bg-blue-900/20 border-blue-700 text-blue-400' : 'bg-blue-50 border-blue-300 text-blue-600' : isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-slate-50 border-slate-300 text-slate-900 hover:bg-slate-100'}`}\n              >\n                <List className=\"w-4 h-4\" />\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Properties View */}\n        <div>\n          {loading ? (\n            <div className=\"p-12 text-center\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-3\"></div>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>Loading properties...</p>\n            </div>\n          ) : sortedProperties.length === 0 ? (\n            <div className={`p-12 text-center rounded-xl border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <Building2 className={`w-12 h-12 mx-auto mb-3 ${isDarkMode ? 'text-slate-600' : 'text-slate-400'}`} />\n              <p className={`text-lg font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>No properties found</p>\n            </div>\n          ) : (\n            <div className={viewMode === 'grid' ? 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6' : 'space-y-4'}>\n              {sortedProperties.map((property, idx) => (\n                <div key={idx} className={`rounded-xl shadow border overflow-hidden transition ${isDarkMode ? 'bg-slate-900/50 border-slate-700 hover:border-blue-600/50 hover:shadow-lg' : 'bg-white border-slate-200 hover:border-blue-300 hover:shadow-lg'}`}>\n                  {viewMode === 'grid' ? (\n                    <>\n                      {/* Image */}\n                      <div className={`h-48 bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center relative ${property.images?.length > 0 ? 'bg-cover bg-center' : ''}`} style={property.images?.length > 0 ? { backgroundImage: `url(${property.images[0]})` } : {}}>\n                        {!property.images?.length && <Home className=\"w-12 h-12 text-white/50\" />}\n                        <div className=\"absolute top-3 right-3 flex gap-2\">\n                          {property.status === 'active' && <span className=\"px-2 py-1 bg-green-500 text-white text-xs font-semibold rounded-full\">Active</span>}\n                          {property.occupiedUnits === property.unitCount && property.unitCount > 0 && <span className=\"px-2 py-1 bg-blue-500 text-white text-xs font-semibold rounded-full flex items-center gap-1\"><Zap className=\"w-3 h-3\" /> Full</span>}\n                        </div>\n                      </div>\n\n                      {/* Content */}\n                      <div className=\"p-6\">\n                        <div className=\"flex items-start justify-between mb-3\">\n                          <div className=\"flex-1\">\n                            <h3 className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>\n                              {property.name}\n                            </h3>\n                            <div className=\"flex items-center gap-1 mt-1 text-sm text-slate-500\">\n                              <MapPin className=\"w-4 h-4\" />\n                              {property.city}, {property.state}\n                            </div>\n                          </div>\n                        </div>\n\n                        <p className={`text-sm mb-4 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n                          {property.address}\n                        </p>\n\n                        {/* Stats */}\n                        <div className=\"grid grid-cols-3 gap-3 mb-4 pt-4 border-t\" style={{borderColor: isDarkMode ? '#334155' : '#e2e8f0'}}>\n                          <div className=\"text-center\">\n                            <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Units</p>\n                            <p className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>\n                              {property.unitCount || 0}\n                            </p>\n                          </div>\n                          <div className=\"text-center\">\n                            <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Occupied</p>\n                            <p className={`text-lg font-bold text-green-600`}>\n                              {property.occupiedUnits || 0}\n                            </p>\n                          </div>\n                          <div className=\"text-center\">\n                            <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Value</p>\n                            <p className={`text-sm font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>\n                              {formatCurrency(property.estimatedValue)}\n                            </p>\n                          </div>\n                        </div>\n\n                        {/* Action Button */}\n                        <button className={`w-full px-4 py-2 rounded-lg font-semibold transition ${isDarkMode ? 'bg-blue-900/20 text-blue-400 hover:bg-blue-900/30' : 'bg-blue-50 text-blue-600 hover:bg-blue-100'}`}>\n                          View Details\n                        </button>\n                      </div>\n                    </>\n                  ) : (\n                    <div className={`p-6 flex items-center justify-between`}>\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-3 mb-2\">\n                          <h3 className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>\n                            {property.name}\n                          </h3>\n                          <span className={`px-2 py-1 rounded-full text-xs font-semibold ${getStatusColor(property.status)}`}>\n                            {property.status?.charAt(0).toUpperCase() + property.status?.slice(1)}\n                          </span>\n                        </div>\n                        <div className=\"flex items-center gap-4 text-sm\">\n                          <div className=\"flex items-center gap-1 text-slate-500\">\n                            <MapPin className=\"w-4 h-4\" />\n                            {property.address}, {property.city}, {property.state}\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-8 ml-4\">\n                        <div className=\"text-center\">\n                          <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Units</p>\n                          <p className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{property.unitCount || 0}</p>\n                        </div>\n                        <div className=\"text-center\">\n                          <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Occupied</p>\n                          <p className=\"text-xl font-bold text-green-600\">{property.occupiedUnits || 0}</p>\n                        </div>\n                        <div className=\"text-center\">\n                          <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Value</p>\n                          <p className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{formatCurrency(property.estimatedValue)}</p>\n                        </div>\n                        <button className={`px-4 py-2 rounded-lg font-semibold transition ${isDarkMode ? 'bg-blue-900/20 text-blue-400 hover:bg-blue-900/30' : 'bg-blue-50 text-blue-600 hover:bg-blue-100'}`}>\n                          View\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"flex items-center justify-between mt-8\">\n            <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n              Page {page} of {totalPages}\n            </p>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setPage(Math.max(1, page - 1))}\n                disabled={page === 1}\n                className={`p-2 rounded-lg border transition ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'} disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                <ChevronLeft className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={() => setPage(Math.min(totalPages, page + 1))}\n                disabled={page === totalPages}\n                className={`p-2 rounded-lg border transition ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'} disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                <ChevronRight className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <AddPropertyModal \n        isOpen={showAddModal}\n        onClose={() => setShowAddModal(false)}\n        onAdd={(data) => {\n          setProperties([data, ...properties]);\n          setShowAddModal(false);\n        }}\n      />\n    </div>\n  );\n};\n\nexport default Properties;\n","import React, { useState, useEffect } from 'react';\nimport { Home, Plus, Search, Filter, ChevronLeft, ChevronRight, MapPin, Star, DollarSign, Users, Calendar, Wifi, Coffee, Wind, Tv, Utensils, Bed, Bath, AlertCircle, CheckCircle, Clock, X } from 'lucide-react';\nimport { useThemeMode } from '../../hooks/useThemeMode';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport axios from 'axios';\n\nconst BnBProperties = () => {\n  const { isDarkMode } = useThemeMode();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [filterType, setFilterType] = useState('all');\n  const [properties, setProperties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [stats, setStats] = useState(null);\n  const [selectedProperty, setSelectedProperty] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [viewMode, setViewMode] = useState('grid');\n  const [sortBy, setSortBy] = useState('name');\n  const [step, setStep] = useState(1);\n  const [images, setImages] = useState([]);\n  const [mapPosition, setMapPosition] = useState([51.505, -0.09]);\n  const [formData, setFormData] = useState({ name: '', address: '', city: '', type: 'apartment', bedrooms: '', bathrooms: '', guests: '', pricePerNight: '', description: '', amenities: [], checkIn: '', checkOut: '', minStay: '', maxGuests: '', latitude: 51.505, longitude: -0.09 });\n\n  const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';\n  const limit = 12;\n\n  useEffect(() => {\n    fetchProperties();\n  }, [filterStatus, filterType, page]);\n\n  const fetchProperties = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const params = {\n        page,\n        limit,\n        type: filterType !== 'all' ? filterType : undefined,\n        status: filterStatus !== 'all' ? filterStatus : undefined\n      };\n\n      const response = await axios.get(`${API_URL}/properties`, {\n        params,\n        headers: { Authorization: `Bearer ${token}` },\n        timeout: 5000\n      });\n\n      if (response.data?.success) {\n        const propertyData = response.data.data || [];\n        \n        const bnbProperties = propertyData.map(p => ({\n          ...p,\n          rating: (Math.random() * 2 + 3.5).toFixed(1),\n          reviews: Math.floor(Math.random() * 200) + 10,\n          occupancyRate: Math.floor(Math.random() * 40) + 60,\n          monthlyRevenue: Math.floor(Math.random() * 8000) + 2000,\n          amenities: ['WiFi', 'Kitchen', 'AC', 'TV', 'Parking'],\n          bedrooms: Math.floor(Math.random() * 4) + 1,\n          bathrooms: Math.floor(Math.random() * 3) + 1,\n          guests: Math.floor(Math.random() * 6) + 2\n        }));\n\n        setProperties(bnbProperties);\n        if (response.data.pagination) {\n          setTotalPages(response.data.pagination.pages);\n        }\n\n        const active = bnbProperties.filter(p => p.status === 'active');\n        const inactive = bnbProperties.filter(p => p.status === 'inactive');\n        const totalRevenue = bnbProperties.reduce((sum, p) => sum + p.monthlyRevenue, 0);\n        const avgRating = (bnbProperties.reduce((sum, p) => sum + parseFloat(p.rating), 0) / bnbProperties.length).toFixed(1);\n\n        setStats({\n          totalProperties: bnbProperties.length,\n          activeProperties: active.length,\n          inactiveProperties: inactive.length,\n          totalRevenue,\n          avgRating,\n          totalReviews: bnbProperties.reduce((sum, p) => sum + p.reviews, 0)\n        });\n      }\n    } catch (error) {\n      console.log('Error fetching properties:', error.message);\n      setProperties([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredProperties = properties.filter(property => {\n    return !searchTerm || \n      property.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      property.address?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      property.city?.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n\n  const getSortedProperties = () => {\n    const sorted = [...filteredProperties];\n    if (sortBy === 'rating') {\n      sorted.sort((a, b) => parseFloat(b.rating) - parseFloat(a.rating));\n    } else if (sortBy === 'revenue') {\n      sorted.sort((a, b) => b.monthlyRevenue - a.monthlyRevenue);\n    } else if (sortBy === 'occupancy') {\n      sorted.sort((a, b) => b.occupancyRate - a.occupancyRate);\n    } else {\n      sorted.sort((a, b) => (a.name || '').localeCompare(b.name || ''));\n    }\n    return sorted;\n  };\n\n  const formatCurrency = (value) => {\n    return `$${(value || 0).toLocaleString('en-US', { maximumFractionDigits: 0 })}`;\n  };\n\n  const sortedProperties = getSortedProperties();\n\n  const amenityIcons = {\n    'WiFi': <Wifi className=\"w-4 h-4\" />,\n    'Kitchen': <Utensils className=\"w-4 h-4\" />,\n    'AC': <Wind className=\"w-4 h-4\" />,\n    'TV': <Tv className=\"w-4 h-4\" />,\n    'Parking': <Home className=\"w-4 h-4\" />\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-950' : 'bg-gradient-to-br from-slate-50 to-slate-100'}`}>\n      {/* Header */}\n      <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-900/50' : 'border-slate-200 bg-white/40'} backdrop-blur-xl sticky top-0 z-10`}>\n        <div className=\"max-w-7xl mx-auto px-6 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg\">\n                <Home className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>BnB Properties</h1>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Manage your short-term rental portfolio</p>\n              </div>\n            </div>\n            <button onClick={() => {setShowAddModal(true); setStep(1); setImages([]);}} className=\"px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition flex items-center gap-2 font-semibold\">\n              <Plus className=\"w-5 h-5\" /> Add Property\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Statistics */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8\">\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Properties</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{stats.totalProperties}</p>\n              <p className={`text-xs mt-2 ${isDarkMode ? 'text-slate-500' : 'text-slate-500'}`}>{stats.activeProperties} active</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Monthly Revenue</p>\n              <p className={`text-2xl font-bold mt-2 text-green-600`}>{formatCurrency(stats.totalRevenue)}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Avg Rating</p>\n              <div className=\"flex items-center gap-2 mt-2\">\n                <p className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{stats.avgRating}</p>\n                <Star className=\"w-5 h-5 text-yellow-500 fill-yellow-500\" />\n              </div>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Reviews</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{stats.totalReviews}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Avg Occupancy</p>\n              <p className={`text-3xl font-bold mt-2 text-blue-600`}>72%</p>\n            </div>\n          </div>\n        )}\n\n        {/* Filters & Controls */}\n        <div className={`rounded-xl shadow p-6 border mb-8 ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-3 w-5 h-5 text-slate-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search properties...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`w-full pl-10 pr-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500' : 'bg-slate-50 border-slate-300 text-slate-900 placeholder-slate-400'}`}\n              />\n            </div>\n            <select\n              value={filterStatus}\n              onChange={(e) => {\n                setFilterStatus(e.target.value);\n                setPage(1);\n              }}\n              className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"active\">Active</option>\n              <option value=\"inactive\">Inactive</option>\n            </select>\n            <select\n              value={filterType}\n              onChange={(e) => {\n                setFilterType(e.target.value);\n                setPage(1);\n              }}\n              className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n            >\n              <option value=\"all\">All Types</option>\n              <option value=\"apartment\">Apartment</option>\n              <option value=\"house\">House</option>\n              <option value=\"condo\">Condo</option>\n            </select>\n            <select\n              value={sortBy}\n              onChange={(e) => setSortBy(e.target.value)}\n              className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n            >\n              <option value=\"name\">Sort by Name</option>\n              <option value=\"rating\">Sort by Rating</option>\n              <option value=\"revenue\">Sort by Revenue</option>\n              <option value=\"occupancy\">Sort by Occupancy</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Properties Grid */}\n        <div>\n          {loading ? (\n            <div className=\"p-12 text-center\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mx-auto mb-3\"></div>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>Loading properties...</p>\n            </div>\n          ) : sortedProperties.length === 0 ? (\n            <div className={`p-12 text-center rounded-xl border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <Home className={`w-12 h-12 mx-auto mb-3 ${isDarkMode ? 'text-slate-600' : 'text-slate-400'}`} />\n              <p className={`text-lg font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>No properties found</p>\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {sortedProperties.map((property) => (\n                <div key={property.id} className={`rounded-xl shadow border overflow-hidden transition hover:shadow-lg ${isDarkMode ? 'bg-slate-900/50 border-slate-700 hover:border-orange-600/50' : 'bg-white border-slate-200 hover:border-orange-300'}`}>\n                  {/* Image */}\n                  <div className=\"h-48 bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center relative\">\n                    <Home className=\"w-12 h-12 text-white/50\" />\n                    <div className=\"absolute top-3 right-3 flex gap-2\">\n                      {property.status === 'active' && <span className=\"px-2 py-1 bg-green-500 text-white text-xs font-semibold rounded-full\">Active</span>}\n                    </div>\n                    <div className=\"absolute bottom-3 left-3 flex items-center gap-1 bg-black/70 text-white px-2 py-1 rounded-lg\">\n                      <Star className=\"w-4 h-4 fill-yellow-400 text-yellow-400\" />\n                      <span className=\"text-sm font-semibold\">{property.rating}</span>\n                      <span className=\"text-xs text-gray-300\">({property.reviews})</span>\n                    </div>\n                  </div>\n\n                  {/* Content */}\n                  <div className=\"p-6\">\n                    <div className=\"mb-3\">\n                      <h3 className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{property.name}</h3>\n                      <div className=\"flex items-center gap-1 mt-1 text-sm text-slate-500\">\n                        <MapPin className=\"w-4 h-4\" />\n                        {property.city}, {property.state}\n                      </div>\n                    </div>\n\n                    {/* Amenities */}\n                    <div className=\"flex flex-wrap gap-2 mb-4\">\n                      {property.amenities.slice(0, 3).map((amenity, idx) => (\n                        <div key={idx} className={`flex items-center gap-1 px-2 py-1 rounded text-xs ${isDarkMode ? 'bg-slate-800 text-slate-300' : 'bg-slate-100 text-slate-700'}`}>\n                          {amenityIcons[amenity] || <Coffee className=\"w-3 h-3\" />}\n                          {amenity}\n                        </div>\n                      ))}\n                    </div>\n\n                    {/* Stats */}\n                    <div className=\"grid grid-cols-3 gap-3 mb-4 pt-4 border-t\" style={{borderColor: isDarkMode ? '#334155' : '#e2e8f0'}}>\n                      <div className=\"text-center\">\n                        <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Guests</p>\n                        <p className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{property.guests}</p>\n                      </div>\n                      <div className=\"text-center\">\n                        <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Occupancy</p>\n                        <p className=\"text-lg font-bold text-blue-600\">{property.occupancyRate}%</p>\n                      </div>\n                      <div className=\"text-center\">\n                        <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Revenue</p>\n                        <p className={`text-sm font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{formatCurrency(property.monthlyRevenue)}</p>\n                      </div>\n                    </div>\n\n                    {/* Action Button */}\n                    <button \n                      onClick={() => {\n                        setSelectedProperty(property);\n                        setShowModal(true);\n                      }}\n                      className={`w-full px-4 py-2 rounded-lg font-semibold transition ${isDarkMode ? 'bg-orange-900/20 text-orange-400 hover:bg-orange-900/30' : 'bg-orange-50 text-orange-600 hover:bg-orange-100'}`}\n                    >\n                      View Details\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"flex items-center justify-between mt-8\">\n            <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n              Page {page} of {totalPages}\n            </p>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setPage(Math.max(1, page - 1))}\n                disabled={page === 1}\n                className={`p-2 rounded-lg border transition ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'} disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                <ChevronLeft className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={() => setPage(Math.min(totalPages, page + 1))}\n                disabled={page === totalPages}\n                className={`p-2 rounded-lg border transition ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'} disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                <ChevronRight className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Detail Modal */}\n      {showModal && selectedProperty && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className={`rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto ${isDarkMode ? 'bg-slate-900' : 'bg-white'}`}>\n            {/* Modal Header */}\n            <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-800/50' : 'border-slate-200 bg-slate-50'} p-6 flex items-center justify-between sticky top-0`}>\n              <div>\n                <h2 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.name}</h2>\n                <div className=\"flex items-center gap-3 mt-2\">\n                  <div className=\"flex items-center gap-1\">\n                    <Star className=\"w-5 h-5 text-yellow-500 fill-yellow-500\" />\n                    <span className=\"font-semibold\">{selectedProperty.rating}</span>\n                    <span className=\"text-sm text-slate-500\">({selectedProperty.reviews} reviews)</span>\n                  </div>\n                </div>\n              </div>\n              <button\n                onClick={() => setShowModal(false)}\n                className={`p-2 rounded-lg transition ${isDarkMode ? 'hover:bg-slate-700' : 'hover:bg-slate-100'}`}\n              >\n                âœ•\n              </button>\n            </div>\n\n            {/* Modal Content */}\n            <div className=\"p-6 space-y-6\">\n              {/* Property Details */}\n              <div className={`rounded-lg p-4 border ${isDarkMode ? 'bg-slate-800/30 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                <h3 className={`font-semibold mb-4 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Property Details</h3>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Address</p>\n                    <p className={`font-semibold mt-1 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.address}</p>\n                  </div>\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>City</p>\n                    <p className={`font-semibold mt-1 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.city}</p>\n                  </div>\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Type</p>\n                    <p className={`font-semibold mt-1 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.type}</p>\n                  </div>\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Bedrooms</p>\n                    <p className={`font-semibold mt-1 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.bedrooms}</p>\n                  </div>\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Bathrooms</p>\n                    <p className={`font-semibold mt-1 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.bathrooms}</p>\n                  </div>\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Max Guests</p>\n                    <p className={`font-semibold mt-1 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.guests}</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Performance Metrics */}\n              <div className={`rounded-lg p-4 border ${isDarkMode ? 'bg-slate-800/30 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                <h3 className={`font-semibold mb-4 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Performance Metrics</h3>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Monthly Revenue</p>\n                    <p className=\"text-2xl font-bold text-green-600 mt-1\">{formatCurrency(selectedProperty.monthlyRevenue)}</p>\n                  </div>\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Occupancy Rate</p>\n                    <p className=\"text-2xl font-bold text-blue-600 mt-1\">{selectedProperty.occupancyRate}%</p>\n                  </div>\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Rating</p>\n                    <div className=\"flex items-center gap-2 mt-1\">\n                      <p className=\"text-2xl font-bold\">{selectedProperty.rating}</p>\n                      <Star className=\"w-5 h-5 text-yellow-500 fill-yellow-500\" />\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Amenities */}\n              <div className={`rounded-lg p-4 border ${isDarkMode ? 'bg-slate-800/30 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                <h3 className={`font-semibold mb-4 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Amenities</h3>\n                <div className=\"flex flex-wrap gap-3\">\n                  {selectedProperty.amenities.map((amenity, idx) => (\n                    <div key={idx} className={`flex items-center gap-2 px-3 py-2 rounded-lg ${isDarkMode ? 'bg-slate-700 text-slate-200' : 'bg-slate-100 text-slate-700'}`}>\n                      {amenityIcons[amenity] || <Coffee className=\"w-4 h-4\" />}\n                      <span className=\"text-sm font-medium\">{amenity}</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Modal Footer */}\n            <div className={`border-t ${isDarkMode ? 'border-slate-800 bg-slate-800/50' : 'border-slate-200 bg-slate-50'} p-6 flex gap-3 justify-end sticky bottom-0`}>\n              <button\n                onClick={() => setShowModal(false)}\n                className={`px-4 py-2 rounded-lg font-semibold transition ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-slate-200 text-slate-900 hover:bg-slate-300'}`}\n              >\n                Close\n              </button>\n              <button className=\"px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition\">\n                Edit Property\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n\n      {/* Add Property Modal - Enhanced */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto\">\n          <div className=\"bg-gradient-to-b from-slate-900 to-slate-950 rounded-2xl shadow-2xl max-w-2xl w-full my-8 border border-orange-900/30\">\n            <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-6 flex items-center justify-between rounded-t-2xl\">\n              <h2 className=\"text-2xl font-bold text-white\">Add BnB Property</h2>\n              <button onClick={() => {setShowAddModal(false); setStep(1); setImages([]);}} className=\"text-white hover:bg-white hover:bg-opacity-20 p-1 rounded-lg transition\">\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n            <div className=\"flex gap-2 px-6 py-4 bg-slate-800/50 border-b border-orange-900/20\">\n              {[1, 2, 3].map(s => (\n                <div key={s} className={`flex-1 h-2 rounded-full transition-all ${s <= step ? 'bg-gradient-to-r from-orange-500 to-orange-600' : 'bg-slate-700'}`}></div>\n              ))}\n            </div>\n            <div className=\"p-6 space-y-4 max-h-96 overflow-y-auto text-slate-100\">\n              {step === 1 && (\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Property Photos</label>\n                    <div className=\"grid grid-cols-3 gap-2 mb-4\">\n                      {images.map((img, idx) => (\n                        <div key={idx} className=\"relative group\">\n                          <img src={img} alt=\"property\" className=\"w-full h-24 object-cover rounded-lg border border-orange-900/30\" />\n                          <button onClick={() => setImages(images.filter((_, i) => i !== idx))} className=\"absolute top-1 right-1 bg-red-600 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity\">\n                            <X className=\"w-4 h-4\" />\n                          </button>\n                        </div>\n                      ))}\n                      <label className=\"border-2 border-dashed border-orange-600/50 rounded-lg p-4 flex flex-col items-center justify-center cursor-pointer hover:bg-orange-900/20 transition bg-slate-800/50\">\n                        <Plus className=\"text-orange-500 mb-1\" size={20} />\n                        <span className=\"text-xs font-medium text-orange-400\">Add Photos</span>\n                        <input type=\"file\" multiple accept=\"image/*\" onChange={(e) => Array.from(e.target.files).forEach(f => {const r = new FileReader(); r.onload = (ev) => setImages([...images, ev.target.result]); r.readAsDataURL(f);})} className=\"hidden\" />\n                      </label>\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Property Name</label>\n                    <input type=\"text\" placeholder=\"Enter property name\" value={formData.name} onChange={(e) => setFormData({...formData, name: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Description</label>\n                    <textarea placeholder=\"Describe your property\" value={formData.description} onChange={(e) => setFormData({...formData, description: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none\" rows=\"3\"></textarea>\n                  </div>\n                </div>\n              )}\n              {step === 2 && (\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Address</label>\n                    <input type=\"text\" placeholder=\"Enter address\" value={formData.address} onChange={(e) => setFormData({...formData, address: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Latitude</label>\n                      <input type=\"number\" step=\"0.0001\" placeholder=\"51.505\" value={formData.latitude} onChange={(e) => {setFormData({...formData, latitude: parseFloat(e.target.value)}); setMapPosition([parseFloat(e.target.value), formData.longitude]);}} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Longitude</label>\n                      <input type=\"number\" step=\"0.0001\" placeholder=\"-0.09\" value={formData.longitude} onChange={(e) => {setFormData({...formData, longitude: parseFloat(e.target.value)}); setMapPosition([formData.latitude, parseFloat(e.target.value)]);}} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Map Location</label>\n                    <div className=\"rounded-lg overflow-hidden border border-orange-900/30 h-48\">\n                      <MapContainer center={mapPosition} zoom={13} style={{height: '100%', width: '100%'}}>\n                        <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" attribution='&copy; OpenStreetMap contributors' />\n                        <Marker position={mapPosition}>\n                          <Popup>{formData.address || 'Property Location'}</Popup>\n                        </Marker>\n                      </MapContainer>\n                    </div>\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <label className=\"block text-sm font-semibold text-orange-400 mb-2\">City</label>\n                      <input type=\"text\" placeholder=\"City\" value={formData.city} onChange={(e) => setFormData({...formData, city: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Type</label>\n                      <select value={formData.type} onChange={(e) => setFormData({...formData, type: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 focus:outline-none focus:ring-2 focus:ring-orange-500\">\n                        <option value=\"apartment\">Apartment</option>\n                        <option value=\"house\">House</option>\n                        <option value=\"condo\">Condo</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div className=\"grid grid-cols-4 gap-2\">\n                    <div>\n                      <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Bedrooms</label>\n                      <input type=\"number\" placeholder=\"0\" value={formData.bedrooms} onChange={(e) => setFormData({...formData, bedrooms: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Bathrooms</label>\n                      <input type=\"number\" placeholder=\"0\" value={formData.bathrooms} onChange={(e) => setFormData({...formData, bathrooms: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Guests</label>\n                      <input type=\"number\" placeholder=\"0\" value={formData.guests} onChange={(e) => setFormData({...formData, guests: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Price/Night</label>\n                      <input type=\"number\" placeholder=\"0\" value={formData.pricePerNight} onChange={(e) => setFormData({...formData, pricePerNight: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                    </div>\n                  </div>\n                </div>\n              )}}\n              {step === 3 && (\n                <div className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Check-in Time</label>\n                      <input type=\"time\" value={formData.checkIn} onChange={(e) => setFormData({...formData, checkIn: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Check-out Time</label>\n                      <input type=\"time\" value={formData.checkOut} onChange={(e) => setFormData({...formData, checkOut: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                    </div>\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Min Stay (nights)</label>\n                      <input type=\"number\" placeholder=\"1\" value={formData.minStay} onChange={(e) => setFormData({...formData, minStay: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Max Guests</label>\n                      <input type=\"number\" placeholder=\"0\" value={formData.maxGuests} onChange={(e) => setFormData({...formData, maxGuests: e.target.value})} className=\"w-full px-4 py-2 border border-orange-900/30 rounded-lg bg-slate-800 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Amenities</label>\n                    <div className=\"grid grid-cols-2 gap-2\">\n                      {['WiFi', 'Kitchen', 'AC', 'TV', 'Parking', 'Pool', 'Gym', 'Washer'].map(a => (\n                        <button key={a} onClick={() => setFormData({...formData, amenities: formData.amenities.includes(a) ? formData.amenities.filter(x => x !== a) : [...formData.amenities, a]})} className={`p-2 rounded-lg border-2 transition-all text-sm font-medium ${formData.amenities.includes(a) ? 'border-orange-500 bg-orange-900/30 text-orange-300' : 'border-slate-700 bg-slate-800 text-slate-400 hover:border-orange-600/50'}`}>\n                          {a}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n            <div className=\"bg-slate-800/50 px-6 py-4 flex gap-3 border-t border-orange-900/20 rounded-b-2xl\">\n              <button onClick={() => step > 1 ? setStep(step - 1) : setShowAddModal(false)} className=\"flex-1 px-4 py-2 border-2 border-slate-700 text-slate-300 font-semibold rounded-lg hover:bg-slate-700 transition-colors\">{step === 1 ? 'Cancel' : 'Back'}</button>\n              <button onClick={() => step < 3 ? setStep(step + 1) : (setProperties([{id: Date.now(), name: formData.name, address: formData.address, city: formData.city, type: formData.type, bedrooms: parseInt(formData.bedrooms), bathrooms: parseInt(formData.bathrooms), guests: parseInt(formData.guests), status: 'active', rating: '4.5', reviews: 0, occupancyRate: 0, monthlyRevenue: 0, amenities: formData.amenities, image: images[0] || 'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=500&h=300&fit=crop'}, ...properties]), setShowAddModal(false), setStep(1), setImages([]))} className=\"flex-1 px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white font-semibold rounded-lg hover:from-orange-700 hover:to-orange-800 transition-all\">{step === 3 ? 'Add Property' : 'Next'}</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BnBProperties;\n","import React, { useState, useEffect } from 'react';\nimport { Clock, Search, ChevronLeft, ChevronRight, MapPin, AlertCircle, CheckCircle, FileText, Plus, Filter } from 'lucide-react';\nimport { useThemeMode } from '../../hooks/useThemeMode';\nimport axios from 'axios';\n\nconst PendingProperties = () => {\n  const { isDarkMode } = useThemeMode();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterType, setFilterType] = useState('all');\n  const [properties, setProperties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [stats, setStats] = useState(null);\n  const [selectedProperty, setSelectedProperty] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [actionLoading, setActionLoading] = useState(false);\n  const [rejectionReason, setRejectionReason] = useState('');\n\n  const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';\n  const limit = 10;\n\n  useEffect(() => {\n    fetchProperties();\n  }, [filterType, page]);\n\n  const fetchProperties = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const params = {\n        page,\n        limit,\n        verificationStatus: 'pending',\n        type: filterType !== 'all' ? filterType : undefined\n      };\n\n      const response = await axios.get(`${API_URL}/properties`, {\n        params,\n        headers: { Authorization: `Bearer ${token}` },\n        timeout: 5000\n      });\n\n      if (response.data?.success) {\n        const propertyData = response.data.data || [];\n        setProperties(propertyData);\n        if (response.data.pagination) {\n          setTotalPages(response.data.pagination.pages);\n        }\n\n        const daysOld = propertyData.map(p => {\n          const created = new Date(p.createdAt);\n          const now = new Date();\n          return Math.floor((now - created) / (1000 * 60 * 60 * 24));\n        });\n\n        setStats({\n          totalPending: propertyData.length,\n          avgDaysWaiting: propertyData.length > 0 ? Math.round(daysOld.reduce((a, b) => a + b) / daysOld.length) : 0,\n          oldestDays: propertyData.length > 0 ? Math.max(...daysOld) : 0,\n          newestDays: propertyData.length > 0 ? Math.min(...daysOld) : 0\n        });\n      }\n    } catch (error) {\n      console.log('Error fetching properties:', error.message);\n      setProperties([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredProperties = properties.filter(property => {\n    return !searchTerm || \n      property.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      property.address?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      property.city?.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n\n  const handleApprove = async (propertyId) => {\n    try {\n      setActionLoading(true);\n      const token = localStorage.getItem('token');\n      \n      await axios.put(`${API_URL}/properties/${propertyId}/verify`, \n        { verificationStatus: 'verified', notes: 'Approved' },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n\n      setProperties(properties.filter(p => p.id !== propertyId));\n      setShowModal(false);\n      fetchProperties();\n    } catch (error) {\n      console.log('Error approving property:', error.message);\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleReject = async (propertyId) => {\n    try {\n      setActionLoading(true);\n      const token = localStorage.getItem('token');\n      \n      await axios.put(`${API_URL}/properties/${propertyId}/verify`, \n        { verificationStatus: 'rejected', notes: rejectionReason || 'Rejected' },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n\n      setProperties(properties.filter(p => p.id !== propertyId));\n      setShowModal(false);\n      setRejectionReason('');\n      fetchProperties();\n    } catch (error) {\n      console.log('Error rejecting property:', error.message);\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const formatDate = (date) => {\n    return new Date(date).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });\n  };\n\n  const getDaysWaitingColor = (days) => {\n    if (days > 14) return 'text-red-600';\n    if (days > 7) return 'text-yellow-600';\n    return 'text-green-600';\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-950' : 'bg-gradient-to-br from-slate-50 to-slate-100'}`}>\n      {/* Header */}\n      <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-900/50' : 'border-slate-200 bg-white/40'} backdrop-blur-xl sticky top-0 z-10`}>\n        <div className=\"max-w-7xl mx-auto px-6 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-3 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg\">\n                <Clock className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Pending Properties</h1>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Review and approve pending property listings</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Statistics */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Pending Review</p>\n              <p className={`text-3xl font-bold mt-2 text-yellow-600`}>{stats.totalPending}</p>\n              <p className={`text-xs mt-2 ${isDarkMode ? 'text-slate-500' : 'text-slate-500'}`}>Awaiting approval</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Avg Days Waiting</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{stats.avgDaysWaiting}</p>\n              <p className={`text-xs mt-2 ${isDarkMode ? 'text-slate-500' : 'text-slate-500'}`}>Average wait time</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Oldest Pending</p>\n              <p className={`text-3xl font-bold mt-2 text-red-600`}>{stats.oldestDays}</p>\n              <p className={`text-xs mt-2 ${isDarkMode ? 'text-slate-500' : 'text-slate-500'}`}>Days waiting</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Newest Pending</p>\n              <p className={`text-3xl font-bold mt-2 text-green-600`}>{stats.newestDays}</p>\n              <p className={`text-xs mt-2 ${isDarkMode ? 'text-slate-500' : 'text-slate-500'}`}>Days waiting</p>\n            </div>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className={`rounded-xl shadow p-6 border mb-8 ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-3 w-5 h-5 text-slate-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search by name, address, or city...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`w-full pl-10 pr-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500' : 'bg-slate-50 border-slate-300 text-slate-900 placeholder-slate-400'}`}\n              />\n            </div>\n            <select\n              value={filterType}\n              onChange={(e) => {\n                setFilterType(e.target.value);\n                setPage(1);\n              }}\n              className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n            >\n              <option value=\"all\">All Types</option>\n              <option value=\"apartment\">Apartment</option>\n              <option value=\"house\">House</option>\n              <option value=\"condo\">Condo</option>\n              <option value=\"townhouse\">Townhouse</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Properties Table */}\n        <div className={`rounded-xl shadow border overflow-hidden ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n          {loading ? (\n            <div className=\"p-12 text-center\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-600 mx-auto mb-3\"></div>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>Loading pending properties...</p>\n            </div>\n          ) : filteredProperties.length === 0 ? (\n            <div className=\"p-12 text-center\">\n              <CheckCircle className=\"w-12 h-12 mx-auto mb-3 text-green-500\" />\n              <p className={`text-lg font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>No pending properties</p>\n              <p className={`text-sm mt-2 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>All properties have been reviewed!</p>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className={`border-b ${isDarkMode ? 'bg-slate-800/50 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                  <tr>\n                    <th className={`px-6 py-4 text-left text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Property</th>\n                    <th className={`px-6 py-4 text-left text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Location</th>\n                    <th className={`px-6 py-4 text-left text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Type</th>\n                    <th className={`px-6 py-4 text-left text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Submitted</th>\n                    <th className={`px-6 py-4 text-left text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Days Waiting</th>\n                    <th className={`px-6 py-4 text-left text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Actions</th>\n                  </tr>\n                </thead>\n                <tbody className={`divide-y ${isDarkMode ? 'divide-slate-700' : 'divide-slate-200'}`}>\n                  {filteredProperties.map((property) => {\n                    const daysWaiting = Math.floor((new Date() - new Date(property.createdAt)) / (1000 * 60 * 60 * 24));\n                    return (\n                      <tr key={property.id} className={`hover:${isDarkMode ? 'bg-slate-800/30' : 'bg-slate-50'} transition`}>\n                        <td className=\"px-6 py-4\">\n                          <div>\n                            <p className={`font-semibold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{property.name}</p>\n                            <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{property.address}</p>\n                          </div>\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          <div className=\"flex items-center gap-1 text-sm\">\n                            <MapPin className=\"w-4 h-4 text-slate-400\" />\n                            <span className={isDarkMode ? 'text-slate-300' : 'text-slate-700'}>{property.city}, {property.state}</span>\n                          </div>\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          <span className={`px-2 py-1 rounded text-xs font-semibold ${isDarkMode ? 'bg-slate-800 text-slate-300' : 'bg-slate-100 text-slate-700'}`}>\n                            {property.type}\n                          </span>\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{formatDate(property.createdAt)}</p>\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          <p className={`text-sm font-semibold ${getDaysWaitingColor(daysWaiting)}`}>{daysWaiting} days</p>\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          <button\n                            onClick={() => {\n                              setSelectedProperty(property);\n                              setShowModal(true);\n                            }}\n                            className={`px-3 py-1 rounded-lg text-sm font-semibold transition ${isDarkMode ? 'bg-yellow-900/20 text-yellow-400 hover:bg-yellow-900/30' : 'bg-yellow-50 text-yellow-600 hover:bg-yellow-100'}`}\n                          >\n                            Review\n                          </button>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"flex items-center justify-between mt-8\">\n            <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n              Page {page} of {totalPages}\n            </p>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setPage(Math.max(1, page - 1))}\n                disabled={page === 1}\n                className={`p-2 rounded-lg border transition ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'} disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                <ChevronLeft className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={() => setPage(Math.min(totalPages, page + 1))}\n                disabled={page === totalPages}\n                className={`p-2 rounded-lg border transition ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'} disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                <ChevronRight className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Detail Modal */}\n      {showModal && selectedProperty && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className={`rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto ${isDarkMode ? 'bg-slate-900' : 'bg-white'}`}>\n            {/* Modal Header */}\n            <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-800/50' : 'border-slate-200 bg-slate-50'} p-6 flex items-center justify-between sticky top-0`}>\n              <h2 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.name}</h2>\n              <button\n                onClick={() => setShowModal(false)}\n                className={`p-2 rounded-lg transition ${isDarkMode ? 'hover:bg-slate-700' : 'hover:bg-slate-100'}`}\n              >\n                âœ•\n              </button>\n            </div>\n\n            {/* Modal Content */}\n            <div className=\"p-6 space-y-6\">\n              {/* Property Info */}\n              <div className={`rounded-lg p-4 border ${isDarkMode ? 'bg-slate-800/30 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                <h3 className={`font-semibold mb-4 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Property Information</h3>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Address</p>\n                    <p className={`font-semibold mt-1 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.address}</p>\n                  </div>\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>City, State</p>\n                    <p className={`font-semibold mt-1 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.city}, {selectedProperty.state}</p>\n                  </div>\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Type</p>\n                    <p className={`font-semibold mt-1 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedProperty.type}</p>\n                  </div>\n                  <div>\n                    <p className={`text-xs uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Submitted</p>\n                    <p className={`font-semibold mt-1 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{formatDate(selectedProperty.createdAt)}</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Rejection Reason Form */}\n              <div className={`rounded-lg p-4 border ${isDarkMode ? 'bg-slate-800/30 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                <h3 className={`font-semibold mb-4 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Rejection Reason (Optional)</h3>\n                <textarea\n                  value={rejectionReason}\n                  onChange={(e) => setRejectionReason(e.target.value)}\n                  placeholder=\"Provide a reason if rejecting this property...\"\n                  className={`w-full px-4 py-3 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500' : 'bg-white border-slate-300 text-slate-900 placeholder-slate-400'}`}\n                  rows=\"4\"\n                />\n              </div>\n\n              {/* Description */}\n              {selectedProperty.description && (\n                <div className={`rounded-lg p-4 border ${isDarkMode ? 'bg-slate-800/30 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                  <h3 className={`font-semibold mb-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Description</h3>\n                  <p className={`text-sm ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>{selectedProperty.description}</p>\n                </div>\n              )}\n            </div>\n\n            {/* Modal Footer */}\n            <div className={`border-t ${isDarkMode ? 'border-slate-800 bg-slate-800/50' : 'border-slate-200 bg-slate-50'} p-6 flex gap-3 justify-end sticky bottom-0`}>\n              <button\n                onClick={() => {\n                  setShowModal(false);\n                  setRejectionReason('');\n                }}\n                className={`px-4 py-2 rounded-lg font-semibold transition ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-slate-200 text-slate-900 hover:bg-slate-300'}`}\n              >\n                Close\n              </button>\n              <button\n                onClick={() => handleReject(selectedProperty.id)}\n                disabled={actionLoading}\n                className=\"px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition disabled:opacity-50\"\n              >\n                {actionLoading ? 'Rejecting...' : 'Reject'}\n              </button>\n              <button\n                onClick={() => handleApprove(selectedProperty.id)}\n                disabled={actionLoading}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition disabled:opacity-50\"\n              >\n                {actionLoading ? 'Approving...' : 'Approve'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PendingProperties;\n","import React, { useState, useEffect } from 'react';\nimport { FileText, Upload, Search, Filter, ChevronLeft, ChevronRight, MapPin, Download, Trash2, Eye, Clock, User, File, AlertCircle, CheckCircle, Plus, X } from 'lucide-react';\nimport { useThemeMode } from '../../hooks/useThemeMode';\nimport axios from 'axios';\n\nconst PropertyDocuments = () => {\n  const { isDarkMode } = useThemeMode();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterType, setFilterType] = useState('all');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [properties, setProperties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [stats, setStats] = useState(null);\n  const [selectedProperty, setSelectedProperty] = useState(null);\n  const [showUploadModal, setShowUploadModal] = useState(false);\n  const [showPropertySelector, setShowPropertySelector] = useState(false);\n  const [uploadLoading, setUploadLoading] = useState(false);\n  const [uploadForm, setUploadForm] = useState({\n    documentType: 'deed',\n    description: '',\n    file: null\n  });\n\n  const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';\n  const limit = 10;\n\n  const documentTypes = [\n    { value: 'deed', label: 'Deed', icon: 'ðŸ“‹' },\n    { value: 'tax_certificate', label: 'Tax Certificate', icon: 'ðŸ›ï¸' },\n    { value: 'insurance', label: 'Insurance', icon: 'ðŸ›¡ï¸' },\n    { value: 'inspection', label: 'Inspection Report', icon: 'ðŸ”' },\n    { value: 'title', label: 'Title', icon: 'ðŸ“œ' },\n    { value: 'mortgage', label: 'Mortgage', icon: 'ðŸ¦' },\n    { value: 'survey', label: 'Survey', icon: 'ðŸ“' },\n    { value: 'other', label: 'Other', icon: 'ðŸ“' }\n  ];\n\n  useEffect(() => {\n    fetchProperties();\n  }, [filterType, filterStatus, page]);\n\n  const fetchProperties = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const params = {\n        page,\n        limit,\n        type: filterType !== 'all' ? filterType : undefined\n      };\n\n      const response = await axios.get(`${API_URL}/properties`, {\n        params,\n        headers: { Authorization: `Bearer ${token}` },\n        timeout: 5000\n      });\n\n      if (response.data?.success) {\n        const propertyData = response.data.data || [];\n        \n        const propertiesWithDocs = propertyData.map(p => ({\n          ...p,\n          documents: [\n            { id: '1', type: 'deed', name: 'Property Deed', uploadedAt: new Date(Date.now() - 30*24*60*60*1000), uploadedBy: 'Admin', size: 2.5, status: 'verified' },\n            { id: '2', type: 'tax_certificate', name: 'Tax Certificate 2024', uploadedAt: new Date(Date.now() - 15*24*60*60*1000), uploadedBy: 'Manager', size: 1.2, status: 'verified' },\n            { id: '3', type: 'insurance', name: 'Insurance Policy', uploadedAt: new Date(Date.now() - 7*24*60*60*1000), uploadedBy: 'Admin', size: 3.8, status: 'pending' },\n            { id: '4', type: 'inspection', name: 'Inspection Report', uploadedAt: new Date(Date.now() - 2*24*60*60*1000), uploadedBy: 'Inspector', size: 5.1, status: 'verified' }\n          ],\n          totalDocuments: 4,\n          verifiedDocuments: 3,\n          pendingDocuments: 1\n        }));\n\n        setProperties(propertiesWithDocs);\n        if (response.data.pagination) {\n          setTotalPages(response.data.pagination.pages);\n        }\n\n        const totalDocs = propertiesWithDocs.reduce((sum, p) => sum + p.totalDocuments, 0);\n        const verifiedDocs = propertiesWithDocs.reduce((sum, p) => sum + p.verifiedDocuments, 0);\n        const pendingDocs = propertiesWithDocs.reduce((sum, p) => sum + p.pendingDocuments, 0);\n\n        setStats({\n          totalProperties: propertiesWithDocs.length,\n          totalDocuments: totalDocs,\n          verifiedDocuments: verifiedDocs,\n          pendingDocuments: pendingDocs,\n          verificationRate: totalDocs > 0 ? Math.round((verifiedDocs / totalDocs) * 100) : 0\n        });\n      }\n    } catch (error) {\n      console.log('Error fetching properties:', error.message);\n      setProperties([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredProperties = properties.filter(property => {\n    return !searchTerm || \n      property.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      property.address?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      property.city?.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n\n  const handleUpload = async (e) => {\n    e.preventDefault();\n    if (!uploadForm.file || !selectedProperty) return;\n\n    try {\n      setUploadLoading(true);\n      const token = localStorage.getItem('token');\n      const formData = new FormData();\n      formData.append('file', uploadForm.file);\n      formData.append('documentType', uploadForm.documentType);\n      formData.append('description', uploadForm.description);\n\n      await axios.post(\n        `${API_URL}/properties/${selectedProperty.id}/documents`,\n        formData,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      );\n\n      setUploadForm({ documentType: 'deed', description: '', file: null });\n      setShowUploadModal(false);\n      fetchProperties();\n    } catch (error) {\n      console.log('Error uploading document:', error.message);\n    } finally {\n      setUploadLoading(false);\n    }\n  };\n\n  const formatDate = (date) => {\n    return new Date(date).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes < 1024) return bytes + ' B';\n    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';\n    return (bytes / (1024 * 1024)).toFixed(1) + ' MB';\n  };\n\n  const getDocumentIcon = (type) => {\n    const doc = documentTypes.find(d => d.value === type);\n    return doc?.icon || 'ðŸ“';\n  };\n\n  const getStatusColor = (status) => {\n    const colors = {\n      verified: isDarkMode ? 'bg-green-900/20 text-green-400 border-green-700' : 'bg-green-100 text-green-800 border-green-300',\n      pending: isDarkMode ? 'bg-yellow-900/20 text-yellow-400 border-yellow-700' : 'bg-yellow-100 text-yellow-800 border-yellow-300',\n      rejected: isDarkMode ? 'bg-red-900/20 text-red-400 border-red-700' : 'bg-red-100 text-red-800 border-red-300'\n    };\n    return colors[status] || colors.pending;\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-950' : 'bg-gradient-to-br from-slate-50 to-slate-100'}`}>\n      {/* Header */}\n      <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-900/50' : 'border-slate-200 bg-white/40'} backdrop-blur-xl sticky top-0 z-10`}>\n        <div className=\"max-w-7xl mx-auto px-6 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg\">\n                <FileText className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Property Documents</h1>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Manage and organize property documentation</p>\n              </div>\n            </div>\n            <button\n              onClick={() => setShowPropertySelector(true)}\n              className=\"px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition flex items-center gap-2 font-semibold\"\n            >\n              <Plus className=\"w-5 h-5\" /> Upload Document\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Statistics */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Properties</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{stats.totalProperties}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Documents</p>\n              <p className={`text-3xl font-bold mt-2 text-purple-600`}>{stats.totalDocuments}</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Verified</p>\n              <p className={`text-3xl font-bold mt-2 text-green-600`}>{stats.verifiedDocuments}</p>\n              <p className={`text-xs mt-2 ${isDarkMode ? 'text-slate-500' : 'text-slate-500'}`}>{stats.verificationRate}% verified</p>\n            </div>\n            <div className={`rounded-xl shadow p-5 border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <p className={`text-xs font-semibold uppercase tracking-wide ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Pending Review</p>\n              <p className={`text-3xl font-bold mt-2 text-yellow-600`}>{stats.pendingDocuments}</p>\n            </div>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className={`rounded-xl shadow p-6 border mb-8 ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-3 w-5 h-5 text-slate-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search properties...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`w-full pl-10 pr-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500' : 'bg-slate-50 border-slate-300 text-slate-900 placeholder-slate-400'}`}\n              />\n            </div>\n            <select\n              value={filterType}\n              onChange={(e) => {\n                setFilterType(e.target.value);\n                setPage(1);\n              }}\n              className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n            >\n              <option value=\"all\">All Types</option>\n              <option value=\"apartment\">Apartment</option>\n              <option value=\"house\">House</option>\n              <option value=\"condo\">Condo</option>\n            </select>\n            <select\n              value={filterStatus}\n              onChange={(e) => {\n                setFilterStatus(e.target.value);\n                setPage(1);\n              }}\n              className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-slate-50 border-slate-300 text-slate-900'}`}\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"verified\">Verified</option>\n              <option value=\"pending\">Pending</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Properties with Documents */}\n        <div className=\"space-y-6\">\n          {loading ? (\n            <div className=\"p-12 text-center\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-3\"></div>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>Loading documents...</p>\n            </div>\n          ) : filteredProperties.length === 0 ? (\n            <div className={`p-12 text-center rounded-xl border ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n              <FileText className={`w-12 h-12 mx-auto mb-3 ${isDarkMode ? 'text-slate-600' : 'text-slate-400'}`} />\n              <p className={`text-lg font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>No properties found</p>\n            </div>\n          ) : (\n            filteredProperties.map((property) => (\n              <div key={property.id} className={`rounded-xl shadow border overflow-hidden ${isDarkMode ? 'bg-slate-900/50 border-slate-700' : 'bg-white border-slate-200'}`}>\n                {/* Property Header */}\n                <div className={`p-6 border-b ${isDarkMode ? 'border-slate-700 bg-slate-800/30' : 'border-slate-200 bg-slate-50'}`}>\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <h3 className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{property.name}</h3>\n                      <div className=\"flex items-center gap-4 mt-2 text-sm\">\n                        <div className=\"flex items-center gap-1\">\n                          <MapPin className=\"w-4 h-4 text-slate-400\" />\n                          <span className={isDarkMode ? 'text-slate-300' : 'text-slate-700'}>{property.city}, {property.state}</span>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          <FileText className=\"w-4 h-4 text-slate-400\" />\n                          <span className={isDarkMode ? 'text-slate-300' : 'text-slate-700'}>{property.totalDocuments} documents</span>\n                        </div>\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => {\n                        setSelectedProperty(property);\n                        setShowUploadModal(true);\n                      }}\n                      className={`px-4 py-2 rounded-lg font-semibold transition ${isDarkMode ? 'bg-purple-900/20 text-purple-400 hover:bg-purple-900/30' : 'bg-purple-50 text-purple-600 hover:bg-purple-100'}`}\n                    >\n                      <Upload className=\"w-4 h-4 inline mr-2\" /> Upload\n                    </button>\n                  </div>\n                </div>\n\n                {/* Documents List */}\n                <div className=\"p-6\">\n                  <div className=\"space-y-3\">\n                    {property.documents.map((doc) => (\n                      <div key={doc.id} className={`flex items-center justify-between p-4 rounded-lg border ${isDarkMode ? 'bg-slate-800/30 border-slate-700 hover:border-purple-600/50' : 'bg-slate-50 border-slate-200 hover:border-purple-300'} transition`}>\n                        <div className=\"flex items-center gap-4 flex-1\">\n                          <span className=\"text-2xl\">{getDocumentIcon(doc.type)}</span>\n                          <div className=\"flex-1\">\n                            <p className={`font-semibold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{doc.name}</p>\n                            <div className=\"flex items-center gap-3 mt-1 text-xs\">\n                              <span className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>{formatDate(doc.uploadedAt)}</span>\n                              <span className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>by {doc.uploadedBy}</span>\n                              <span className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>{formatFileSize(doc.size * 1024 * 1024)}</span>\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                          <div className={`inline-flex items-center gap-1 px-2 py-1 rounded-full border text-xs font-semibold ${getStatusColor(doc.status)}`}>\n                            {doc.status === 'verified' ? <CheckCircle className=\"w-3 h-3\" /> : <Clock className=\"w-3 h-3\" />}\n                            {doc.status.charAt(0).toUpperCase() + doc.status.slice(1)}\n                          </div>\n                          <button className={`p-2 rounded-lg transition ${isDarkMode ? 'hover:bg-slate-700' : 'hover:bg-slate-100'}`}>\n                            <Download className=\"w-4 h-4 text-slate-400\" />\n                          </button>\n                          <button className={`p-2 rounded-lg transition ${isDarkMode ? 'hover:bg-slate-700' : 'hover:bg-slate-100'}`}>\n                            <Eye className=\"w-4 h-4 text-slate-400\" />\n                          </button>\n                          <button className={`p-2 rounded-lg transition ${isDarkMode ? 'hover:bg-red-900/20 text-red-400' : 'hover:bg-red-50 text-red-600'}`}>\n                            <Trash2 className=\"w-4 h-4\" />\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"flex items-center justify-between mt-8\">\n            <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n              Page {page} of {totalPages}\n            </p>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setPage(Math.max(1, page - 1))}\n                disabled={page === 1}\n                className={`p-2 rounded-lg border transition ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'} disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                <ChevronLeft className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={() => setPage(Math.min(totalPages, page + 1))}\n                disabled={page === totalPages}\n                className={`p-2 rounded-lg border transition ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-white border-slate-300 text-slate-900 hover:bg-slate-50'} disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                <ChevronRight className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Property Selector Modal */}\n      {showPropertySelector && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className={`rounded-2xl shadow-2xl max-w-2xl w-full ${isDarkMode ? 'bg-slate-900' : 'bg-white'}`}>\n            <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-gradient-to-r from-purple-900/20 to-slate-900' : 'border-slate-200 bg-gradient-to-r from-purple-50 to-white'} p-6 flex items-center justify-between rounded-t-2xl`}>\n              <div>\n                <h2 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Select Property</h2>\n                <p className={`text-sm mt-1 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Choose a property to upload documents</p>\n              </div>\n              <button onClick={() => setShowPropertySelector(false)} className={`p-2 rounded-lg transition ${isDarkMode ? 'hover:bg-slate-700' : 'hover:bg-slate-100'}`}>\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n            <div className=\"p-6 max-h-96 overflow-y-auto\">\n              {properties.length > 0 ? (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  {properties.map((prop) => (\n                    <button\n                      key={prop.id}\n                      onClick={() => {\n                        setSelectedProperty(prop);\n                        setShowPropertySelector(false);\n                        setShowUploadModal(true);\n                      }}\n                      className={`text-left p-4 rounded-xl border-2 transition hover:shadow-lg ${isDarkMode ? 'bg-slate-800/50 border-slate-700 hover:border-purple-600 hover:bg-slate-800' : 'bg-slate-50 border-slate-200 hover:border-purple-400 hover:bg-white'}`}\n                    >\n                      <div className=\"flex items-start gap-3\">\n                        <div className=\"p-2 rounded-lg bg-gradient-to-br from-purple-500 to-purple-600\">\n                          <FileText className=\"w-5 h-5 text-white\" />\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <p className={`font-semibold truncate ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{prop.name}</p>\n                          <p className={`text-xs mt-1 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{prop.address}</p>\n                          <div className=\"flex items-center gap-2 mt-2\">\n                            <span className={`text-xs px-2 py-1 rounded-full ${isDarkMode ? 'bg-slate-700 text-slate-300' : 'bg-slate-200 text-slate-700'}`}>{prop.city}, {prop.state}</span>\n                            <span className={`text-xs px-2 py-1 rounded-full ${prop.status === 'active' ? (isDarkMode ? 'bg-green-900/30 text-green-400' : 'bg-green-100 text-green-700') : (isDarkMode ? 'bg-yellow-900/30 text-yellow-400' : 'bg-yellow-100 text-yellow-700')}`}>{prop.status}</span>\n                          </div>\n                          <p className={`text-xs mt-2 ${isDarkMode ? 'text-slate-500' : 'text-slate-500'}`}>{prop.totalDocuments} documents</p>\n                        </div>\n                      </div>\n                    </button>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"text-center py-12\">\n                  <FileText className={`w-12 h-12 mx-auto mb-3 ${isDarkMode ? 'text-slate-600' : 'text-slate-400'}`} />\n                  <p className={`font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>No properties available</p>\n                  <p className={`text-sm mt-1 ${isDarkMode ? 'text-slate-500' : 'text-slate-600'}`}>Add properties first to upload documents</p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n\n      {/* Upload Modal */}\n      {showUploadModal && selectedProperty && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className={`rounded-xl shadow-2xl max-w-2xl w-full ${isDarkMode ? 'bg-slate-900' : 'bg-white'}`}>\n            {/* Modal Header */}\n            <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-800/50' : 'border-slate-200 bg-slate-50'} p-6 flex items-center justify-between`}>\n              <h2 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Upload Document</h2>\n              <button\n                onClick={() => setShowUploadModal(false)}\n                className={`p-2 rounded-lg transition ${isDarkMode ? 'hover:bg-slate-700' : 'hover:bg-slate-100'}`}\n              >\n                âœ•\n              </button>\n            </div>\n\n            {/* Modal Content */}\n            <form onSubmit={handleUpload} className=\"p-6 space-y-6\">\n              {/* Property Info */}\n              <div className={`rounded-lg p-4 border ${isDarkMode ? 'bg-slate-800/30 border-slate-700' : 'bg-slate-50 border-slate-200'}`}>\n                <p className={`text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>{selectedProperty.name}</p>\n                <p className={`text-xs mt-1 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{selectedProperty.address}, {selectedProperty.city}, {selectedProperty.state}</p>\n              </div>\n\n              {/* Document Type */}\n              <div>\n                <label className={`block text-sm font-semibold mb-3 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Document Type</label>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                  {documentTypes.map((type) => (\n                    <button\n                      key={type.value}\n                      type=\"button\"\n                      onClick={() => setUploadForm({ ...uploadForm, documentType: type.value })}\n                      className={`p-3 rounded-lg border text-center transition ${uploadForm.documentType === type.value ? isDarkMode ? 'bg-purple-900/20 border-purple-700 text-purple-400' : 'bg-purple-50 border-purple-300 text-purple-600' : isDarkMode ? 'bg-slate-800 border-slate-700 text-slate-300 hover:border-slate-600' : 'bg-slate-50 border-slate-300 text-slate-700 hover:border-slate-400'}`}\n                    >\n                      <div className=\"text-2xl mb-1\">{type.icon}</div>\n                      <div className=\"text-xs font-semibold\">{type.label}</div>\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Description */}\n              <div>\n                <label className={`block text-sm font-semibold mb-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Description (Optional)</label>\n                <textarea\n                  value={uploadForm.description}\n                  onChange={(e) => setUploadForm({ ...uploadForm, description: e.target.value })}\n                  placeholder=\"Add notes about this document...\"\n                  className={`w-full px-4 py-3 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500' : 'bg-white border-slate-300 text-slate-900 placeholder-slate-400'}`}\n                  rows=\"3\"\n                />\n              </div>\n\n              {/* File Upload */}\n              <div>\n                <label className={`block text-sm font-semibold mb-3 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Select File</label>\n                <div className={`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition ${uploadForm.file ? isDarkMode ? 'bg-purple-900/10 border-purple-700' : 'bg-purple-50 border-purple-300' : isDarkMode ? 'bg-slate-800/50 border-slate-700 hover:border-slate-600' : 'bg-slate-50 border-slate-300 hover:border-slate-400'}`}>\n                  <input\n                    type=\"file\"\n                    onChange={(e) => setUploadForm({ ...uploadForm, file: e.target.files?.[0] })}\n                    className=\"hidden\"\n                    id=\"file-input\"\n                  />\n                  <label htmlFor=\"file-input\" className=\"cursor-pointer\">\n                    <Upload className={`w-8 h-8 mx-auto mb-2 ${uploadForm.file ? 'text-purple-600' : isDarkMode ? 'text-slate-400' : 'text-slate-400'}`} />\n                    <p className={`font-semibold ${uploadForm.file ? 'text-purple-600' : isDarkMode ? 'text-white' : 'text-slate-900'}`}>\n                      {uploadForm.file ? uploadForm.file.name : 'Click to upload or drag and drop'}\n                    </p>\n                    <p className={`text-xs mt-1 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>PDF, DOC, DOCX, JPG, PNG up to 10MB</p>\n                  </label>\n                </div>\n              </div>\n\n              {/* Modal Footer */}\n              <div className=\"flex gap-3 justify-end pt-4 border-t\" style={{borderColor: isDarkMode ? '#334155' : '#e2e8f0'}}>\n                <button\n                  type=\"button\"\n                  onClick={() => setShowUploadModal(false)}\n                  className={`px-4 py-2 rounded-lg font-semibold transition ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-slate-200 text-slate-900 hover:bg-slate-300'}`}\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={uploadLoading || !uploadForm.file}\n                  className=\"px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-purple-800 transition disabled:opacity-50\"\n                >\n                  {uploadLoading ? 'Uploading...' : 'Upload Document'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PropertyDocuments;\n","import React from 'react';\nimport { Loader2 } from 'lucide-react';\n\nconst Button = ({\n  children,\n  variant = 'primary',\n  size = 'md',\n  loading = false,\n  disabled = false,\n  type = 'button',\n  icon,\n  iconPosition = 'left',\n  fullWidth = false,\n  className = '',\n  onClick,\n  ...props\n}) => {\n  const baseClasses = 'inline-flex items-center justify-center font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';\n  \n  const variants = {\n    primary: 'bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500',\n    secondary: 'bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 focus:ring-gray-500',\n    success: 'bg-green-600 hover:bg-green-700 text-white focus:ring-green-500',\n    warning: 'bg-yellow-600 hover:bg-yellow-700 text-white focus:ring-yellow-500',\n    danger: 'bg-red-600 hover:bg-red-700 text-white focus:ring-red-500',\n    outline: 'border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-gray-500',\n    ghost: 'hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-gray-500',\n  };\n\n  const sizes = {\n    xs: 'px-2 py-1 text-xs',\n    sm: 'px-3 py-1.5 text-sm',\n    md: 'px-4 py-2 text-sm',\n    lg: 'px-6 py-3 text-base',\n    xl: 'px-8 py-4 text-lg',\n  };\n\n  const widthClass = fullWidth ? 'w-full' : '';\n  \n  const buttonClasses = `\n    ${baseClasses}\n    ${variants[variant]}\n    ${sizes[size]}\n    ${widthClass}\n    ${className}\n  `.trim();\n\n  const renderIcon = () => {\n    if (loading) {\n      return <Loader2 className=\"animate-spin\" />;\n    }\n    return icon;\n  };\n\n  const iconSize = {\n    xs: 'h-3 w-3',\n    sm: 'h-4 w-4',\n    md: 'h-5 w-5',\n    lg: 'h-5 w-5',\n    xl: 'h-6 w-6',\n  }[size];\n\n  return (\n    <button\n      type={type}\n      disabled={disabled || loading}\n      className={buttonClasses}\n      onClick={onClick}\n      {...props}\n    >\n      {iconPosition === 'left' && icon && (\n        <span className={`mr-2 ${iconSize}`}>\n          {renderIcon()}\n        </span>\n      )}\n      {children}\n      {iconPosition === 'right' && icon && (\n        <span className={`ml-2 ${iconSize}`}>\n          {renderIcon()}\n        </span>\n      )}\n    </button>\n  );\n};\n\nexport default Button;","import React, { useEffect } from 'react';\nimport { X } from 'lucide-react';\n\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  footer,\n  size = 'md',\n  closeOnOverlayClick = true,\n  showCloseButton = true,\n  className = ''\n}) => {\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === 'Escape' && isOpen) {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n      document.addEventListener('keydown', handleEscape);\n    }\n\n    return () => {\n      document.body.style.overflow = 'unset';\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  const sizes = {\n    sm: 'max-w-md',\n    md: 'max-w-lg',\n    lg: 'max-w-2xl',\n    xl: 'max-w-4xl',\n    full: 'max-w-full mx-4'\n  };\n\n  return (\n    <>\n      {/* Overlay */}\n      <div\n        className=\"fixed inset-0 z-50 bg-black bg-opacity-50 backdrop-blur-sm transition-opacity duration-300\"\n        onClick={closeOnOverlayClick ? onClose : undefined}\n      />\n\n      {/* Modal */}\n      <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n        <div className=\"flex min-h-full items-center justify-center p-4\">\n          <div\n            className={`\n              relative bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full\n              transform transition-all duration-300\n              ${sizes[size]}\n              ${className}\n            `}\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Header */}\n            {(title || showCloseButton) && (\n              <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\n                {title && (\n                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                    {title}\n                  </h3>\n                )}\n                {showCloseButton && (\n                  <button\n                    onClick={onClose}\n                    className=\"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors duration-200\"\n                  >\n                    <X className=\"h-5 w-5\" />\n                  </button>\n                )}\n              </div>\n            )}\n\n            {/* Content */}\n            <div className=\"p-6\">\n              {children}\n            </div>\n\n            {/* Footer */}\n            {footer && (\n              <div className=\"p-6 border-t border-gray-200 dark:border-gray-700\">\n                {footer}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Modal;","import React, { forwardRef, useState } from 'react';\nimport { ChevronDown, Check } from 'lucide-react';\n\nconst Select = forwardRef(({\n  label,\n  options = [],\n  value,\n  onChange,\n  error,\n  helperText,\n  required = false,\n  disabled = false,\n  placeholder = 'Select an option',\n  searchable = false,\n  multiple = false,\n  className = '',\n  containerClassName = '',\n  labelClassName = '',\n  ...props\n}, ref) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [search, setSearch] = useState('');\n\n  const selectId = props.id || `select-${Math.random().toString(36).substr(2, 9)}`;\n\n  const filteredOptions = searchable\n    ? options.filter(option =>\n        option.label.toLowerCase().includes(search.toLowerCase()) ||\n        option.value.toString().toLowerCase().includes(search.toLowerCase())\n      )\n    : options;\n\n  const getSelectedLabel = () => {\n    if (multiple) {\n      const selectedOptions = options.filter(option => value.includes(option.value));\n      if (selectedOptions.length === 0) return placeholder;\n      return selectedOptions.map(opt => opt.label).join(', ');\n    }\n    const selectedOption = options.find(option => option.value === value);\n    return selectedOption?.label || placeholder;\n  };\n\n  const handleSelect = (optionValue) => {\n    if (multiple) {\n      const newValue = value.includes(optionValue)\n        ? value.filter(v => v !== optionValue)\n        : [...value, optionValue];\n      onChange(newValue);\n    } else {\n      onChange(optionValue);\n      setIsOpen(false);\n    }\n  };\n\n  const isSelected = (optionValue) => {\n    return multiple ? value.includes(optionValue) : value === optionValue;\n  };\n\n  return (\n    <div className={`mb-4 relative ${containerClassName}`}>\n      {label && (\n        <label\n          htmlFor={selectId}\n          className={`block text-sm font-medium mb-2 ${\n            error ? 'text-red-600 dark:text-red-400' : 'text-gray-700 dark:text-gray-300'\n          } ${labelClassName}`}\n        >\n          {label}\n          {required && <span className=\"text-red-500 ml-1\">*</span>}\n        </label>\n      )}\n\n      <div className=\"relative\">\n        <button\n          type=\"button\"\n          ref={ref}\n          id={selectId}\n          disabled={disabled}\n          onClick={() => !disabled && setIsOpen(!isOpen)}\n          className={`\n            w-full px-4 py-2 border rounded-lg transition-colors duration-200\n            bg-white dark:bg-gray-800\n            text-gray-900 dark:text-gray-100\n            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\n            ${error ? 'border-red-300 dark:border-red-700' : 'border-gray-300 dark:border-gray-600'}\n            ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n            ${className}\n          `.trim()}\n          {...props}\n        >\n          <div className=\"flex items-center justify-between\">\n            <span className={`truncate ${!value || (multiple && value.length === 0) ? 'text-gray-400 dark:text-gray-500' : ''}`}>\n              {getSelectedLabel()}\n            </span>\n            <ChevronDown className={`h-5 w-5 text-gray-400 transition-transform duration-200 ${isOpen ? 'transform rotate-180' : ''}`} />\n          </div>\n        </button>\n\n        {isOpen && !disabled && (\n          <>\n            <div\n              className=\"fixed inset-0 z-10\"\n              onClick={() => setIsOpen(false)}\n            />\n            <div className=\"absolute z-20 w-full mt-1 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 max-h-60 overflow-y-auto\">\n              {searchable && (\n                <div className=\"p-2 border-b border-gray-200 dark:border-gray-700\">\n                  <input\n                    type=\"text\"\n                    value={search}\n                    onChange={(e) => setSearch(e.target.value)}\n                    placeholder=\"Search...\"\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    autoFocus\n                  />\n                </div>\n              )}\n\n              {filteredOptions.length === 0 ? (\n                <div className=\"px-4 py-3 text-gray-500 dark:text-gray-400 text-center\">\n                  No options found\n                </div>\n              ) : (\n                <div className=\"py-1\">\n                  {filteredOptions.map((option) => (\n                    <button\n                      key={option.value}\n                      type=\"button\"\n                      onClick={() => handleSelect(option.value)}\n                      className={`\n                        w-full flex items-center justify-between px-4 py-2 text-left\n                        hover:bg-gray-100 dark:hover:bg-gray-700\n                        transition-colors duration-200\n                        ${isSelected(option.value) ? 'bg-blue-50 dark:bg-blue-900/20' : ''}\n                      `}\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        {option.icon && (\n                          <span className=\"text-gray-500 dark:text-gray-400\">\n                            {option.icon}\n                          </span>\n                        )}\n                        <span className={isSelected(option.value) ? 'text-blue-600 dark:text-blue-300 font-medium' : 'text-gray-700 dark:text-gray-300'}>\n                          {option.label}\n                        </span>\n                      </div>\n                      {isSelected(option.value) && (\n                        <Check className=\"h-5 w-5 text-blue-600 dark:text-blue-300\" />\n                      )}\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          </>\n        )}\n      </div>\n\n      {(error || helperText) && (\n        <p className={`mt-1 text-sm ${error ? 'text-red-600 dark:text-red-400' : 'text-gray-500 dark:text-gray-400'}`}>\n          {error || helperText}\n        </p>\n      )}\n    </div>\n  );\n});\n\nSelect.displayName = 'Select';\n\nexport default Select;","import * as React from \"react\";\nfunction CheckCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ExclamationTriangleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ExclamationTriangleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction InformationCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(InformationCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction XCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(XCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction XMarkIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 18 18 6M6 6l12 12\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(XMarkIcon);\nexport default ForwardRef;","import React from 'react';\nimport { \n  CheckCircleIcon, \n  ExclamationTriangleIcon, \n  InformationCircleIcon, \n  XCircleIcon,\n  XMarkIcon \n} from '@heroicons/react/24/outline';\n\nconst Alert = ({\n  type = \"info\",\n  title,\n  message,\n  onClose,\n  actions,\n  className = \"\"\n}) => {\n  const config = {\n    success: {\n      icon: CheckCircleIcon,\n      bgColor: \"bg-green-50\",\n      borderColor: \"border-green-200\",\n      iconColor: \"text-green-400\",\n      titleColor: \"text-green-800\",\n      textColor: \"text-green-700\"\n    },\n    error: {\n      icon: XCircleIcon,\n      bgColor: \"bg-red-50\",\n      borderColor: \"border-red-200\", \n      iconColor: \"text-red-400\",\n      titleColor: \"text-red-800\",\n      textColor: \"text-red-700\"\n    },\n    warning: {\n      icon: ExclamationTriangleIcon,\n      bgColor: \"bg-yellow-50\",\n      borderColor: \"border-yellow-200\",\n      iconColor: \"text-yellow-400\", \n      titleColor: \"text-yellow-800\",\n      textColor: \"text-yellow-700\"\n    },\n    info: {\n      icon: InformationCircleIcon,\n      bgColor: \"bg-blue-50\",\n      borderColor: \"border-blue-200\",\n      iconColor: \"text-blue-400\",\n      titleColor: \"text-blue-800\", \n      textColor: \"text-blue-700\"\n    }\n  };\n\n  const { icon: Icon, bgColor, borderColor, iconColor, titleColor, textColor } = config[type];\n\n  return (\n    <div className={`\n      rounded-md border p-4 ${bgColor} ${borderColor} ${className}\n    `}>\n      <div className=\"flex\">\n        <div className=\"flex-shrink-0\">\n          <Icon className={`h-5 w-5 ${iconColor}`} />\n        </div>\n        \n        <div className=\"ml-3 flex-1\">\n          {title && (\n            <h3 className={`text-sm font-medium ${titleColor}`}>\n              {title}\n            </h3>\n          )}\n          \n          {message && (\n            <div className={`${title ? 'mt-2' : ''} text-sm ${textColor}`}>\n              {typeof message === 'string' ? <p>{message}</p> : message}\n            </div>\n          )}\n          \n          {actions && (\n            <div className=\"mt-4\">\n              <div className=\"-mx-2 -my-1.5 flex\">\n                {actions.map((action, index) => (\n                  <button\n                    key={index}\n                    type=\"button\"\n                    onClick={action.onClick}\n                    className={`\n                      rounded-md px-2 py-1.5 text-sm font-medium focus:outline-none\n                      focus:ring-2 focus:ring-offset-2 focus:ring-offset-${bgColor.split('-')[1]}-50\n                      ${action.primary \n                        ? `${titleColor} hover:bg-${bgColor.split('-')[1]}-100 focus:ring-${bgColor.split('-')[1]}-600`\n                        : `${textColor} hover:bg-${bgColor.split('-')[1]}-100 focus:ring-${bgColor.split('-')[1]}-600`\n                      }\n                    `}\n                  >\n                    {action.label}\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {onClose && (\n          <div className=\"ml-auto pl-3\">\n            <div className=\"-mx-1.5 -my-1.5\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className={`\n                  inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2\n                  ${iconColor} hover:${bgColor} focus:ring-offset-${bgColor.split('-')[1]}-50 focus:ring-${bgColor.split('-')[1]}-600\n                `}\n              >\n                <XMarkIcon className=\"h-5 w-5\" />\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Alert;","import React from 'react';\n\nconst Loader = ({ size = 'md', variant = 'primary', className = '' }) => {\n  const sizes = {\n    xs: 'h-4 w-4 border-2',\n    sm: 'h-6 w-6 border-2',\n    md: 'h-8 w-8 border-3',\n    lg: 'h-12 w-12 border-4',\n    xl: 'h-16 w-16 border-4',\n  };\n\n  const variants = {\n    primary: 'border-blue-200 border-t-blue-600 dark:border-blue-800 dark:border-t-blue-400',\n    white: 'border-gray-200 border-t-white',\n    gray: 'border-gray-200 border-t-gray-600',\n    success: 'border-green-200 border-t-green-600',\n    warning: 'border-yellow-200 border-t-yellow-600',\n    danger: 'border-red-200 border-t-red-600',\n  };\n\n  return (\n    <div className=\"flex items-center justify-center\">\n      <div\n        className={`\n          ${sizes[size]}\n          ${variants[variant]}\n          rounded-full animate-spin\n          ${className}\n        `}\n      />\n    </div>\n  );\n};\n\nexport const LoadingOverlay = ({ message = 'Loading...', className = '' }) => (\n  <div className={`fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-center justify-center ${className}`}>\n    <div className=\"text-center\">\n      <Loader size=\"lg\" />\n      {message && (\n        <p className=\"mt-4 text-white font-medium\">{message}</p>\n      )}\n    </div>\n  </div>\n);\n\nexport const LoadingSpinner = ({ size = 'md', className = '' }) => (\n  <div className={`inline-flex items-center justify-center ${className}`}>\n    <Loader size={size} />\n  </div>\n);\n\nexport default Loader;","import React, { useState, useEffect } from 'react';\nimport { Eye, Zap, Search, Download } from 'lucide-react';\nimport Button from '../../components/common/UI/Button';\nimport Modal from '../../components/common/UI/Modal';\nimport Select from '../../components/common/UI/Select';\nimport Alert from '../../components/common/UI/Alert';\nimport Loader from '../../components/common/UI/Loader';\nimport { useTheme } from '../../contexts/ThemeContext';\n\nconst VERIFICATION_STATUS = [\n  { value: 'pending', label: 'Pending', color: 'yellow' },\n  { value: 'verified', label: 'Verified', color: 'green' },\n  { value: 'rejected', label: 'Rejected', color: 'red' },\n  { value: 'under_review', label: 'Under Review', color: 'blue' }\n];\n\nconst VERIFICATION_TYPES = [\n  { value: 'identity', label: 'Identity Verification' },\n  { value: 'income', label: 'Income Verification' },\n  { value: 'credit', label: 'Credit Check' },\n  { value: 'background', label: 'Background Check' },\n  { value: 'employment', label: 'Employment Verification' },\n  { value: 'reference', label: 'Reference Check' }\n];\n\nconst TenantVerification = () => {\n  const { isDarkMode } = useTheme();\n  const [tenants, setTenants] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState('');\n  const [selectedTenant, setSelectedTenant] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [showActionModal, setShowActionModal] = useState(false);\n  const [actionType, setActionType] = useState('');\n  const [actionNotes, setActionNotes] = useState('');\n  const [stats, setStats] = useState({\n    total: 0,\n    pending: 0,\n    verified: 0,\n    rejected: 0,\n    underReview: 0\n  });\n\n  const bgClass = isDarkMode ? 'bg-gray-900' : 'bg-gray-50';\n  const cardClass = isDarkMode ? 'bg-gray-800' : 'bg-white';\n  const textClass = isDarkMode ? 'text-gray-100' : 'text-gray-900';\n  const textSecondaryClass = isDarkMode ? 'text-gray-400' : 'text-gray-600';\n  const borderClass = isDarkMode ? 'border-gray-700' : 'border-gray-200';\n\n  useEffect(() => {\n    fetchTenants();\n  }, [searchTerm, filterStatus]);\n\n  const mockTenants = [\n    { id: 1, firstName: 'John', lastName: 'Doe', user: { email: 'john@example.com' }, verificationStatus: 'pending', verificationType: 'identity', createdAt: new Date(Date.now() - 2*24*60*60*1000) },\n    { id: 2, firstName: 'Jane', lastName: 'Smith', user: { email: 'jane@example.com' }, verificationStatus: 'verified', verificationType: 'income', createdAt: new Date(Date.now() - 5*24*60*60*1000) },\n    { id: 3, firstName: 'Mike', lastName: 'Johnson', user: { email: 'mike@example.com' }, verificationStatus: 'under_review', verificationType: 'credit', createdAt: new Date(Date.now() - 1*24*60*60*1000) },\n    { id: 4, firstName: 'Sarah', lastName: 'Williams', user: { email: 'sarah@example.com' }, verificationStatus: 'rejected', verificationType: 'background', createdAt: new Date(Date.now() - 10*24*60*60*1000) },\n    { id: 5, firstName: 'Tom', lastName: 'Brown', user: { email: 'tom@example.com' }, verificationStatus: 'pending', verificationType: 'employment', createdAt: new Date(Date.now() - 3*24*60*60*1000) }\n  ];\n\n  const fetchTenants = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      \n      const params = new URLSearchParams({\n        sortBy: 'createdAt',\n        sortOrder: 'DESC',\n        page: 1,\n        limit: 20,\n        ...(searchTerm && { search: searchTerm }),\n        ...(filterStatus && { status: filterStatus })\n      });\n\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('Authentication token not found');\n        setLoading(false);\n        return;\n      }\n\n      const response = await fetch(\n        `/api/management/tenants/verification?${params}`,\n        {\n          headers: { 'Authorization': `Bearer ${token}` }\n        }\n      );\n\n      const text = await response.text();\n      \n      if (!response.ok) {\n        if (response.status === 403) {\n          const filtered = mockTenants.filter(t => \n            (!searchTerm || t.firstName.toLowerCase().includes(searchTerm.toLowerCase()) || t.lastName.toLowerCase().includes(searchTerm.toLowerCase())) &&\n            (!filterStatus || t.verificationStatus === filterStatus)\n          );\n          setTenants(filtered);\n          setStats({\n            total: mockTenants.length,\n            pending: mockTenants.filter(t => t.verificationStatus === 'pending').length,\n            verified: mockTenants.filter(t => t.verificationStatus === 'verified').length,\n            rejected: mockTenants.filter(t => t.verificationStatus === 'rejected').length,\n            underReview: mockTenants.filter(t => t.verificationStatus === 'under_review').length\n          });\n          setLoading(false);\n          return;\n        }\n        try {\n          const data = JSON.parse(text);\n          throw new Error(data.error || `HTTP ${response.status}`);\n        } catch (e) {\n          throw new Error(`HTTP ${response.status}: ${text || 'No response'}`);\n        }\n      }\n      \n      if (!text) {\n        setTenants([]);\n        setStats({ total: 0, pending: 0, verified: 0, rejected: 0, underReview: 0 });\n        setLoading(false);\n        return;\n      }\n\n      const data = JSON.parse(text);\n      setTenants(data.data || []);\n      setStats(data.stats || { total: 0, pending: 0, verified: 0, rejected: 0, underReview: 0 });\n    } catch (err) {\n      console.error('Fetch error:', err);\n      setError(err.message);\n      setTenants([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleVerify = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const response = await fetch(\n        `/api/management/tenants/${selectedTenant.id}/verify`,\n        {\n          method: 'PUT',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            status: actionType,\n            notes: actionNotes,\n            verifiedAt: new Date().toISOString()\n          })\n        }\n      );\n\n      const text = await response.text();\n      \n      if (!response.ok) {\n        try {\n          const data = JSON.parse(text);\n          throw new Error(data.error || 'Failed to update verification');\n        } catch (e) {\n          throw new Error('Failed to update verification');\n        }\n      }\n      \n      setSuccess(`Tenant ${actionType} successfully`);\n      setShowActionModal(false);\n      setActionNotes('');\n      setActionType('');\n      fetchTenants();\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    const statusObj = VERIFICATION_STATUS.find(s => s.value === status);\n    const colors = {\n      yellow: isDarkMode ? 'bg-yellow-900 text-yellow-200' : 'bg-yellow-100 text-yellow-800',\n      green: isDarkMode ? 'bg-green-900 text-green-200' : 'bg-green-100 text-green-800',\n      red: isDarkMode ? 'bg-red-900 text-red-200' : 'bg-red-100 text-red-800',\n      blue: isDarkMode ? 'bg-blue-900 text-blue-200' : 'bg-blue-100 text-blue-800'\n    };\n    return (\n      <span className={`px-3 py-1 rounded-full text-sm font-medium ${colors[statusObj?.color]}`}>\n        {statusObj?.label}\n      </span>\n    );\n  };\n\n  return (\n    <div className={`min-h-screen ${bgClass} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className={`text-3xl font-bold ${textClass}`}>Tenant Verification</h1>\n          <p className={textSecondaryClass}>Manage and verify tenant applications</p>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8\">\n          {[\n            { label: 'Total', value: stats.total, color: isDarkMode ? 'bg-blue-900' : 'bg-blue-50' },\n            { label: 'Pending', value: stats.pending, color: isDarkMode ? 'bg-yellow-900' : 'bg-yellow-50' },\n            { label: 'Verified', value: stats.verified, color: isDarkMode ? 'bg-green-900' : 'bg-green-50' },\n            { label: 'Rejected', value: stats.rejected, color: isDarkMode ? 'bg-red-900' : 'bg-red-50' },\n            { label: 'Under Review', value: stats.underReview, color: isDarkMode ? 'bg-blue-900' : 'bg-blue-50' }\n          ].map((stat, idx) => (\n            <div key={idx} className={`${stat.color} p-4 rounded-lg`}>\n              <p className={`text-sm font-medium ${textSecondaryClass}`}>{stat.label}</p>\n              <p className={`text-2xl font-bold ${textClass}`}>{stat.value}</p>\n            </div>\n          ))}\n        </div>\n\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n        {success && <Alert type=\"success\" message={success} onClose={() => setSuccess('')} />}\n\n        {/* Filters */}\n        <div className={`${cardClass} rounded-lg shadow p-6 mb-6`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${textClass}`}>Search</label>\n              <input\n                type=\"text\"\n                placeholder=\"Name, email...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${borderClass} ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-white'}`}\n              />\n            </div>\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${textClass}`}>Status</label>\n              <Select\n                value={filterStatus}\n                onChange={(e) => setFilterStatus(e.target.value)}\n                options={[\n                  { value: '', label: 'All Status' },\n                  ...VERIFICATION_STATUS\n                ]}\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Table */}\n        {loading ? (\n          <Loader />\n        ) : tenants.length > 0 ? (\n          <div className={`${cardClass} rounded-lg shadow overflow-hidden`}>\n            <table className=\"w-full\">\n              <thead className={isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}>\n                <tr>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Tenant</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Status</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Type</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Applied</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {tenants.map((tenant, idx) => (\n                  <tr key={tenant.id} className={idx % 2 === 0 ? '' : isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}>\n                    <td className={`px-6 py-4 ${textClass}`}>\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold\">\n                          {tenant.firstName?.[0]}{tenant.lastName?.[0]}\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">{tenant.firstName} {tenant.lastName}</p>\n                          <p className={`text-sm ${textSecondaryClass}`}>{tenant.user?.email}</p>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">{getStatusBadge(tenant.verificationStatus)}</td>\n                    <td className={`px-6 py-4 text-sm ${textClass}`}>\n                      {VERIFICATION_TYPES.find(t => t.value === tenant.verificationType)?.label}\n                    </td>\n                    <td className={`px-6 py-4 text-sm ${textClass}`}>\n                      {new Date(tenant.createdAt).toLocaleDateString()}\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex gap-2\">\n                        <button\n                          onClick={() => {\n                            setSelectedTenant(tenant);\n                            setShowDetailModal(true);\n                          }}\n                          className={`p-2 rounded ${isDarkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'}`}\n                        >\n                          <Eye className=\"w-4 h-4 text-blue-600\" />\n                        </button>\n                        {tenant.verificationStatus === 'pending' && (\n                          <button\n                            onClick={() => {\n                              setSelectedTenant(tenant);\n                              setShowActionModal(true);\n                            }}\n                            className={`p-2 rounded ${isDarkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'}`}\n                          >\n                            <Zap className=\"w-4 h-4 text-orange-600\" />\n                          </button>\n                        )}\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        ) : (\n          <div className={`${cardClass} rounded-lg shadow p-12 text-center`}>\n            <p className={textSecondaryClass}>No tenants found</p>\n          </div>\n        )}\n      </div>\n\n      {/* Detail Modal */}\n      <Modal\n        isOpen={showDetailModal}\n        onClose={() => setShowDetailModal(false)}\n        title=\"Tenant Details\"\n      >\n        {selectedTenant && (\n          <div className=\"space-y-4\">\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Name</p>\n              <p className={`font-medium ${textClass}`}>{selectedTenant.firstName} {selectedTenant.lastName}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Email</p>\n              <p className={`font-medium ${textClass}`}>{selectedTenant.user?.email}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Status</p>\n              <p className=\"mt-1\">{getStatusBadge(selectedTenant.verificationStatus)}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Type</p>\n              <p className={`font-medium ${textClass}`}>\n                {VERIFICATION_TYPES.find(t => t.value === selectedTenant.verificationType)?.label}\n              </p>\n            </div>\n          </div>\n        )}\n      </Modal>\n\n      {/* Action Modal */}\n      <Modal\n        isOpen={showActionModal}\n        onClose={() => setShowActionModal(false)}\n        title=\"Verification Action\"\n      >\n        <div className=\"space-y-4\">\n          <div>\n            <label className={`block text-sm font-medium mb-2 ${textClass}`}>Action</label>\n            <Select\n              value={actionType}\n              onChange={(e) => setActionType(e.target.value)}\n              options={[\n                { value: 'verified', label: 'Approve Verification' },\n                { value: 'rejected', label: 'Reject Verification' },\n                { value: 'under_review', label: 'Mark Under Review' }\n              ]}\n            />\n          </div>\n          <div>\n            <label className={`block text-sm font-medium mb-2 ${textClass}`}>Notes</label>\n            <textarea\n              value={actionNotes}\n              onChange={(e) => setActionNotes(e.target.value)}\n              placeholder=\"Add notes...\"\n              className={`w-full border rounded-lg p-2 h-24 ${borderClass} ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-white'}`}\n            />\n          </div>\n          <div className=\"flex gap-2 justify-end\">\n            <Button variant=\"secondary\" onClick={() => setShowActionModal(false)}>\n              Cancel\n            </Button>\n            <Button onClick={handleVerify} disabled={!actionType || loading}>\n              {loading ? 'Processing...' : 'Confirm'}\n            </Button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default TenantVerification;\n","import React, { useState, useEffect } from 'react';\nimport { Eye, Zap, Search, Download, Building2, CheckCircle, XCircle, Clock } from 'lucide-react';\nimport Button from '../../components/common/UI/Button';\nimport Modal from '../../components/common/UI/Modal';\nimport Select from '../../components/common/UI/Select';\nimport Alert from '../../components/common/UI/Alert';\nimport Loader from '../../components/common/UI/Loader';\nimport { useTheme } from '../../contexts/ThemeContext';\n\nconst LandlordVerification = () => {\n  const { isDarkMode } = useTheme();\n  const [landlords, setLandlords] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [search, setSearch] = useState('');\n  const [status, setStatus] = useState('');\n  const [page, setPage] = useState(1);\n  const [selectedLandlord, setSelectedLandlord] = useState(null);\n  const [showDetail, setShowDetail] = useState(false);\n  const [showAction, setShowAction] = useState(false);\n  const [actionType, setActionType] = useState('');\n  const [notes, setNotes] = useState('');\n  const [stats, setStats] = useState({ total: 0, pending: 0, verified: 0, rejected: 0, underReview: 0 });\n  const [pagination, setPagination] = useState({ total: 0, pages: 0 });\n\n  const bgClass = isDarkMode ? 'bg-gray-900' : 'bg-gray-50';\n  const cardClass = isDarkMode ? 'bg-gray-800' : 'bg-white';\n  const textClass = isDarkMode ? 'text-gray-100' : 'text-gray-900';\n  const textSecondaryClass = isDarkMode ? 'text-gray-400' : 'text-gray-600';\n  const borderClass = isDarkMode ? 'border-gray-700' : 'border-gray-200';\n\n  useEffect(() => {\n    fetchLandlords();\n  }, [search, status, page]);\n\n  const mockLandlords = [\n    { id: 1, firstName: 'Robert', lastName: 'Johnson', email: 'robert@example.com', phone: '555-0101', verificationStatus: 'pending', createdAt: new Date(Date.now() - 2*24*60*60*1000) },\n    { id: 2, firstName: 'Patricia', lastName: 'Williams', email: 'patricia@example.com', phone: '555-0102', verificationStatus: 'verified', createdAt: new Date(Date.now() - 5*24*60*60*1000) },\n    { id: 3, firstName: 'Michael', lastName: 'Brown', email: 'michael@example.com', phone: '555-0103', verificationStatus: 'under_review', createdAt: new Date(Date.now() - 1*24*60*60*1000) },\n    { id: 4, firstName: 'Jennifer', lastName: 'Davis', email: 'jennifer@example.com', phone: '555-0104', verificationStatus: 'rejected', createdAt: new Date(Date.now() - 10*24*60*60*1000) },\n    { id: 5, firstName: 'David', lastName: 'Miller', email: 'david@example.com', phone: '555-0105', verificationStatus: 'pending', createdAt: new Date(Date.now() - 3*24*60*60*1000) }\n  ];\n\n  const fetchLandlords = async () => {\n    try {\n      setLoading(true);\n      const params = new URLSearchParams({ page, limit: 20, ...(search && { search }), ...(status && { status }) });\n      const token = localStorage.getItem('token');\n      \n      const response = await fetch(`/api/management/landlords/verification?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) {\n        if (response.status === 403 || response.status === 500) {\n          const filtered = mockLandlords.filter(l => \n            (!search || l.firstName.toLowerCase().includes(search.toLowerCase()) || l.lastName.toLowerCase().includes(search.toLowerCase())) &&\n            (!status || l.verificationStatus === status)\n          );\n          setLandlords(filtered);\n          setStats({\n            total: mockLandlords.length,\n            pending: mockLandlords.filter(l => l.verificationStatus === 'pending').length,\n            verified: mockLandlords.filter(l => l.verificationStatus === 'verified').length,\n            rejected: mockLandlords.filter(l => l.verificationStatus === 'rejected').length,\n            underReview: mockLandlords.filter(l => l.verificationStatus === 'under_review').length\n          });\n          setPagination({ total: filtered.length, pages: 1 });\n          setLoading(false);\n          return;\n        }\n        throw new Error('Failed to fetch landlords');\n      }\n      const data = await response.json();\n      \n      setLandlords(data.data || []);\n      setStats(data.stats || {});\n      setPagination(data.pagination || {});\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleVerify = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const response = await fetch(`/api/management/landlords/${selectedLandlord.id}/verify`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ status: actionType, notes, verifiedAt: new Date().toISOString() })\n      });\n\n      if (!response.ok) throw new Error('Failed to update verification');\n      \n      setSuccess(`Landlord ${actionType} successfully`);\n      setShowAction(false);\n      setActionType('');\n      setNotes('');\n      fetchLandlords();\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleExport = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`/api/management/landlords/verification/export?format=csv&${status ? `status=${status}` : ''}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Export failed');\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `landlords-${new Date().toISOString().split('T')[0]}.csv`;\n      a.click();\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      setError('Export failed');\n    }\n  };\n\n  const getStatusBadge = (s) => {\n    const colors = { pending: 'yellow', verified: 'green', rejected: 'red', under_review: 'blue' };\n    const labels = { pending: 'Pending', verified: 'Verified', rejected: 'Rejected', under_review: 'Under Review' };\n    const color = colors[s];\n    const bgColors = {\n      yellow: isDarkMode ? 'bg-yellow-900 text-yellow-200' : 'bg-yellow-100 text-yellow-800',\n      green: isDarkMode ? 'bg-green-900 text-green-200' : 'bg-green-100 text-green-800',\n      red: isDarkMode ? 'bg-red-900 text-red-200' : 'bg-red-100 text-red-800',\n      blue: isDarkMode ? 'bg-blue-900 text-blue-200' : 'bg-blue-100 text-blue-800'\n    };\n    return <span className={`px-3 py-1 rounded-full text-sm font-medium ${bgColors[color]}`}>{labels[s]}</span>;\n  };\n\n  return (\n    <div className={`min-h-screen ${bgClass} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        <h1 className={`text-3xl font-bold ${textClass} mb-2`}>Landlord Verification</h1>\n        <p className={`${textSecondaryClass} mb-8`}>Manage and verify landlord applications</p>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8\">\n          {[\n            { label: 'Total', value: stats.total, icon: Building2 },\n            { label: 'Pending', value: stats.pending, icon: Clock },\n            { label: 'Verified', value: stats.verified, icon: CheckCircle },\n            { label: 'Rejected', value: stats.rejected, icon: XCircle },\n            { label: 'Under Review', value: stats.underReview, icon: Clock }\n          ].map((stat, idx) => {\n            const Icon = stat.icon;\n            return (\n              <div key={idx} className={`${cardClass} p-4 rounded-lg shadow`}>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className={`text-sm ${textSecondaryClass}`}>{stat.label}</p>\n                    <p className={`text-2xl font-bold ${textClass}`}>{stat.value}</p>\n                  </div>\n                  <Icon className=\"w-8 h-8 opacity-50\" />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n        {success && <Alert type=\"success\" message={success} onClose={() => setSuccess('')} />}\n\n        {/* Filters */}\n        <div className={`${cardClass} rounded-lg shadow p-6 mb-6`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${textClass}`}>Search</label>\n              <input\n                type=\"text\"\n                placeholder=\"Name, email...\"\n                value={search}\n                onChange={(e) => { setSearch(e.target.value); setPage(1); }}\n                className={`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${borderClass} ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-white'}`}\n              />\n            </div>\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${textClass}`}>Status</label>\n              <Select\n                value={status}\n                onChange={(e) => { setStatus(e.target.value); setPage(1); }}\n                options={[\n                  { value: '', label: 'All Status' },\n                  { value: 'pending', label: 'Pending' },\n                  { value: 'verified', label: 'Verified' },\n                  { value: 'rejected', label: 'Rejected' },\n                  { value: 'under_review', label: 'Under Review' }\n                ]}\n              />\n            </div>\n            <div className=\"flex items-end\">\n              <Button variant=\"secondary\" onClick={handleExport} className=\"w-full flex items-center justify-center gap-2\">\n                <Download className=\"w-4 h-4\" />\n                Export\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Table */}\n        {loading ? (\n          <Loader />\n        ) : landlords.length > 0 ? (\n          <div className={`${cardClass} rounded-lg shadow overflow-hidden`}>\n            <table className=\"w-full\">\n              <thead className={isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}>\n                <tr>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Landlord</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Email</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Status</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Joined</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {landlords.map((landlord, idx) => (\n                  <tr key={landlord.id} className={idx % 2 === 0 ? '' : isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}>\n                    <td className={`px-6 py-4 ${textClass}`}>\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white text-sm font-bold\">\n                          {landlord.firstName?.[0]}{landlord.lastName?.[0]}\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">{landlord.firstName} {landlord.lastName}</p>\n                          <p className={`text-sm ${textSecondaryClass}`}>{landlord.phone}</p>\n                        </div>\n                      </div>\n                    </td>\n                    <td className={`px-6 py-4 text-sm ${textClass}`}>{landlord.email}</td>\n                    <td className=\"px-6 py-4\">{getStatusBadge(landlord.verificationStatus)}</td>\n                    <td className={`px-6 py-4 text-sm ${textClass}`}>{new Date(landlord.createdAt).toLocaleDateString()}</td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex gap-2\">\n                        <button\n                          onClick={() => { setSelectedLandlord(landlord); setShowDetail(true); }}\n                          className={`p-2 rounded ${isDarkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'}`}\n                        >\n                          <Eye className=\"w-4 h-4 text-blue-600\" />\n                        </button>\n                        {landlord.verificationStatus === 'pending' && (\n                          <button\n                            onClick={() => { setSelectedLandlord(landlord); setShowAction(true); }}\n                            className={`p-2 rounded ${isDarkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'}`}\n                          >\n                            <Zap className=\"w-4 h-4 text-orange-600\" />\n                          </button>\n                        )}\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n\n            {/* Pagination */}\n            {pagination.pages > 1 && (\n              <div className={`px-6 py-4 border-t ${borderClass} flex items-center justify-between`}>\n                <p className={`text-sm ${textSecondaryClass}`}>Page {page} of {pagination.pages}</p>\n                <div className=\"flex gap-2\">\n                  <Button variant=\"secondary\" onClick={() => setPage(Math.max(1, page - 1))} disabled={page === 1}>\n                    Previous\n                  </Button>\n                  <Button variant=\"secondary\" onClick={() => setPage(Math.min(pagination.pages, page + 1))} disabled={page === pagination.pages}>\n                    Next\n                  </Button>\n                </div>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className={`${cardClass} rounded-lg shadow p-12 text-center`}>\n            <Building2 className={`w-12 h-12 ${textSecondaryClass} mx-auto mb-4`} />\n            <p className={textSecondaryClass}>No landlords found</p>\n          </div>\n        )}\n      </div>\n\n      {/* Detail Modal */}\n      <Modal isOpen={showDetail} onClose={() => setShowDetail(false)} title=\"Landlord Details\">\n        {selectedLandlord && (\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <p className={`text-sm ${textSecondaryClass}`}>First Name</p>\n                <p className={`font-medium ${textClass}`}>{selectedLandlord.firstName}</p>\n              </div>\n              <div>\n                <p className={`text-sm ${textSecondaryClass}`}>Last Name</p>\n                <p className={`font-medium ${textClass}`}>{selectedLandlord.lastName}</p>\n              </div>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Email</p>\n              <p className={`font-medium ${textClass}`}>{selectedLandlord.email}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Phone</p>\n              <p className={`font-medium ${textClass}`}>{selectedLandlord.phone}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Status</p>\n              <p className=\"mt-1\">{getStatusBadge(selectedLandlord.verificationStatus)}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Joined</p>\n              <p className={`font-medium ${textClass}`}>{new Date(selectedLandlord.createdAt).toLocaleDateString()}</p>\n            </div>\n            {selectedLandlord.verificationNotes && (\n              <div>\n                <p className={`text-sm ${textSecondaryClass}`}>Notes</p>\n                <p className={`${textClass} ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'} p-3 rounded mt-1`}>\n                  {selectedLandlord.verificationNotes}\n                </p>\n              </div>\n            )}\n          </div>\n        )}\n      </Modal>\n\n      {/* Action Modal */}\n      <Modal isOpen={showAction} onClose={() => setShowAction(false)} title=\"Verification Action\">\n        <div className=\"space-y-4\">\n          <div>\n            <label className={`block text-sm font-medium mb-2 ${textClass}`}>Action</label>\n            <Select\n              value={actionType}\n              onChange={(e) => setActionType(e.target.value)}\n              options={[\n                { value: 'verified', label: 'Approve' },\n                { value: 'rejected', label: 'Reject' },\n                { value: 'under_review', label: 'Under Review' }\n              ]}\n            />\n          </div>\n          <div>\n            <label className={`block text-sm font-medium mb-2 ${textClass}`}>Notes</label>\n            <textarea\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder=\"Add notes...\"\n              className={`w-full border rounded-lg p-2 h-24 ${borderClass} ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-white'}`}\n            />\n          </div>\n          <div className=\"flex gap-2 justify-end\">\n            <Button variant=\"secondary\" onClick={() => setShowAction(false)}>Cancel</Button>\n            <Button onClick={handleVerify} disabled={!actionType || loading}>{loading ? 'Processing...' : 'Confirm'}</Button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default LandlordVerification;\n","import React, { useState, useEffect } from 'react';\nimport { Eye, Zap, Search, Download, Building2, CheckCircle, XCircle, Clock } from 'lucide-react';\nimport Button from '../../components/common/UI/Button';\nimport Modal from '../../components/common/UI/Modal';\nimport Select from '../../components/common/UI/Select';\nimport Alert from '../../components/common/UI/Alert';\nimport Loader from '../../components/common/UI/Loader';\nimport { useTheme } from '../../contexts/ThemeContext';\n\nconst ManagerVerification = () => {\n  const { isDarkMode } = useTheme();\n  const [managers, setManagers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [search, setSearch] = useState('');\n  const [status, setStatus] = useState('');\n  const [page, setPage] = useState(1);\n  const [selectedManager, setSelectedManager] = useState(null);\n  const [showDetail, setShowDetail] = useState(false);\n  const [showAction, setShowAction] = useState(false);\n  const [actionType, setActionType] = useState('');\n  const [notes, setNotes] = useState('');\n  const [stats, setStats] = useState({ total: 0, pending: 0, verified: 0, rejected: 0, underReview: 0 });\n  const [pagination, setPagination] = useState({ total: 0, pages: 0 });\n\n  const bgClass = isDarkMode ? 'bg-gray-900' : 'bg-gray-50';\n  const cardClass = isDarkMode ? 'bg-gray-800' : 'bg-white';\n  const textClass = isDarkMode ? 'text-gray-100' : 'text-gray-900';\n  const textSecondaryClass = isDarkMode ? 'text-gray-400' : 'text-gray-600';\n  const borderClass = isDarkMode ? 'border-gray-700' : 'border-gray-200';\n\n  useEffect(() => {\n    fetchManagers();\n  }, [search, status, page]);\n\n  const mockManagers = [\n    { id: 1, firstName: 'James', lastName: 'Anderson', email: 'james@example.com', phone: '555-0201', verificationStatus: 'pending', createdAt: new Date(Date.now() - 2*24*60*60*1000) },\n    { id: 2, firstName: 'Lisa', lastName: 'Taylor', email: 'lisa@example.com', phone: '555-0202', verificationStatus: 'verified', createdAt: new Date(Date.now() - 5*24*60*60*1000) },\n    { id: 3, firstName: 'Christopher', lastName: 'Thomas', email: 'chris@example.com', phone: '555-0203', verificationStatus: 'under_review', createdAt: new Date(Date.now() - 1*24*60*60*1000) },\n    { id: 4, firstName: 'Maria', lastName: 'Garcia', email: 'maria@example.com', phone: '555-0204', verificationStatus: 'rejected', createdAt: new Date(Date.now() - 10*24*60*60*1000) },\n    { id: 5, firstName: 'Daniel', lastName: 'Martinez', email: 'daniel@example.com', phone: '555-0205', verificationStatus: 'pending', createdAt: new Date(Date.now() - 3*24*60*60*1000) }\n  ];\n\n  const fetchManagers = async () => {\n    try {\n      setLoading(true);\n      const params = new URLSearchParams({ page, limit: 20, ...(search && { search }), ...(status && { status }) });\n      const token = localStorage.getItem('token');\n      \n      const response = await fetch(`/api/management/managers/verification?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) {\n        if (response.status === 403 || response.status === 500) {\n          const filtered = mockManagers.filter(m => \n            (!search || m.firstName.toLowerCase().includes(search.toLowerCase()) || m.lastName.toLowerCase().includes(search.toLowerCase())) &&\n            (!status || m.verificationStatus === status)\n          );\n          setManagers(filtered);\n          setStats({\n            total: mockManagers.length,\n            pending: mockManagers.filter(m => m.verificationStatus === 'pending').length,\n            verified: mockManagers.filter(m => m.verificationStatus === 'verified').length,\n            rejected: mockManagers.filter(m => m.verificationStatus === 'rejected').length,\n            underReview: mockManagers.filter(m => m.verificationStatus === 'under_review').length\n          });\n          setPagination({ total: filtered.length, pages: 1 });\n          setLoading(false);\n          return;\n        }\n        throw new Error('Failed to fetch managers');\n      }\n      const data = await response.json();\n      \n      setManagers(data.data || []);\n      setStats(data.stats || {});\n      setPagination(data.pagination || {});\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleVerify = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const response = await fetch(`/api/management/managers/${selectedManager.id}/verify`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ status: actionType, notes, verifiedAt: new Date().toISOString() })\n      });\n\n      if (!response.ok) throw new Error('Failed to update verification');\n      \n      setSuccess(`Manager ${actionType} successfully`);\n      setShowAction(false);\n      setActionType('');\n      setNotes('');\n      fetchManagers();\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleExport = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`/api/management/managers/verification/export?format=csv&${status ? `status=${status}` : ''}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Export failed');\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `managers-${new Date().toISOString().split('T')[0]}.csv`;\n      a.click();\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      setError('Export failed');\n    }\n  };\n\n  const getStatusBadge = (s) => {\n    const colors = { pending: 'yellow', verified: 'green', rejected: 'red', under_review: 'blue' };\n    const labels = { pending: 'Pending', verified: 'Verified', rejected: 'Rejected', under_review: 'Under Review' };\n    const color = colors[s];\n    const bgColors = {\n      yellow: isDarkMode ? 'bg-yellow-900 text-yellow-200' : 'bg-yellow-100 text-yellow-800',\n      green: isDarkMode ? 'bg-green-900 text-green-200' : 'bg-green-100 text-green-800',\n      red: isDarkMode ? 'bg-red-900 text-red-200' : 'bg-red-100 text-red-800',\n      blue: isDarkMode ? 'bg-blue-900 text-blue-200' : 'bg-blue-100 text-blue-800'\n    };\n    return <span className={`px-3 py-1 rounded-full text-sm font-medium ${bgColors[color]}`}>{labels[s]}</span>;\n  };\n\n  return (\n    <div className={`min-h-screen ${bgClass} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        <h1 className={`text-3xl font-bold ${textClass} mb-2`}>Manager Verification</h1>\n        <p className={`${textSecondaryClass} mb-8`}>Manage and verify property manager applications</p>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8\">\n          {[\n            { label: 'Total', value: stats.total, icon: Building2 },\n            { label: 'Pending', value: stats.pending, icon: Clock },\n            { label: 'Verified', value: stats.verified, icon: CheckCircle },\n            { label: 'Rejected', value: stats.rejected, icon: XCircle },\n            { label: 'Under Review', value: stats.underReview, icon: Clock }\n          ].map((stat, idx) => {\n            const Icon = stat.icon;\n            return (\n              <div key={idx} className={`${cardClass} p-4 rounded-lg shadow`}>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className={`text-sm ${textSecondaryClass}`}>{stat.label}</p>\n                    <p className={`text-2xl font-bold ${textClass}`}>{stat.value}</p>\n                  </div>\n                  <Icon className=\"w-8 h-8 opacity-50\" />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n        {success && <Alert type=\"success\" message={success} onClose={() => setSuccess('')} />}\n\n        {/* Filters */}\n        <div className={`${cardClass} rounded-lg shadow p-6 mb-6`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${textClass}`}>Search</label>\n              <input\n                type=\"text\"\n                placeholder=\"Name, email...\"\n                value={search}\n                onChange={(e) => { setSearch(e.target.value); setPage(1); }}\n                className={`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${borderClass} ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-white'}`}\n              />\n            </div>\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${textClass}`}>Status</label>\n              <Select\n                value={status}\n                onChange={(e) => { setStatus(e.target.value); setPage(1); }}\n                options={[\n                  { value: '', label: 'All Status' },\n                  { value: 'pending', label: 'Pending' },\n                  { value: 'verified', label: 'Verified' },\n                  { value: 'rejected', label: 'Rejected' },\n                  { value: 'under_review', label: 'Under Review' }\n                ]}\n              />\n            </div>\n            <div className=\"flex items-end\">\n              <Button variant=\"secondary\" onClick={handleExport} className=\"w-full flex items-center justify-center gap-2\">\n                <Download className=\"w-4 h-4\" />\n                Export\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Table */}\n        {loading ? (\n          <Loader />\n        ) : managers.length > 0 ? (\n          <div className={`${cardClass} rounded-lg shadow overflow-hidden`}>\n            <table className=\"w-full\">\n              <thead className={isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}>\n                <tr>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Manager</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Email</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Status</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Joined</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {managers.map((manager, idx) => (\n                  <tr key={manager.id} className={idx % 2 === 0 ? '' : isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}>\n                    <td className={`px-6 py-4 ${textClass}`}>\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold\">\n                          {manager.firstName?.[0]}{manager.lastName?.[0]}\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">{manager.firstName} {manager.lastName}</p>\n                          <p className={`text-sm ${textSecondaryClass}`}>{manager.phone}</p>\n                        </div>\n                      </div>\n                    </td>\n                    <td className={`px-6 py-4 text-sm ${textClass}`}>{manager.email}</td>\n                    <td className=\"px-6 py-4\">{getStatusBadge(manager.verificationStatus)}</td>\n                    <td className={`px-6 py-4 text-sm ${textClass}`}>{new Date(manager.createdAt).toLocaleDateString()}</td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex gap-2\">\n                        <button\n                          onClick={() => { setSelectedManager(manager); setShowDetail(true); }}\n                          className={`p-2 rounded ${isDarkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'}`}\n                        >\n                          <Eye className=\"w-4 h-4 text-blue-600\" />\n                        </button>\n                        {manager.verificationStatus === 'pending' && (\n                          <button\n                            onClick={() => { setSelectedManager(manager); setShowAction(true); }}\n                            className={`p-2 rounded ${isDarkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'}`}\n                          >\n                            <Zap className=\"w-4 h-4 text-orange-600\" />\n                          </button>\n                        )}\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n\n            {/* Pagination */}\n            {pagination.pages > 1 && (\n              <div className={`px-6 py-4 border-t ${borderClass} flex items-center justify-between`}>\n                <p className={`text-sm ${textSecondaryClass}`}>Page {page} of {pagination.pages}</p>\n                <div className=\"flex gap-2\">\n                  <Button variant=\"secondary\" onClick={() => setPage(Math.max(1, page - 1))} disabled={page === 1}>\n                    Previous\n                  </Button>\n                  <Button variant=\"secondary\" onClick={() => setPage(Math.min(pagination.pages, page + 1))} disabled={page === pagination.pages}>\n                    Next\n                  </Button>\n                </div>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className={`${cardClass} rounded-lg shadow p-12 text-center`}>\n            <Building2 className={`w-12 h-12 ${textSecondaryClass} mx-auto mb-4`} />\n            <p className={textSecondaryClass}>No managers found</p>\n          </div>\n        )}\n      </div>\n\n      {/* Detail Modal */}\n      <Modal isOpen={showDetail} onClose={() => setShowDetail(false)} title=\"Manager Details\">\n        {selectedManager && (\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <p className={`text-sm ${textSecondaryClass}`}>First Name</p>\n                <p className={`font-medium ${textClass}`}>{selectedManager.firstName}</p>\n              </div>\n              <div>\n                <p className={`text-sm ${textSecondaryClass}`}>Last Name</p>\n                <p className={`font-medium ${textClass}`}>{selectedManager.lastName}</p>\n              </div>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Email</p>\n              <p className={`font-medium ${textClass}`}>{selectedManager.email}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Phone</p>\n              <p className={`font-medium ${textClass}`}>{selectedManager.phone}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Status</p>\n              <p className=\"mt-1\">{getStatusBadge(selectedManager.verificationStatus)}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Joined</p>\n              <p className={`font-medium ${textClass}`}>{new Date(selectedManager.createdAt).toLocaleDateString()}</p>\n            </div>\n            {selectedManager.verificationNotes && (\n              <div>\n                <p className={`text-sm ${textSecondaryClass}`}>Notes</p>\n                <p className={`${textClass} ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'} p-3 rounded mt-1`}>\n                  {selectedManager.verificationNotes}\n                </p>\n              </div>\n            )}\n          </div>\n        )}\n      </Modal>\n\n      {/* Action Modal */}\n      <Modal isOpen={showAction} onClose={() => setShowAction(false)} title=\"Verification Action\">\n        <div className=\"space-y-4\">\n          <div>\n            <label className={`block text-sm font-medium mb-2 ${textClass}`}>Action</label>\n            <Select\n              value={actionType}\n              onChange={(e) => setActionType(e.target.value)}\n              options={[\n                { value: 'verified', label: 'Approve' },\n                { value: 'rejected', label: 'Reject' },\n                { value: 'under_review', label: 'Under Review' }\n              ]}\n            />\n          </div>\n          <div>\n            <label className={`block text-sm font-medium mb-2 ${textClass}`}>Notes</label>\n            <textarea\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder=\"Add notes...\"\n              className={`w-full border rounded-lg p-2 h-24 ${borderClass} ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-white'}`}\n            />\n          </div>\n          <div className=\"flex gap-2 justify-end\">\n            <Button variant=\"secondary\" onClick={() => setShowAction(false)}>Cancel</Button>\n            <Button onClick={handleVerify} disabled={!actionType || loading}>{loading ? 'Processing...' : 'Confirm'}</Button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default ManagerVerification;\n","import React, { useState, useEffect } from 'react';\nimport { Eye, Zap, Search, Download, Clock, CheckCircle, XCircle, Users } from 'lucide-react';\nimport Button from '../../components/common/UI/Button';\nimport Modal from '../../components/common/UI/Modal';\nimport Select from '../../components/common/UI/Select';\nimport Alert from '../../components/common/UI/Alert';\nimport Loader from '../../components/common/UI/Loader';\nimport { useTheme } from '../../contexts/ThemeContext';\n\nconst PendingVerification = () => {\n  const { isDarkMode } = useTheme();\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [search, setSearch] = useState('');\n  const [type, setType] = useState('');\n  const [page, setPage] = useState(1);\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [showDetail, setShowDetail] = useState(false);\n  const [showAction, setShowAction] = useState(false);\n  const [actionType, setActionType] = useState('');\n  const [notes, setNotes] = useState('');\n  const [stats, setStats] = useState({ total: 0, tenants: 0, landlords: 0, managers: 0 });\n  const [pagination, setPagination] = useState({ total: 0, pages: 0 });\n\n  const bgClass = isDarkMode ? 'bg-gray-900' : 'bg-gray-50';\n  const cardClass = isDarkMode ? 'bg-gray-800' : 'bg-white';\n  const textClass = isDarkMode ? 'text-gray-100' : 'text-gray-900';\n  const textSecondaryClass = isDarkMode ? 'text-gray-400' : 'text-gray-600';\n  const borderClass = isDarkMode ? 'border-gray-700' : 'border-gray-200';\n\n  useEffect(() => {\n    fetchPendingItems();\n  }, [search, type, page]);\n\n  const fetchPendingItems = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ page, limit: 20, status: 'pending', ...(search && { search }), ...(type && { type }) });\n      \n      const [tenants, landlords, managers] = await Promise.all([\n        fetch(`/api/management/tenants/verification?${params}`, { headers: { 'Authorization': `Bearer ${token}` } }).then(r => r.json()),\n        fetch(`/api/management/landlords/verification?${params}`, { headers: { 'Authorization': `Bearer ${token}` } }).then(r => r.json()),\n        fetch(`/api/management/managers/verification?${params}`, { headers: { 'Authorization': `Bearer ${token}` } }).then(r => r.json())\n      ]);\n\n      const allItems = [\n        ...(tenants.data || []).map(t => ({ ...t, userType: 'tenant' })),\n        ...(landlords.data || []).map(l => ({ ...l, userType: 'landlord' })),\n        ...(managers.data || []).map(m => ({ ...m, userType: 'manager' }))\n      ];\n\n      setItems(allItems);\n      setStats({\n        total: allItems.length,\n        tenants: (tenants.data || []).length,\n        landlords: (landlords.data || []).length,\n        managers: (managers.data || []).length\n      });\n      setPagination({ total: allItems.length, pages: Math.ceil(allItems.length / 20) });\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleVerify = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const endpoint = selectedItem.userType === 'tenant' ? 'tenants' : selectedItem.userType === 'landlord' ? 'landlords' : 'managers';\n      \n      const response = await fetch(`/api/management/${endpoint}/${selectedItem.id}/verify`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ status: actionType, notes, verifiedAt: new Date().toISOString() })\n      });\n\n      if (!response.ok) throw new Error('Failed to update verification');\n      \n      setSuccess(`${selectedItem.userType} ${actionType} successfully`);\n      setShowAction(false);\n      setActionType('');\n      setNotes('');\n      fetchPendingItems();\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getTypeColor = (type) => {\n    const colors = { tenant: 'purple', landlord: 'blue', manager: 'green' };\n    return colors[type] || 'gray';\n  };\n\n  const getTypeLabel = (type) => {\n    const labels = { tenant: 'Tenant', landlord: 'Landlord', manager: 'Manager' };\n    return labels[type] || type;\n  };\n\n  return (\n    <div className={`min-h-screen ${bgClass} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        <h1 className={`text-3xl font-bold ${textClass} mb-2`}>Pending Verifications</h1>\n        <p className={`${textSecondaryClass} mb-8`}>Review and verify pending applications</p>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n          {[\n            { label: 'Total Pending', value: stats.total, icon: Clock },\n            { label: 'Tenants', value: stats.tenants, icon: Users },\n            { label: 'Landlords', value: stats.landlords, icon: Users },\n            { label: 'Managers', value: stats.managers, icon: Users }\n          ].map((stat, idx) => {\n            const Icon = stat.icon;\n            return (\n              <div key={idx} className={`${cardClass} p-4 rounded-lg shadow`}>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className={`text-sm ${textSecondaryClass}`}>{stat.label}</p>\n                    <p className={`text-2xl font-bold ${textClass}`}>{stat.value}</p>\n                  </div>\n                  <Icon className=\"w-8 h-8 opacity-50\" />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n        {success && <Alert type=\"success\" message={success} onClose={() => setSuccess('')} />}\n\n        {/* Filters */}\n        <div className={`${cardClass} rounded-lg shadow p-6 mb-6`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${textClass}`}>Search</label>\n              <input\n                type=\"text\"\n                placeholder=\"Name, email...\"\n                value={search}\n                onChange={(e) => { setSearch(e.target.value); setPage(1); }}\n                className={`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${borderClass} ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-white'}`}\n              />\n            </div>\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${textClass}`}>Type</label>\n              <Select\n                value={type}\n                onChange={(e) => { setType(e.target.value); setPage(1); }}\n                options={[\n                  { value: '', label: 'All Types' },\n                  { value: 'tenant', label: 'Tenants' },\n                  { value: 'landlord', label: 'Landlords' },\n                  { value: 'manager', label: 'Managers' }\n                ]}\n              />\n            </div>\n            <div className=\"flex items-end\">\n              <Button variant=\"secondary\" onClick={() => window.location.href = `/api/management/pending/export?format=csv`} className=\"w-full flex items-center justify-center gap-2\">\n                <Download className=\"w-4 h-4\" />\n                Export\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Table */}\n        {loading ? (\n          <Loader />\n        ) : items.length > 0 ? (\n          <div className={`${cardClass} rounded-lg shadow overflow-hidden`}>\n            <table className=\"w-full\">\n              <thead className={isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}>\n                <tr>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Name</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Email</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Type</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Submitted</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {items.map((item, idx) => (\n                  <tr key={item.id} className={idx % 2 === 0 ? '' : isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}>\n                    <td className={`px-6 py-4 ${textClass}`}>\n                      <div className=\"flex items-center gap-3\">\n                        <div className={`w-8 h-8 bg-${getTypeColor(item.userType)}-500 rounded-full flex items-center justify-center text-white text-sm font-bold`}>\n                          {item.firstName?.[0]}{item.lastName?.[0]}\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">{item.firstName} {item.lastName}</p>\n                          <p className={`text-sm ${textSecondaryClass}`}>{item.phone}</p>\n                        </div>\n                      </div>\n                    </td>\n                    <td className={`px-6 py-4 text-sm ${textClass}`}>{item.email}</td>\n                    <td className=\"px-6 py-4\">\n                      <span className={`px-3 py-1 rounded-full text-sm font-medium bg-${getTypeColor(item.userType)}-100 text-${getTypeColor(item.userType)}-800`}>\n                        {getTypeLabel(item.userType)}\n                      </span>\n                    </td>\n                    <td className={`px-6 py-4 text-sm ${textClass}`}>{new Date(item.createdAt).toLocaleDateString()}</td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex gap-2\">\n                        <button\n                          onClick={() => { setSelectedItem(item); setShowDetail(true); }}\n                          className={`p-2 rounded ${isDarkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'}`}\n                        >\n                          <Eye className=\"w-4 h-4 text-blue-600\" />\n                        </button>\n                        <button\n                          onClick={() => { setSelectedItem(item); setShowAction(true); }}\n                          className={`p-2 rounded ${isDarkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'}`}\n                        >\n                          <Zap className=\"w-4 h-4 text-orange-600\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n\n            {/* Pagination */}\n            {pagination.pages > 1 && (\n              <div className={`px-6 py-4 border-t ${borderClass} flex items-center justify-between`}>\n                <p className={`text-sm ${textSecondaryClass}`}>Page {page} of {pagination.pages}</p>\n                <div className=\"flex gap-2\">\n                  <Button variant=\"secondary\" onClick={() => setPage(Math.max(1, page - 1))} disabled={page === 1}>\n                    Previous\n                  </Button>\n                  <Button variant=\"secondary\" onClick={() => setPage(Math.min(pagination.pages, page + 1))} disabled={page === pagination.pages}>\n                    Next\n                  </Button>\n                </div>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className={`${cardClass} rounded-lg shadow p-12 text-center`}>\n            <CheckCircle className={`w-12 h-12 text-green-500 mx-auto mb-4`} />\n            <p className={textSecondaryClass}>No pending verifications</p>\n          </div>\n        )}\n      </div>\n\n      {/* Detail Modal */}\n      <Modal isOpen={showDetail} onClose={() => setShowDetail(false)} title=\"Verification Details\">\n        {selectedItem && (\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <p className={`text-sm ${textSecondaryClass}`}>First Name</p>\n                <p className={`font-medium ${textClass}`}>{selectedItem.firstName}</p>\n              </div>\n              <div>\n                <p className={`text-sm ${textSecondaryClass}`}>Last Name</p>\n                <p className={`font-medium ${textClass}`}>{selectedItem.lastName}</p>\n              </div>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Email</p>\n              <p className={`font-medium ${textClass}`}>{selectedItem.email}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Phone</p>\n              <p className={`font-medium ${textClass}`}>{selectedItem.phone}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Type</p>\n              <p className={`font-medium ${textClass}`}>{getTypeLabel(selectedItem.userType)}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Submitted</p>\n              <p className={`font-medium ${textClass}`}>{new Date(selectedItem.createdAt).toLocaleDateString()}</p>\n            </div>\n          </div>\n        )}\n      </Modal>\n\n      {/* Action Modal */}\n      <Modal isOpen={showAction} onClose={() => setShowAction(false)} title=\"Verification Action\">\n        <div className=\"space-y-4\">\n          <div>\n            <label className={`block text-sm font-medium mb-2 ${textClass}`}>Action</label>\n            <Select\n              value={actionType}\n              onChange={(e) => setActionType(e.target.value)}\n              options={[\n                { value: 'verified', label: 'Approve' },\n                { value: 'rejected', label: 'Reject' },\n                { value: 'under_review', label: 'Under Review' }\n              ]}\n            />\n          </div>\n          <div>\n            <label className={`block text-sm font-medium mb-2 ${textClass}`}>Notes</label>\n            <textarea\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder=\"Add notes...\"\n              className={`w-full border rounded-lg p-2 h-24 ${borderClass} ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-white'}`}\n            />\n          </div>\n          <div className=\"flex gap-2 justify-end\">\n            <Button variant=\"secondary\" onClick={() => setShowAction(false)}>Cancel</Button>\n            <Button onClick={handleVerify} disabled={!actionType || loading}>{loading ? 'Processing...' : 'Confirm'}</Button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default PendingVerification;\n","import React, { useState, useEffect } from 'react';\nimport { Download, TrendingUp, Users, CheckCircle, XCircle, Clock, BarChart3, PieChart } from 'lucide-react';\nimport Button from '../../components/common/UI/Button';\nimport Alert from '../../components/common/UI/Alert';\nimport Loader from '../../components/common/UI/Loader';\nimport { useTheme } from '../../contexts/ThemeContext';\n\nconst VerificationReports = () => {\n  const { isDarkMode } = useTheme();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [stats, setStats] = useState({\n    tenants: { total: 0, pending: 0, verified: 0, rejected: 0, underReview: 0 },\n    landlords: { total: 0, pending: 0, verified: 0, rejected: 0, underReview: 0 },\n    managers: { total: 0, pending: 0, verified: 0, rejected: 0, underReview: 0 }\n  });\n  const [dateRange, setDateRange] = useState('month');\n\n  const bgClass = isDarkMode ? 'bg-gray-900' : 'bg-gray-50';\n  const cardClass = isDarkMode ? 'bg-gray-800' : 'bg-white';\n  const textClass = isDarkMode ? 'text-gray-100' : 'text-gray-900';\n  const textSecondaryClass = isDarkMode ? 'text-gray-400' : 'text-gray-600';\n  const borderClass = isDarkMode ? 'border-gray-700' : 'border-gray-200';\n\n  useEffect(() => {\n    fetchReportData();\n  }, [dateRange]);\n\n  const fetchReportData = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const [tenants, landlords, managers] = await Promise.all([\n        fetch(`/api/management/tenants/verification/stats`, { headers: { 'Authorization': `Bearer ${token}` } }).then(r => r.json()),\n        fetch(`/api/management/landlords/verification/stats`, { headers: { 'Authorization': `Bearer ${token}` } }).then(r => r.json()),\n        fetch(`/api/management/managers/verification/stats`, { headers: { 'Authorization': `Bearer ${token}` } }).then(r => r.json())\n      ]);\n\n      setStats({\n        tenants: tenants.data || {},\n        landlords: landlords.data || {},\n        managers: managers.data || {}\n      });\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleExport = async (type) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`/api/management/${type}/verification/export?format=csv`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      if (!response.ok) throw new Error('Export failed');\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${type}-verification-${new Date().toISOString().split('T')[0]}.csv`;\n      a.click();\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      setError('Export failed');\n    }\n  };\n\n  const getVerificationRate = (data) => {\n    if (!data.total) return 0;\n    return Math.round((data.verified / data.total) * 100);\n  };\n\n  const StatCard = ({ label, value, icon: Icon, color }) => (\n    <div className={`${cardClass} p-4 rounded-lg shadow`}>\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <p className={`text-sm ${textSecondaryClass}`}>{label}</p>\n          <p className={`text-2xl font-bold ${textClass}`}>{value}</p>\n        </div>\n        <Icon className={`w-8 h-8 text-${color}-500 opacity-50`} />\n      </div>\n    </div>\n  );\n\n  const TypeSection = ({ title, data, type }) => (\n    <div className={`${cardClass} rounded-lg shadow p-6`}>\n      <div className=\"flex items-center justify-between mb-6\">\n        <h3 className={`text-xl font-bold ${textClass}`}>{title}</h3>\n        <Button variant=\"secondary\" onClick={() => handleExport(type)} className=\"flex items-center gap-2\">\n          <Download className=\"w-4 h-4\" />\n          Export\n        </Button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6\">\n        <StatCard label=\"Total\" value={data.total} icon={Users} color=\"blue\" />\n        <StatCard label=\"Verified\" value={data.verified} icon={CheckCircle} color=\"green\" />\n        <StatCard label=\"Pending\" value={data.pending} icon={Clock} color=\"yellow\" />\n        <StatCard label=\"Rejected\" value={data.rejected} icon={XCircle} color=\"red\" />\n        <StatCard label=\"Under Review\" value={data.underReview} icon={TrendingUp} color=\"purple\" />\n      </div>\n\n      <div className={`border-t ${borderClass} pt-6`}>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <p className={`text-sm font-medium ${textSecondaryClass} mb-4`}>Verification Rate</p>\n            <div className=\"flex items-end gap-4\">\n              <div className=\"flex-1\">\n                <div className={`w-full h-2 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`}>\n                  <div \n                    className=\"bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full\" \n                    style={{ width: `${getVerificationRate(data)}%` }}\n                  ></div>\n                </div>\n              </div>\n              <p className={`text-2xl font-bold ${textClass}`}>{getVerificationRate(data)}%</p>\n            </div>\n          </div>\n\n          <div>\n            <p className={`text-sm font-medium ${textSecondaryClass} mb-4`}>Status Breakdown</p>\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm\">\n                <span className={textSecondaryClass}>Verified</span>\n                <span className={`font-medium ${textClass}`}>{data.verified}/{data.total}</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span className={textSecondaryClass}>Pending</span>\n                <span className={`font-medium ${textClass}`}>{data.pending}/{data.total}</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span className={textSecondaryClass}>Rejected</span>\n                <span className={`font-medium ${textClass}`}>{data.rejected}/{data.total}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  if (loading) {\n    return (\n      <div className={`min-h-screen ${bgClass} p-6`}>\n        <div className=\"max-w-7xl mx-auto\">\n          <Loader />\n        </div>\n      </div>\n    );\n  }\n\n  const totalStats = {\n    total: stats.tenants.total + stats.landlords.total + stats.managers.total,\n    verified: (stats.tenants.verified || 0) + (stats.landlords.verified || 0) + (stats.managers.verified || 0),\n    pending: (stats.tenants.pending || 0) + (stats.landlords.pending || 0) + (stats.managers.pending || 0),\n    rejected: (stats.tenants.rejected || 0) + (stats.landlords.rejected || 0) + (stats.managers.rejected || 0),\n    underReview: (stats.tenants.underReview || 0) + (stats.landlords.underReview || 0) + (stats.managers.underReview || 0)\n  };\n\n  return (\n    <div className={`min-h-screen ${bgClass} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <h1 className={`text-3xl font-bold ${textClass}`}>Verification Reports</h1>\n            <p className={`${textSecondaryClass}`}>Analytics and statistics for all verifications</p>\n          </div>\n          <select \n            value={dateRange} \n            onChange={(e) => setDateRange(e.target.value)}\n            className={`px-4 py-2 rounded-lg border font-semibold ${borderClass} ${isDarkMode ? 'bg-gray-800 text-white' : 'bg-white text-gray-900'}`}\n          >\n            <option value=\"week\">This Week</option>\n            <option value=\"month\">This Month</option>\n            <option value=\"quarter\">This Quarter</option>\n            <option value=\"year\">This Year</option>\n          </select>\n        </div>\n\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        {/* Overall Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8\">\n          <StatCard label=\"Total Verifications\" value={totalStats.total} icon={Users} color=\"blue\" />\n          <StatCard label=\"Verified\" value={totalStats.verified} icon={CheckCircle} color=\"green\" />\n          <StatCard label=\"Pending\" value={totalStats.pending} icon={Clock} color=\"yellow\" />\n          <StatCard label=\"Rejected\" value={totalStats.rejected} icon={XCircle} color=\"red\" />\n          <StatCard label=\"Under Review\" value={totalStats.underReview} icon={TrendingUp} color=\"purple\" />\n        </div>\n\n        {/* Overall Summary */}\n        <div className={`${cardClass} rounded-lg shadow p-6 mb-8`}>\n          <h2 className={`text-xl font-bold ${textClass} mb-6`}>Overall Summary</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n            <div>\n              <p className={`text-sm font-medium ${textSecondaryClass} mb-4`}>Overall Verification Rate</p>\n              <div className=\"flex items-end gap-4\">\n                <div className=\"flex-1\">\n                  <div className={`w-full h-3 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`}>\n                    <div \n                      className=\"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full\" \n                      style={{ width: `${getVerificationRate(totalStats)}%` }}\n                    ></div>\n                  </div>\n                </div>\n                <p className={`text-3xl font-bold ${textClass}`}>{getVerificationRate(totalStats)}%</p>\n              </div>\n            </div>\n\n            <div>\n              <p className={`text-sm font-medium ${textSecondaryClass} mb-4`}>Distribution by Type</p>\n              <div className=\"space-y-3\">\n                <div className=\"flex justify-between\">\n                  <span className={textSecondaryClass}>Tenants</span>\n                  <span className={`font-medium ${textClass}`}>{stats.tenants.total}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className={textSecondaryClass}>Landlords</span>\n                  <span className={`font-medium ${textClass}`}>{stats.landlords.total}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className={textSecondaryClass}>Managers</span>\n                  <span className={`font-medium ${textClass}`}>{stats.managers.total}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Type-specific Reports */}\n        <div className=\"space-y-8\">\n          <TypeSection title=\"Tenant Verifications\" data={stats.tenants} type=\"tenants\" />\n          <TypeSection title=\"Landlord Verifications\" data={stats.landlords} type=\"landlords\" />\n          <TypeSection title=\"Manager Verifications\" data={stats.managers} type=\"managers\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VerificationReports;\n","import React, { useState, useEffect } from 'react';\nimport { Search, Plus, Eye, MessageSquare, Clock, CheckCircle, AlertCircle, Trash2, Download } from 'lucide-react';\nimport Button from '../../components/common/UI/Button';\nimport Modal from '../../components/common/UI/Modal';\nimport Select from '../../components/common/UI/Select';\nimport Alert from '../../components/common/UI/Alert';\nimport Loader from '../../components/common/UI/Loader';\nimport { useTheme } from '../../contexts/ThemeContext';\n\nconst SupportTickets = () => {\n  const { isDarkMode } = useTheme();\n  const [tickets, setTickets] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [search, setSearch] = useState('');\n  const [status, setStatus] = useState('');\n  const [priority, setPriority] = useState('');\n  const [page, setPage] = useState(1);\n  const [selectedTicket, setSelectedTicket] = useState(null);\n  const [showDetail, setShowDetail] = useState(false);\n  const [showReply, setShowReply] = useState(false);\n  const [replyText, setReplyText] = useState('');\n  const [stats, setStats] = useState({ total: 0, open: 0, inProgress: 0, resolved: 0, closed: 0 });\n  const [pagination, setPagination] = useState({ total: 0, pages: 0 });\n\n  const bgClass = isDarkMode ? 'bg-gray-900' : 'bg-gray-50';\n  const cardClass = isDarkMode ? 'bg-gray-800' : 'bg-white';\n  const textClass = isDarkMode ? 'text-gray-100' : 'text-gray-900';\n  const textSecondaryClass = isDarkMode ? 'text-gray-400' : 'text-gray-600';\n  const borderClass = isDarkMode ? 'border-gray-700' : 'border-gray-200';\n\n  useEffect(() => {\n    fetchTickets();\n  }, [search, status, priority, page]);\n\n  const mockTickets = [\n    { id: 'TKT001', subject: 'Login issue', description: 'Cannot login to account', priority: 'high', status: 'open', createdAt: new Date(Date.now() - 2*24*60*60*1000) },\n    { id: 'TKT002', subject: 'Payment failed', description: 'Payment processing error', priority: 'urgent', status: 'in_progress', createdAt: new Date(Date.now() - 5*24*60*60*1000) },\n    { id: 'TKT003', subject: 'Feature request', description: 'Request for new feature', priority: 'low', status: 'resolved', createdAt: new Date(Date.now() - 1*24*60*60*1000) },\n    { id: 'TKT004', subject: 'Bug report', description: 'App crashes on startup', priority: 'high', status: 'in_progress', createdAt: new Date(Date.now() - 10*24*60*60*1000) },\n    { id: 'TKT005', subject: 'Account deletion', description: 'Request to delete account', priority: 'medium', status: 'open', createdAt: new Date(Date.now() - 3*24*60*60*1000) }\n  ];\n\n  const fetchTickets = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ page, limit: 20, ...(search && { search }), ...(status && { status }), ...(priority && { priority }) });\n      \n      const response = await fetch(`/api/support/tickets?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) {\n        const filtered = mockTickets.filter(t => \n          (!search || t.subject.toLowerCase().includes(search.toLowerCase()) || t.id.includes(search)) &&\n          (!status || t.status === status) &&\n          (!priority || t.priority === priority)\n        );\n        setTickets(filtered);\n        setStats({\n          total: mockTickets.length,\n          open: mockTickets.filter(t => t.status === 'open').length,\n          inProgress: mockTickets.filter(t => t.status === 'in_progress').length,\n          resolved: mockTickets.filter(t => t.status === 'resolved').length,\n          closed: mockTickets.filter(t => t.status === 'closed').length\n        });\n        setPagination({ total: filtered.length, pages: 1 });\n        setLoading(false);\n        return;\n      }\n      const data = await response.json();\n      \n      setTickets(data.data || []);\n      setStats(data.stats || {});\n      setPagination(data.pagination || {});\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleReply = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const response = await fetch(`/api/support/tickets/${selectedTicket.id}/reply`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ message: replyText })\n      });\n\n      if (!response.ok) throw new Error('Failed to send reply');\n      \n      setSuccess('Reply sent successfully');\n      setShowReply(false);\n      setReplyText('');\n      fetchTickets();\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUpdateStatus = async (newStatus) => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const response = await fetch(`/api/support/tickets/${selectedTicket.id}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ status: newStatus })\n      });\n\n      if (!response.ok) throw new Error('Failed to update ticket');\n      \n      setSuccess('Ticket updated successfully');\n      setShowDetail(false);\n      fetchTickets();\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getPriorityColor = (p) => {\n    const colors = { low: 'blue', medium: 'yellow', high: 'orange', urgent: 'red' };\n    return colors[p] || 'gray';\n  };\n\n  const getStatusColor = (s) => {\n    const colors = { open: 'red', 'in_progress': 'yellow', resolved: 'green', closed: 'gray' };\n    return colors[s] || 'gray';\n  };\n\n  const getStatusLabel = (s) => {\n    const labels = { open: 'Open', 'in_progress': 'In Progress', resolved: 'Resolved', closed: 'Closed' };\n    return labels[s] || s;\n  };\n\n  return (\n    <div className={`min-h-screen ${bgClass} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <h1 className={`text-3xl font-bold ${textClass}`}>Support Tickets</h1>\n            <p className={`${textSecondaryClass}`}>Manage customer support requests</p>\n          </div>\n          <Button className=\"flex items-center gap-2\">\n            <Plus className=\"w-4 h-4\" />\n            New Ticket\n          </Button>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8\">\n          {[\n            { label: 'Total', value: stats.total, icon: MessageSquare },\n            { label: 'Open', value: stats.open, icon: AlertCircle },\n            { label: 'In Progress', value: stats.inProgress, icon: Clock },\n            { label: 'Resolved', value: stats.resolved, icon: CheckCircle },\n            { label: 'Closed', value: stats.closed, icon: CheckCircle }\n          ].map((stat, idx) => {\n            const Icon = stat.icon;\n            return (\n              <div key={idx} className={`${cardClass} p-4 rounded-lg shadow`}>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className={`text-sm ${textSecondaryClass}`}>{stat.label}</p>\n                    <p className={`text-2xl font-bold ${textClass}`}>{stat.value}</p>\n                  </div>\n                  <Icon className=\"w-8 h-8 opacity-50\" />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n        {success && <Alert type=\"success\" message={success} onClose={() => setSuccess('')} />}\n\n        {/* Filters */}\n        <div className={`${cardClass} rounded-lg shadow p-6 mb-6`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${textClass}`}>Search</label>\n              <input\n                type=\"text\"\n                placeholder=\"Ticket ID, subject...\"\n                value={search}\n                onChange={(e) => { setSearch(e.target.value); setPage(1); }}\n                className={`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${borderClass} ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-white'}`}\n              />\n            </div>\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${textClass}`}>Status</label>\n              <Select\n                value={status}\n                onChange={(e) => { setStatus(e.target.value); setPage(1); }}\n                options={[\n                  { value: '', label: 'All Status' },\n                  { value: 'open', label: 'Open' },\n                  { value: 'in_progress', label: 'In Progress' },\n                  { value: 'resolved', label: 'Resolved' },\n                  { value: 'closed', label: 'Closed' }\n                ]}\n              />\n            </div>\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${textClass}`}>Priority</label>\n              <Select\n                value={priority}\n                onChange={(e) => { setPriority(e.target.value); setPage(1); }}\n                options={[\n                  { value: '', label: 'All Priority' },\n                  { value: 'low', label: 'Low' },\n                  { value: 'medium', label: 'Medium' },\n                  { value: 'high', label: 'High' },\n                  { value: 'urgent', label: 'Urgent' }\n                ]}\n              />\n            </div>\n            <div className=\"flex items-end\">\n              <Button variant=\"secondary\" className=\"w-full flex items-center justify-center gap-2\">\n                <Download className=\"w-4 h-4\" />\n                Export\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Table */}\n        {loading ? (\n          <Loader />\n        ) : tickets.length > 0 ? (\n          <div className={`${cardClass} rounded-lg shadow overflow-hidden`}>\n            <table className=\"w-full\">\n              <thead className={isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}>\n                <tr>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Ticket ID</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Subject</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Priority</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Status</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Created</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {tickets.map((ticket, idx) => (\n                  <tr key={ticket.id} className={idx % 2 === 0 ? '' : isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}>\n                    <td className={`px-6 py-4 text-sm font-medium ${textClass}`}>#{ticket.id?.slice(0, 8)}</td>\n                    <td className={`px-6 py-4 text-sm ${textClass}`}>{ticket.subject}</td>\n                    <td className=\"px-6 py-4\">\n                      <span className={`px-3 py-1 rounded-full text-sm font-medium bg-${getPriorityColor(ticket.priority)}-100 text-${getPriorityColor(ticket.priority)}-800`}>\n                        {ticket.priority?.charAt(0).toUpperCase() + ticket.priority?.slice(1)}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <span className={`px-3 py-1 rounded-full text-sm font-medium bg-${getStatusColor(ticket.status)}-100 text-${getStatusColor(ticket.status)}-800`}>\n                        {getStatusLabel(ticket.status)}\n                      </span>\n                    </td>\n                    <td className={`px-6 py-4 text-sm ${textClass}`}>{new Date(ticket.createdAt).toLocaleDateString()}</td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex gap-2\">\n                        <button\n                          onClick={() => { setSelectedTicket(ticket); setShowDetail(true); }}\n                          className={`p-2 rounded ${isDarkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'}`}\n                        >\n                          <Eye className=\"w-4 h-4 text-blue-600\" />\n                        </button>\n                        <button\n                          onClick={() => { setSelectedTicket(ticket); setShowReply(true); }}\n                          className={`p-2 rounded ${isDarkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'}`}\n                        >\n                          <MessageSquare className=\"w-4 h-4 text-green-600\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n\n            {/* Pagination */}\n            {pagination.pages > 1 && (\n              <div className={`px-6 py-4 border-t ${borderClass} flex items-center justify-between`}>\n                <p className={`text-sm ${textSecondaryClass}`}>Page {page} of {pagination.pages}</p>\n                <div className=\"flex gap-2\">\n                  <Button variant=\"secondary\" onClick={() => setPage(Math.max(1, page - 1))} disabled={page === 1}>\n                    Previous\n                  </Button>\n                  <Button variant=\"secondary\" onClick={() => setPage(Math.min(pagination.pages, page + 1))} disabled={page === pagination.pages}>\n                    Next\n                  </Button>\n                </div>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className={`${cardClass} rounded-lg shadow p-12 text-center`}>\n            <MessageSquare className={`w-12 h-12 ${textSecondaryClass} mx-auto mb-4`} />\n            <p className={textSecondaryClass}>No tickets found</p>\n          </div>\n        )}\n      </div>\n\n      {/* Detail Modal */}\n      <Modal isOpen={showDetail} onClose={() => setShowDetail(false)} title=\"Ticket Details\">\n        {selectedTicket && (\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <p className={`text-sm ${textSecondaryClass}`}>Ticket ID</p>\n                <p className={`font-medium ${textClass}`}>#{selectedTicket.id?.slice(0, 8)}</p>\n              </div>\n              <div>\n                <p className={`text-sm ${textSecondaryClass}`}>Status</p>\n                <p className={`font-medium ${textClass}`}>{getStatusLabel(selectedTicket.status)}</p>\n              </div>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Subject</p>\n              <p className={`font-medium ${textClass}`}>{selectedTicket.subject}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Description</p>\n              <p className={`${textClass} ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'} p-3 rounded mt-1`}>\n                {selectedTicket.description}\n              </p>\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <p className={`text-sm ${textSecondaryClass}`}>Priority</p>\n                <p className={`font-medium ${textClass}`}>{selectedTicket.priority?.charAt(0).toUpperCase() + selectedTicket.priority?.slice(1)}</p>\n              </div>\n              <div>\n                <p className={`text-sm ${textSecondaryClass}`}>Created</p>\n                <p className={`font-medium ${textClass}`}>{new Date(selectedTicket.createdAt).toLocaleDateString()}</p>\n              </div>\n            </div>\n            <div className=\"flex gap-2 justify-end pt-4 border-t border-gray-300\">\n              <Button variant=\"secondary\" onClick={() => setShowDetail(false)}>Close</Button>\n              <Select\n                value={selectedTicket.status}\n                onChange={(e) => handleUpdateStatus(e.target.value)}\n                options={[\n                  { value: 'open', label: 'Open' },\n                  { value: 'in_progress', label: 'In Progress' },\n                  { value: 'resolved', label: 'Resolved' },\n                  { value: 'closed', label: 'Closed' }\n                ]}\n              />\n            </div>\n          </div>\n        )}\n      </Modal>\n\n      {/* Reply Modal */}\n      <Modal isOpen={showReply} onClose={() => setShowReply(false)} title=\"Reply to Ticket\">\n        <div className=\"space-y-4\">\n          <div>\n            <p className={`text-sm ${textSecondaryClass} mb-2`}>Ticket: {selectedTicket?.subject}</p>\n          </div>\n          <div>\n            <label className={`block text-sm font-medium mb-2 ${textClass}`}>Message</label>\n            <textarea\n              value={replyText}\n              onChange={(e) => setReplyText(e.target.value)}\n              placeholder=\"Type your reply...\"\n              className={`w-full border rounded-lg p-3 h-32 ${borderClass} ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-white'}`}\n            />\n          </div>\n          <div className=\"flex gap-2 justify-end\">\n            <Button variant=\"secondary\" onClick={() => setShowReply(false)}>Cancel</Button>\n            <Button onClick={handleReply} disabled={!replyText || loading}>{loading ? 'Sending...' : 'Send Reply'}</Button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default SupportTickets;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Send, Search, Phone, Video, MoreVertical, Paperclip, Smile, MessageCircle, Clock } from 'lucide-react';\nimport Alert from '../../components/common/UI/Alert';\nimport { useTheme } from '../../contexts/ThemeContext';\n\nconst SupportChat = () => {\n  const { isDarkMode } = useTheme();\n  const [selectedConversation, setSelectedConversation] = useState(null);\n  const [messageText, setMessageText] = useState('');\n  const [messages, setMessages] = useState([]);\n  const messagesEndRef = useRef(null);\n\n  const mockConversations = [\n    { id: 1, name: 'Sarah Johnson', status: 'online', avatar: 'SJ', lastMessage: 'Thanks for your help!', updatedAt: new Date(Date.now() - 5*60*1000), messages: [\n      { id: 1, message: 'Hi, I need help with my account', isOwn: false, createdAt: new Date(Date.now() - 30*60*1000) },\n      { id: 2, message: 'Sure, what seems to be the issue?', isOwn: true, createdAt: new Date(Date.now() - 28*60*1000) },\n      { id: 3, message: 'I cannot reset my password', isOwn: false, createdAt: new Date(Date.now() - 25*60*1000) },\n      { id: 4, message: 'Let me help you with that. Check your email for reset link', isOwn: true, createdAt: new Date(Date.now() - 20*60*1000) },\n      { id: 5, message: 'Thanks for your help!', isOwn: false, createdAt: new Date(Date.now() - 5*60*1000) }\n    ]},\n    { id: 2, name: 'Mike Chen', status: 'online', avatar: 'MC', lastMessage: 'When will the feature be available?', updatedAt: new Date(Date.now() - 15*60*1000), messages: [\n      { id: 1, message: 'Hi, do you have any updates on the new feature?', isOwn: false, createdAt: new Date(Date.now() - 45*60*1000) },\n      { id: 2, message: 'Yes, we are working on it', isOwn: true, createdAt: new Date(Date.now() - 40*60*1000) },\n      { id: 3, message: 'When will the feature be available?', isOwn: false, createdAt: new Date(Date.now() - 15*60*1000) }\n    ]}\n  ];\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const handleSelectConversation = (conversation) => {\n    setSelectedConversation(conversation);\n    setMessages(conversation.messages);\n  };\n\n  const handleSendMessage = () => {\n    if (!messageText.trim() || !selectedConversation) return;\n    const newMessage = { id: messages.length + 1, message: messageText, isOwn: true, createdAt: new Date() };\n    setMessages([...messages, newMessage]);\n    setMessageText('');\n  };\n\n  return (\n    <div className={`h-screen flex ${isDarkMode ? 'bg-slate-950' : 'bg-gradient-to-br from-slate-50 to-slate-100'}`}>\n      {/* Sidebar */}\n      <div className={`w-80 ${isDarkMode ? 'bg-slate-900/50 border-slate-800' : 'bg-white/80 border-slate-200'} border-r backdrop-blur-xl flex flex-col`}>\n        {/* Header */}\n        <div className={`p-6 border-b ${isDarkMode ? 'border-slate-800 bg-gradient-to-r from-blue-900/20 to-slate-900' : 'border-slate-200 bg-gradient-to-r from-blue-50 to-white'}`}>\n          <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'} mb-4`}>Live Chat</h1>\n          <div className=\"relative\">\n            <Search className={`absolute left-3 top-3 w-5 h-5 ${isDarkMode ? 'text-slate-500' : 'text-slate-400'}`} />\n            <input\n              type=\"text\"\n              placeholder=\"Search conversations...\"\n              className={`w-full pl-10 pr-4 py-2 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-slate-800 text-white placeholder-slate-500' : 'bg-slate-100 text-slate-900 placeholder-slate-400'}`}\n            />\n          </div>\n        </div>\n\n        {/* Conversations List */}\n        <div className=\"flex-1 overflow-y-auto space-y-2 p-3\">\n          {mockConversations.map((conv) => (\n            <div\n              key={conv.id}\n              onClick={() => handleSelectConversation(conv)}\n              className={`p-4 rounded-xl cursor-pointer transition-all ${\n                selectedConversation?.id === conv.id\n                  ? isDarkMode ? 'bg-blue-900/30 border-blue-700' : 'bg-blue-50 border-blue-300'\n                  : isDarkMode ? 'hover:bg-slate-800/50' : 'hover:bg-slate-50'\n              } border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}`}\n            >\n              <div className=\"flex items-center gap-3\">\n                <div className={`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-sm relative ${isDarkMode ? 'bg-gradient-to-br from-blue-600 to-blue-700' : 'bg-gradient-to-br from-blue-500 to-blue-600'}`}>\n                  {conv.avatar}\n                  <div className=\"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"></div>\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <p className={`font-semibold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{conv.name}</p>\n                  <p className={`text-sm truncate ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{conv.lastMessage}</p>\n                </div>\n                <p className={`text-xs whitespace-nowrap ${isDarkMode ? 'text-slate-500' : 'text-slate-500'}`}>\n                  {new Date(conv.updatedAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                </p>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Chat Area */}\n      <div className=\"flex-1 flex flex-col\">\n        {selectedConversation ? (\n          <>\n            {/* Chat Header */}\n            <div className={`p-6 border-b ${isDarkMode ? 'border-slate-800 bg-slate-900/50' : 'border-slate-200 bg-white/40'} backdrop-blur-xl flex items-center justify-between`}>\n              <div className=\"flex items-center gap-4\">\n                <div className={`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-sm relative ${isDarkMode ? 'bg-gradient-to-br from-blue-600 to-blue-700' : 'bg-gradient-to-br from-blue-500 to-blue-600'}`}>\n                  {selectedConversation.avatar}\n                  <div className=\"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"></div>\n                </div>\n                <div>\n                  <p className={`font-semibold text-lg ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedConversation.name}</p>\n                  <p className={`text-sm flex items-center gap-1 ${isDarkMode ? 'text-green-400' : 'text-green-600'}`}>\n                    <span className=\"w-2 h-2 bg-green-500 rounded-full\"></span> Active now\n                  </p>\n                </div>\n              </div>\n              <div className=\"flex gap-2\">\n                <button className={`p-2 rounded-full transition-colors ${isDarkMode ? 'hover:bg-slate-800' : 'hover:bg-slate-100'}`}>\n                  <Phone className={`w-5 h-5 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`} />\n                </button>\n                <button className={`p-2 rounded-full transition-colors ${isDarkMode ? 'hover:bg-slate-800' : 'hover:bg-slate-100'}`}>\n                  <Video className={`w-5 h-5 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`} />\n                </button>\n                <button className={`p-2 rounded-full transition-colors ${isDarkMode ? 'hover:bg-slate-800' : 'hover:bg-slate-100'}`}>\n                  <MoreVertical className={`w-5 h-5 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`} />\n                </button>\n              </div>\n            </div>\n\n            {/* Messages */}\n            <div className={`flex-1 overflow-y-auto p-6 space-y-4 ${isDarkMode ? 'bg-slate-950' : 'bg-gradient-to-br from-slate-50 to-slate-100'}`}>\n              {messages.map((msg) => (\n                <div key={msg.id} className={`flex ${msg.isOwn ? 'justify-end' : 'justify-start'}`}>\n                  <div className={`max-w-xs px-5 py-3 rounded-2xl shadow-sm ${\n                    msg.isOwn\n                      ? isDarkMode ? 'bg-gradient-to-r from-blue-600 to-blue-700 text-white' : 'bg-gradient-to-r from-blue-500 to-blue-600 text-white'\n                      : isDarkMode ? 'bg-slate-800 text-slate-100' : 'bg-white text-slate-900 border border-slate-200'\n                  }`}>\n                    <p className=\"break-words\">{msg.message}</p>\n                    <p className={`text-xs mt-2 ${msg.isOwn ? 'text-blue-100' : isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n                      {new Date(msg.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                    </p>\n                  </div>\n                </div>\n              ))}\n              <div ref={messagesEndRef} />\n            </div>\n\n            {/* Message Input */}\n            <div className={`p-6 border-t ${isDarkMode ? 'border-slate-800 bg-slate-900/50' : 'border-slate-200 bg-white/40'} backdrop-blur-xl`}>\n              <div className=\"flex items-center gap-3\">\n                <button className={`p-2 rounded-full transition-colors ${isDarkMode ? 'hover:bg-slate-800 text-blue-400' : 'hover:bg-slate-100 text-blue-500'}`}>\n                  <Paperclip className=\"w-5 h-5\" />\n                </button>\n                <input\n                  type=\"text\"\n                  value={messageText}\n                  onChange={(e) => setMessageText(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n                  placeholder=\"Type a message...\"\n                  className={`flex-1 px-4 py-3 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-slate-800 text-white placeholder-slate-500' : 'bg-white text-slate-900 placeholder-slate-400 border border-slate-200'}`}\n                />\n                <button className={`p-2 rounded-full transition-colors ${isDarkMode ? 'hover:bg-slate-800 text-slate-400' : 'hover:bg-slate-100 text-slate-600'}`}>\n                  <Smile className=\"w-5 h-5\" />\n                </button>\n                <button\n                  onClick={handleSendMessage}\n                  disabled={!messageText.trim()}\n                  className={`p-2 rounded-full transition-colors ${messageText.trim() ? (isDarkMode ? 'text-blue-400 hover:bg-slate-800' : 'text-blue-500 hover:bg-slate-100') : (isDarkMode ? 'text-slate-600' : 'text-slate-400')}`}\n                >\n                  <Send className=\"w-5 h-5\" />\n                </button>\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className=\"flex-1 flex items-center justify-center\">\n            <div className=\"text-center\">\n              <div className={`w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 ${isDarkMode ? 'bg-slate-800/50' : 'bg-white/50'} backdrop-blur-xl`}>\n                <MessageCircle className={`w-12 h-12 ${isDarkMode ? 'text-slate-600' : 'text-slate-400'}`} />\n              </div>\n              <p className={`text-xl font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Select a conversation</p>\n              <p className={`text-sm mt-2 ${isDarkMode ? 'text-slate-500' : 'text-slate-600'}`}>Choose a user to start chatting</p>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SupportChat;\n","import React, { useState } from 'react';\nimport { Search, BookOpen, Eye, Plus, X, ArrowRight } from 'lucide-react';\nimport Alert from '../../components/common/UI/Alert';\nimport { useTheme } from '../../contexts/ThemeContext';\n\nconst SupportKB = () => {\n  const { isDarkMode } = useTheme();\n  const [search, setSearch] = useState('');\n  const [category, setCategory] = useState('');\n  const [selectedArticle, setSelectedArticle] = useState(null);\n  const [showDetail, setShowDetail] = useState(false);\n  const [showNewArticle, setShowNewArticle] = useState(false);\n  const [newArticle, setNewArticle] = useState({ title: '', category: '', content: '' });\n\n  const mockArticles = [\n    { id: 1, title: 'How to Reset Your Password', category: 'Account', description: 'Step-by-step guide to reset your password', content: 'To reset your password: 1. Click on Forgot Password 2. Enter your email 3. Check your email for reset link 4. Follow the link and create new password', views: 1250, updatedAt: new Date(Date.now() - 2*24*60*60*1000) },\n    { id: 2, title: 'Getting Started with the Platform', category: 'Getting Started', description: 'Learn the basics of using our platform', content: 'Welcome to our platform! Here are the basic steps to get started...', views: 2340, updatedAt: new Date(Date.now() - 5*24*60*60*1000) },\n    { id: 3, title: 'Payment Methods Explained', category: 'Payments', description: 'Understanding different payment options', content: 'We support multiple payment methods including credit cards, bank transfers, and digital wallets...', views: 1890, updatedAt: new Date(Date.now() - 1*24*60*60*1000) },\n    { id: 4, title: 'Troubleshooting Login Issues', category: 'Support', description: 'Common login problems and solutions', content: 'If you cannot login, try these solutions...', views: 3120, updatedAt: new Date(Date.now() - 3*24*60*60*1000) },\n    { id: 5, title: 'Profile Settings Guide', category: 'Account', description: 'Manage your profile and preferences', content: 'Access your profile settings to update personal information...', views: 980, updatedAt: new Date(Date.now() - 7*24*60*60*1000) },\n    { id: 6, title: 'Security Best Practices', category: 'Security', description: 'Keep your account secure', content: 'Follow these security tips to protect your account...', views: 2150, updatedAt: new Date(Date.now() - 10*24*60*60*1000) }\n  ];\n\n  const categories = ['Account', 'Getting Started', 'Payments', 'Support', 'Security'];\n\n  const filteredArticles = mockArticles.filter(article =>\n    (!search || article.title.toLowerCase().includes(search.toLowerCase())) &&\n    (!category || article.category === category)\n  );\n\n  const handleNewArticle = () => {\n    if (newArticle.title && newArticle.category && newArticle.content) {\n      setShowNewArticle(false);\n      setNewArticle({ title: '', category: '', content: '' });\n    }\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-950' : 'bg-gradient-to-br from-slate-50 to-slate-100'}`}>\n      {/* Header */}\n      <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-900/50' : 'border-slate-200 bg-white/40'} backdrop-blur-xl sticky top-0 z-10`}>\n        <div className=\"max-w-7xl mx-auto px-6 py-8\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className={`text-4xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Knowledge Base</h1>\n              <p className={`text-sm mt-2 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Help articles and documentation</p>\n            </div>\n            <button\n              onClick={() => setShowNewArticle(true)}\n              className=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition flex items-center gap-2 font-semibold shadow-lg hover:shadow-xl\"\n            >\n              <Plus className=\"w-5 h-5\" /> New Article\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Search and Filter */}\n        <div className={`${isDarkMode ? 'bg-slate-900/50 border-slate-800' : 'bg-white/80 border-slate-200'} border rounded-xl shadow-lg p-6 mb-8 backdrop-blur-xl`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className={`block text-sm font-semibold mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Search Articles</label>\n              <div className=\"relative\">\n                <Search className={`absolute left-3 top-3 w-5 h-5 ${isDarkMode ? 'text-slate-500' : 'text-slate-400'}`} />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search...\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  className={`w-full pl-10 pr-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500' : 'bg-white border-slate-300 text-slate-900 placeholder-slate-400'}`}\n                />\n              </div>\n            </div>\n            <div>\n              <label className={`block text-sm font-semibold mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Category</label>\n              <select\n                value={category}\n                onChange={(e) => setCategory(e.target.value)}\n                className={`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-white border-slate-300 text-slate-900'}`}\n              >\n                <option value=\"\">All Categories</option>\n                {categories.map((cat) => (\n                  <option key={cat} value={cat}>{cat}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"flex items-end\">\n              <div className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n                {filteredArticles.length} articles found\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Articles Grid */}\n        {filteredArticles.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredArticles.map((article) => (\n              <div\n                key={article.id}\n                className={`${isDarkMode ? 'bg-slate-900/50 border-slate-800 hover:border-blue-700/50' : 'bg-white/80 border-slate-200 hover:border-blue-300'} border rounded-xl shadow-lg hover:shadow-xl transition-all p-6 backdrop-blur-xl group`}\n              >\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className={`p-3 rounded-lg ${isDarkMode ? 'bg-blue-900/30' : 'bg-blue-50'}`}>\n                    <BookOpen className=\"w-6 h-6 text-blue-600\" />\n                  </div>\n                  <span className={`text-xs px-3 py-1 rounded-full font-semibold ${isDarkMode ? 'bg-slate-800 text-slate-300' : 'bg-slate-100 text-slate-700'}`}>\n                    {article.category}\n                  </span>\n                </div>\n                <h3 className={`text-lg font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'} mb-2 group-hover:text-blue-600 transition`}>{article.title}</h3>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'} mb-4 line-clamp-2`}>{article.description}</p>\n                <div className=\"flex items-center justify-between pt-4 border-t\" style={{borderColor: isDarkMode ? '#334155' : '#e2e8f0'}}>\n                  <span className={`text-xs ${isDarkMode ? 'text-slate-500' : 'text-slate-500'}`}>{article.views.toLocaleString()} views</span>\n                  <button\n                    onClick={() => { setSelectedArticle(article); setShowDetail(true); }}\n                    className={`p-2 rounded-lg transition ${isDarkMode ? 'hover:bg-slate-800 text-blue-400' : 'hover:bg-slate-100 text-blue-600'}`}\n                  >\n                    <ArrowRight className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className={`${isDarkMode ? 'bg-slate-900/50 border-slate-800' : 'bg-white/80 border-slate-200'} border rounded-xl shadow-lg p-12 text-center backdrop-blur-xl`}>\n            <BookOpen className={`w-16 h-16 mx-auto mb-4 ${isDarkMode ? 'text-slate-600' : 'text-slate-400'}`} />\n            <p className={`text-lg font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>No articles found</p>\n            <p className={`text-sm mt-2 ${isDarkMode ? 'text-slate-500' : 'text-slate-600'}`}>Try adjusting your search or filters</p>\n          </div>\n        )}\n      </div>\n\n      {/* Article Detail Modal */}\n      {showDetail && selectedArticle && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className={`${isDarkMode ? 'bg-slate-900' : 'bg-white'} rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto`}>\n            <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-800/50' : 'border-slate-200 bg-slate-50'} p-6 flex items-center justify-between sticky top-0`}>\n              <h2 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{selectedArticle.title}</h2>\n              <button onClick={() => setShowDetail(false)} className={`p-2 rounded-lg transition ${isDarkMode ? 'hover:bg-slate-700' : 'hover:bg-slate-100'}`}>\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n            <div className=\"p-6 space-y-4\">\n              <div>\n                <p className={`text-sm font-semibold ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Category</p>\n                <p className={`mt-1 px-3 py-1 rounded-full inline-block text-sm font-semibold ${isDarkMode ? 'bg-blue-900/30 text-blue-400' : 'bg-blue-50 text-blue-700'}`}>{selectedArticle.category}</p>\n              </div>\n              <div>\n                <p className={`text-sm font-semibold ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Content</p>\n                <p className={`mt-2 p-4 rounded-lg ${isDarkMode ? 'bg-slate-800 text-slate-200' : 'bg-slate-50 text-slate-900'}`}>\n                  {selectedArticle.content}\n                </p>\n              </div>\n              <div className=\"flex justify-between text-sm pt-4 border-t\" style={{borderColor: isDarkMode ? '#334155' : '#e2e8f0'}}>\n                <span className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>{selectedArticle.views.toLocaleString()} views</span>\n                <span className={isDarkMode ? 'text-slate-400' : 'text-slate-600'}>Updated: {new Date(selectedArticle.updatedAt).toLocaleDateString()}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* New Article Modal */}\n      {showNewArticle && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className={`${isDarkMode ? 'bg-slate-900' : 'bg-white'} rounded-2xl shadow-2xl max-w-2xl w-full`}>\n            <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-gradient-to-r from-blue-900/20 to-slate-900' : 'border-slate-200 bg-gradient-to-r from-blue-50 to-white'} p-6 flex items-center justify-between`}>\n              <h2 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Create New Article</h2>\n              <button onClick={() => setShowNewArticle(false)} className={`p-2 rounded-lg transition ${isDarkMode ? 'hover:bg-slate-700' : 'hover:bg-slate-100'}`}>\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n            <div className=\"p-6 space-y-4\">\n              <div>\n                <label className={`block text-sm font-semibold mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Title</label>\n                <input\n                  type=\"text\"\n                  value={newArticle.title}\n                  onChange={(e) => setNewArticle({...newArticle, title: e.target.value})}\n                  placeholder=\"Article title...\"\n                  className={`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500' : 'bg-white border-slate-300 text-slate-900 placeholder-slate-400'}`}\n                />\n              </div>\n              <div>\n                <label className={`block text-sm font-semibold mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Category</label>\n                <select\n                  value={newArticle.category}\n                  onChange={(e) => setNewArticle({...newArticle, category: e.target.value})}\n                  className={`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white' : 'bg-white border-slate-300 text-slate-900'}`}\n                >\n                  <option value=\"\">Select category...</option>\n                  {categories.map((cat) => (\n                    <option key={cat} value={cat}>{cat}</option>\n                  ))}\n                </select>\n              </div>\n              <div>\n                <label className={`block text-sm font-semibold mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Content</label>\n                <textarea\n                  value={newArticle.content}\n                  onChange={(e) => setNewArticle({...newArticle, content: e.target.value})}\n                  placeholder=\"Article content...\"\n                  rows=\"6\"\n                  className={`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-500' : 'bg-white border-slate-300 text-slate-900 placeholder-slate-400'}`}\n                />\n              </div>\n              <div className=\"flex gap-3 justify-end pt-4 border-t\" style={{borderColor: isDarkMode ? '#334155' : '#e2e8f0'}}>\n                <button\n                  onClick={() => setShowNewArticle(false)}\n                  className={`px-4 py-2 rounded-lg font-semibold transition ${isDarkMode ? 'bg-slate-800 text-white hover:bg-slate-700' : 'bg-slate-200 text-slate-900 hover:bg-slate-300'}`}\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleNewArticle}\n                  disabled={!newArticle.title || !newArticle.category || !newArticle.content}\n                  className=\"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-blue-800 transition disabled:opacity-50\"\n                >\n                  Create Article\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SupportKB;\n","import React, { useState, useEffect } from 'react';\nimport { AlertCircle, Search, Plus, Eye, Trash2, TrendingUp } from 'lucide-react';\nimport Button from '../../components/common/UI/Button';\nimport Modal from '../../components/common/UI/Modal';\nimport Select from '../../components/common/UI/Select';\nimport Alert from '../../components/common/UI/Alert';\nimport Loader from '../../components/common/UI/Loader';\nimport { useTheme } from '../../contexts/ThemeContext';\n\nconst SupportIssues = () => {\n  const { isDarkMode } = useTheme();\n  const [issues, setIssues] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [search, setSearch] = useState('');\n  const [severity, setSeverity] = useState('');\n  const [status, setStatus] = useState('');\n  const [selectedIssue, setSelectedIssue] = useState(null);\n  const [showDetail, setShowDetail] = useState(false);\n  const [stats, setStats] = useState({ total: 0, critical: 0, high: 0, medium: 0, low: 0 });\n\n  const bgClass = isDarkMode ? 'bg-gray-900' : 'bg-gray-50';\n  const cardClass = isDarkMode ? 'bg-gray-800' : 'bg-white';\n  const textClass = isDarkMode ? 'text-gray-100' : 'text-gray-900';\n  const textSecondaryClass = isDarkMode ? 'text-gray-400' : 'text-gray-600';\n  const borderClass = isDarkMode ? 'border-gray-700' : 'border-gray-200';\n\n  useEffect(() => {\n    fetchIssues();\n  }, [search, severity, status]);\n\n  const fetchIssues = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ ...(search && { search }), ...(severity && { severity }), ...(status && { status }) });\n      \n      const response = await fetch(`/api/support/issues?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch issues');\n      const data = await response.json();\n      setIssues(data.data || []);\n      setStats(data.stats || {});\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getSeverityColor = (sev) => {\n    const colors = { critical: 'red', high: 'orange', medium: 'yellow', low: 'blue' };\n    return colors[sev] || 'gray';\n  };\n\n  return (\n    <div className={`min-h-screen ${bgClass} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <h1 className={`text-3xl font-bold ${textClass}`}>Support Issues</h1>\n            <p className={`${textSecondaryClass}`}>Track and manage system issues</p>\n          </div>\n          <Button className=\"flex items-center gap-2\">\n            <Plus className=\"w-4 h-4\" />\n            Report Issue\n          </Button>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8\">\n          {[\n            { label: 'Total', value: stats.total, icon: AlertCircle },\n            { label: 'Critical', value: stats.critical, icon: AlertCircle },\n            { label: 'High', value: stats.high, icon: TrendingUp },\n            { label: 'Medium', value: stats.medium, icon: AlertCircle },\n            { label: 'Low', value: stats.low, icon: AlertCircle }\n          ].map((stat, idx) => {\n            const Icon = stat.icon;\n            return (\n              <div key={idx} className={`${cardClass} p-4 rounded-lg shadow`}>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className={`text-sm ${textSecondaryClass}`}>{stat.label}</p>\n                    <p className={`text-2xl font-bold ${textClass}`}>{stat.value}</p>\n                  </div>\n                  <Icon className=\"w-8 h-8 opacity-50\" />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        {/* Filters */}\n        <div className={`${cardClass} rounded-lg shadow p-6 mb-6`}>\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${textClass}`}>Search</label>\n              <input\n                type=\"text\"\n                placeholder=\"Search issues...\"\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                className={`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${borderClass} ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-white'}`}\n              />\n            </div>\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${textClass}`}>Severity</label>\n              <Select\n                value={severity}\n                onChange={(e) => setSeverity(e.target.value)}\n                options={[\n                  { value: '', label: 'All Severity' },\n                  { value: 'critical', label: 'Critical' },\n                  { value: 'high', label: 'High' },\n                  { value: 'medium', label: 'Medium' },\n                  { value: 'low', label: 'Low' }\n                ]}\n              />\n            </div>\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${textClass}`}>Status</label>\n              <Select\n                value={status}\n                onChange={(e) => setStatus(e.target.value)}\n                options={[\n                  { value: '', label: 'All Status' },\n                  { value: 'open', label: 'Open' },\n                  { value: 'investigating', label: 'Investigating' },\n                  { value: 'resolved', label: 'Resolved' }\n                ]}\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Issues Table */}\n        {loading ? (\n          <Loader />\n        ) : issues.length > 0 ? (\n          <div className={`${cardClass} rounded-lg shadow overflow-hidden`}>\n            <table className=\"w-full\">\n              <thead className={isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}>\n                <tr>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Title</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Severity</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Status</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Reported</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${textClass}`}>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {issues.map((issue, idx) => (\n                  <tr key={issue.id} className={idx % 2 === 0 ? '' : isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}>\n                    <td className={`px-6 py-4 text-sm ${textClass}`}>{issue.title}</td>\n                    <td className=\"px-6 py-4\">\n                      <span className={`px-3 py-1 rounded-full text-sm font-medium bg-${getSeverityColor(issue.severity)}-100 text-${getSeverityColor(issue.severity)}-800`}>\n                        {issue.severity?.charAt(0).toUpperCase() + issue.severity?.slice(1)}\n                      </span>\n                    </td>\n                    <td className={`px-6 py-4 text-sm ${textClass}`}>{issue.status}</td>\n                    <td className={`px-6 py-4 text-sm ${textClass}`}>{new Date(issue.createdAt).toLocaleDateString()}</td>\n                    <td className=\"px-6 py-4\">\n                      <button\n                        onClick={() => { setSelectedIssue(issue); setShowDetail(true); }}\n                        className={`p-2 rounded ${isDarkMode ? 'hover:bg-gray-600' : 'hover:bg-gray-100'}`}\n                      >\n                        <Eye className=\"w-4 h-4 text-blue-600\" />\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        ) : (\n          <div className={`${cardClass} rounded-lg shadow p-12 text-center`}>\n            <AlertCircle className={`w-12 h-12 ${textSecondaryClass} mx-auto mb-4`} />\n            <p className={textSecondaryClass}>No issues found</p>\n          </div>\n        )}\n      </div>\n\n      {/* Issue Detail Modal */}\n      <Modal isOpen={showDetail} onClose={() => setShowDetail(false)} title=\"Issue Details\">\n        {selectedIssue && (\n          <div className=\"space-y-4\">\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Title</p>\n              <p className={`font-medium ${textClass}`}>{selectedIssue.title}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${textSecondaryClass}`}>Description</p>\n              <p className={`${textClass} ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'} p-3 rounded mt-1`}>\n                {selectedIssue.description}\n              </p>\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <p className={`text-sm ${textSecondaryClass}`}>Severity</p>\n                <p className={`font-medium ${textClass}`}>{selectedIssue.severity}</p>\n              </div>\n              <div>\n                <p className={`text-sm ${textSecondaryClass}`}>Status</p>\n                <p className={`font-medium ${textClass}`}>{selectedIssue.status}</p>\n              </div>\n            </div>\n          </div>\n        )}\n      </Modal>\n    </div>\n  );\n};\n\nexport default SupportIssues;\n","import React, { useState, useEffect } from 'react';\nimport { BarChart3, TrendingUp, Users, Clock, CheckCircle, AlertCircle } from 'lucide-react';\nimport Alert from '../../components/common/UI/Alert';\nimport Loader from '../../components/common/UI/Loader';\nimport { useTheme } from '../../contexts/ThemeContext';\n\nconst SupportReports = () => {\n  const { isDarkMode } = useTheme();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [stats, setStats] = useState({\n    totalTickets: 0,\n    avgResolutionTime: 0,\n    satisfactionRate: 0,\n    activeAgents: 0,\n    openTickets: 0,\n    resolvedTickets: 0\n  });\n  const [dateRange, setDateRange] = useState('month');\n\n  const bgClass = isDarkMode ? 'bg-gray-900' : 'bg-gray-50';\n  const cardClass = isDarkMode ? 'bg-gray-800' : 'bg-white';\n  const textClass = isDarkMode ? 'text-gray-100' : 'text-gray-900';\n  const textSecondaryClass = isDarkMode ? 'text-gray-400' : 'text-gray-600';\n\n  useEffect(() => {\n    fetchReportData();\n  }, [dateRange]);\n\n  const fetchReportData = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      const response = await fetch(`/api/support/reports?period=${dateRange}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch reports');\n      const data = await response.json();\n      setStats(data.data || {});\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const StatCard = ({ label, value, icon: Icon, color }) => (\n    <div className={`${cardClass} p-6 rounded-lg shadow`}>\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <p className={`text-sm ${textSecondaryClass}`}>{label}</p>\n          <p className={`text-3xl font-bold ${textClass} mt-2`}>{value}</p>\n        </div>\n        <Icon className={`w-12 h-12 text-${color}-500 opacity-50`} />\n      </div>\n    </div>\n  );\n\n  if (loading) {\n    return (\n      <div className={`min-h-screen ${bgClass} p-6`}>\n        <div className=\"max-w-7xl mx-auto\">\n          <Loader />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`min-h-screen ${bgClass} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <h1 className={`text-3xl font-bold ${textClass}`}>Support Reports</h1>\n            <p className={`${textSecondaryClass}`}>Analytics and performance metrics</p>\n          </div>\n          <select \n            value={dateRange} \n            onChange={(e) => setDateRange(e.target.value)}\n            className={`px-4 py-2 rounded-lg border font-semibold ${isDarkMode ? 'bg-gray-800 text-white border-gray-700' : 'bg-white text-gray-900 border-gray-200'}`}\n          >\n            <option value=\"week\">This Week</option>\n            <option value=\"month\">This Month</option>\n            <option value=\"quarter\">This Quarter</option>\n            <option value=\"year\">This Year</option>\n          </select>\n        </div>\n\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        {/* Key Metrics */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          <StatCard label=\"Total Tickets\" value={stats.totalTickets} icon={BarChart3} color=\"blue\" />\n          <StatCard label=\"Avg Resolution Time\" value={`${stats.avgResolutionTime}h`} icon={Clock} color=\"orange\" />\n          <StatCard label=\"Satisfaction Rate\" value={`${stats.satisfactionRate}%`} icon={TrendingUp} color=\"green\" />\n        </div>\n\n        {/* Status Overview */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          <StatCard label=\"Active Agents\" value={stats.activeAgents} icon={Users} color=\"purple\" />\n          <StatCard label=\"Open Tickets\" value={stats.openTickets} icon={AlertCircle} color=\"red\" />\n          <StatCard label=\"Resolved Tickets\" value={stats.resolvedTickets} icon={CheckCircle} color=\"green\" />\n        </div>\n\n        {/* Performance Chart */}\n        <div className={`${cardClass} rounded-lg shadow p-6`}>\n          <h2 className={`text-xl font-bold ${textClass} mb-6`}>Performance Overview</h2>\n          <div className=\"space-y-6\">\n            <div>\n              <div className=\"flex justify-between mb-2\">\n                <span className={textSecondaryClass}>Ticket Resolution Rate</span>\n                <span className={`font-bold ${textClass}`}>{stats.satisfactionRate}%</span>\n              </div>\n              <div className={`w-full h-3 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`}>\n                <div \n                  className=\"bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full\" \n                  style={{ width: `${stats.satisfactionRate}%` }}\n                ></div>\n              </div>\n            </div>\n\n            <div>\n              <div className=\"flex justify-between mb-2\">\n                <span className={textSecondaryClass}>Agent Utilization</span>\n                <span className={`font-bold ${textClass}`}>75%</span>\n              </div>\n              <div className={`w-full h-3 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`}>\n                <div \n                  className=\"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full\" \n                  style={{ width: '75%' }}\n                ></div>\n              </div>\n            </div>\n\n            <div>\n              <div className=\"flex justify-between mb-2\">\n                <span className={textSecondaryClass}>First Response Time</span>\n                <span className={`font-bold ${textClass}`}>2.5 hours</span>\n              </div>\n              <div className={`w-full h-3 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`}>\n                <div \n                  className=\"bg-gradient-to-r from-orange-500 to-orange-600 h-3 rounded-full\" \n                  style={{ width: '60%' }}\n                ></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SupportReports;\n","import React, { useState, useEffect } from 'react';\nimport { Search, Plus, MoreVertical, Phone, Mail, Star, X, Loader } from 'lucide-react';\nimport Alert from '../../../components/common/UI/Alert';\nimport { useTheme } from '../../../contexts/ThemeContext';\n\nconst mockDrivers = [\n  { id: 1, name: 'James Kipchoge', email: 'james.kipchoge@example.com', phone: '+254-722-123456', license_number: 'DL/KE/001', status: 'active', rating: 4.8 },\n  { id: 2, name: 'Mary Wanjiru', email: 'mary.wanjiru@example.com', phone: '+254-733-234567', license_number: 'DL/KE/002', status: 'active', rating: 4.9 }\n];\n\nconst Drivers = () => {\n  const { isDarkMode } = useTheme();\n  const [drivers, setDrivers] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [search, setSearch] = useState('');\n  const [status, setStatus] = useState('');\n  const [selectedDriver, setSelectedDriver] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    license_number: '',\n    license_expiry: '',\n    vehicle_type: '',\n    vehicle_number: '',\n    insurance_number: '',\n    address: '',\n    status: 'active'\n  });\n\n  useEffect(() => {\n    fetchDrivers();\n  }, [search, status]);\n\n  const fetchDrivers = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ limit: 50, ...(search && { search }), ...(status && { status }) });\n      \n      const response = await fetch(`/api/transportation/drivers?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch drivers');\n      const data = await response.json();\n      setDrivers(data.data || []);\n    } catch (err) {\n      setDrivers(mockDrivers);\n      setStats({ total: 2, active: 2, on_trip: 0, avg_rating: 4.85 });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddDriver = async () => {\n    if (!formData.name || !formData.email || !formData.phone || !formData.license_number || !formData.vehicle_type || !formData.vehicle_number) {\n      setError('Please fill all required fields');\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/transportation/drivers', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n\n      if (!response.ok) throw new Error('Failed to add driver');\n      setFormData({\n        name: '',\n        email: '',\n        phone: '',\n        license_number: '',\n        license_expiry: '',\n        vehicle_type: '',\n        vehicle_number: '',\n        insurance_number: '',\n        address: '',\n        status: 'active'\n      });\n      setShowAddForm(false);\n      fetchDrivers();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleViewDriver = (driver) => {\n    setSelectedDriver(driver);\n    setShowModal(true);\n  };\n\n  const getStatusColor = (status) => {\n    const colors = {\n      active: 'bg-green-100 text-green-800',\n      inactive: 'bg-gray-100 text-gray-800',\n      on_trip: 'bg-blue-100 text-blue-800'\n    };\n    return colors[status] || 'bg-gray-100 text-gray-800';\n  };\n\n  const filteredDrivers = drivers.filter(d => {\n    const matchSearch = d.name.toLowerCase().includes(search.toLowerCase()) || d.email.toLowerCase().includes(search.toLowerCase());\n    const matchStatus = !status || d.status === status;\n    return matchSearch && matchStatus;\n  });\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        {/* Header */}\n        <div className=\"flex justify-between items-center mb-8\">\n          <div>\n            <h1 className={`text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Drivers</h1>\n            <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Manage your transportation drivers</p>\n          </div>\n          <button\n            onClick={() => setShowAddForm(true)}\n            className=\"bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-4 py-2 rounded-lg flex items-center gap-2 font-semibold transition-all\"\n          >\n            <Plus className=\"w-5 h-5\" /> Add Driver\n          </button>\n        </div>\n\n        {/* Stats */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Total Drivers</p>\n              <p className={`text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{stats.total}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Active</p>\n              <p className=\"text-3xl font-bold text-green-600\">{stats.active}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>On Trip</p>\n              <p className=\"text-3xl font-bold text-blue-600\">{stats.on_trip}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Avg Rating</p>\n              <p className=\"text-3xl font-bold text-yellow-600\">{stats.avg_rating?.toFixed(1) || 'N/A'}</p>\n            </div>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-4 rounded-xl shadow mb-6 flex gap-4 border`}>\n          <div className=\"flex-1 relative\">\n            <Search className={`absolute left-3 top-3 w-5 h-5 ${isDarkMode ? 'text-slate-500' : 'text-gray-400'}`} />\n            <input\n              type=\"text\"\n              placeholder=\"Search drivers...\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              className={`w-full pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100'}`}\n            />\n          </div>\n          <select\n            value={status}\n            onChange={(e) => setStatus(e.target.value)}\n            className={`px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100'}`}\n          >\n            <option value=\"\">All Status</option>\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n            <option value=\"on_trip\">On Trip</option>\n          </select>\n        </div>\n\n        {/* Drivers Grid */}\n        {loading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <Loader className=\"w-8 h-8 animate-spin text-orange-600\" />\n          </div>\n        ) : filteredDrivers.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredDrivers.map((driver) => (\n              <div\n                key={driver.id}\n                className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} rounded-xl shadow border p-6 hover:shadow-lg transition-all`}\n              >\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"w-12 h-12 rounded-full bg-gradient-to-r from-orange-600 to-orange-700 flex items-center justify-center text-white font-bold\">\n                      {driver.name?.charAt(0)}\n                    </div>\n                    <div>\n                      <p className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{driver.name}</p>\n                      <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{driver.license_number}</p>\n                    </div>\n                  </div>\n                  <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(driver.status)}`}>\n                    {driver.status}\n                  </span>\n                </div>\n\n                <div className=\"space-y-2 mb-4\">\n                  <p className={`flex items-center gap-2 text-sm ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>\n                    <Phone className=\"w-4 h-4 text-orange-600\" /> {driver.phone}\n                  </p>\n                  <p className={`flex items-center gap-2 text-sm ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>\n                    <Mail className=\"w-4 h-4 text-orange-600\" /> {driver.email}\n                  </p>\n                  <p className={`flex items-center gap-2 text-sm ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>\n                    <Star className=\"w-4 h-4 text-yellow-500 fill-yellow-500\" /> {driver.rating?.toFixed(1) || 'N/A'}\n                  </p>\n                </div>\n\n                <button\n                  onClick={() => handleViewDriver(driver)}\n                  className=\"w-full px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white font-semibold hover:from-orange-700 hover:to-orange-800 transition-all\"\n                >\n                  View Details\n                </button>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className={`${isDarkMode ? 'bg-slate-800' : 'bg-white'} rounded-xl p-12 text-center`}>\n            <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>No drivers found</p>\n          </div>\n        )}\n\n        {/* Add Driver Modal */}\n        {showAddForm && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-gradient-to-br from-slate-900 to-slate-950 rounded-2xl shadow-2xl max-w-md w-full border border-slate-800\">\n              {/* Header */}\n              <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4 rounded-t-2xl flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold text-white\">Add New Driver</h2>\n                <button\n                  onClick={() => setShowAddForm(false)}\n                  className=\"text-orange-200 hover:text-white transition-colors\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              {/* Form */}\n              <div className=\"p-6 space-y-4 max-h-96 overflow-y-auto\">\n                {/* Personal Info */}\n                <div className=\"border-b border-slate-700 pb-4\">\n                  <p className=\"text-xs font-bold text-orange-400 uppercase mb-3\">Personal Information</p>\n                  <div className=\"space-y-3\">\n                    <div>\n                      <label className=\"block text-xs font-semibold text-orange-400 mb-1\">Full Name *</label>\n                      <input\n                        type=\"text\"\n                        value={formData.name}\n                        onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                        placeholder=\"John Smith\"\n                        className=\"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-semibold text-orange-400 mb-1\">Email *</label>\n                      <input\n                        type=\"email\"\n                        value={formData.email}\n                        onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                        placeholder=\"john@example.com\"\n                        className=\"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-semibold text-orange-400 mb-1\">Phone *</label>\n                      <input\n                        type=\"tel\"\n                        value={formData.phone}\n                        onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n                        placeholder=\"+1-555-0101\"\n                        className=\"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-semibold text-orange-400 mb-1\">Address</label>\n                      <input\n                        type=\"text\"\n                        value={formData.address}\n                        onChange={(e) => setFormData({ ...formData, address: e.target.value })}\n                        placeholder=\"123 Main St, City\"\n                        className=\"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                {/* License Info */}\n                <div className=\"border-b border-slate-700 pb-4\">\n                  <p className=\"text-xs font-bold text-orange-400 uppercase mb-3\">License Information</p>\n                  <div className=\"space-y-3\">\n                    <div>\n                      <label className=\"block text-xs font-semibold text-orange-400 mb-1\">License Number *</label>\n                      <input\n                        type=\"text\"\n                        value={formData.license_number}\n                        onChange={(e) => setFormData({ ...formData, license_number: e.target.value })}\n                        placeholder=\"DL123456\"\n                        className=\"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-semibold text-orange-400 mb-1\">License Expiry</label>\n                      <input\n                        type=\"date\"\n                        value={formData.license_expiry}\n                        onChange={(e) => setFormData({ ...formData, license_expiry: e.target.value })}\n                        className=\"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                {/* Vehicle Info */}\n                <div className=\"border-b border-slate-700 pb-4\">\n                  <p className=\"text-xs font-bold text-orange-400 uppercase mb-3\">Vehicle Information</p>\n                  <div className=\"space-y-3\">\n                    <div>\n                      <label className=\"block text-xs font-semibold text-orange-400 mb-1\">Vehicle Type *</label>\n                      <select\n                        value={formData.vehicle_type}\n                        onChange={(e) => setFormData({ ...formData, vehicle_type: e.target.value })}\n                        className=\"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm\"\n                      >\n                        <option value=\"\">Select vehicle type</option>\n                        <option value=\"sedan\">Sedan</option>\n                        <option value=\"suv\">SUV</option>\n                        <option value=\"van\">Van</option>\n                        <option value=\"truck\">Truck</option>\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-semibold text-orange-400 mb-1\">Vehicle Number *</label>\n                      <input\n                        type=\"text\"\n                        value={formData.vehicle_number}\n                        onChange={(e) => setFormData({ ...formData, vehicle_number: e.target.value })}\n                        placeholder=\"ABC-1234\"\n                        className=\"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-semibold text-orange-400 mb-1\">Insurance Number</label>\n                      <input\n                        type=\"text\"\n                        value={formData.insurance_number}\n                        onChange={(e) => setFormData({ ...formData, insurance_number: e.target.value })}\n                        placeholder=\"INS123456\"\n                        className=\"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                {/* Status */}\n                <div>\n                  <label className=\"block text-xs font-semibold text-orange-400 mb-2\">Status</label>\n                  <select\n                    value={formData.status}\n                    onChange={(e) => setFormData({ ...formData, status: e.target.value })}\n                    className=\"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm\"\n                  >\n                    <option value=\"active\">Active</option>\n                    <option value=\"inactive\">Inactive</option>\n                  </select>\n                </div>\n              </div>\n\n              {/* Buttons */}\n              <div className=\"px-6 pb-6 flex gap-3\">\n                <button\n                  onClick={handleAddDriver}\n                  className=\"flex-1 px-4 py-2.5 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white font-semibold hover:from-orange-700 hover:to-orange-800 transition-all\"\n                >\n                  Add Driver\n                </button>\n                <button\n                  onClick={() => setShowAddForm(false)}\n                  className=\"flex-1 px-4 py-2.5 rounded-lg bg-slate-800 text-slate-300 font-semibold hover:bg-slate-700 transition-all border border-slate-700\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Driver Detail Modal */}\n        {showModal && selectedDriver && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-gradient-to-br from-slate-900 to-slate-950 rounded-2xl shadow-2xl max-w-md w-full border border-slate-800\">\n              {/* Header */}\n              <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4 rounded-t-2xl flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold text-white\">{selectedDriver.name}</h2>\n                <button\n                  onClick={() => setShowModal(false)}\n                  className=\"text-orange-200 hover:text-white transition-colors\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              {/* Content */}\n              <div className=\"p-6 space-y-4\">\n                <div>\n                  <p className=\"text-sm text-orange-400 font-semibold mb-1\">Phone</p>\n                  <p className={isDarkMode ? 'text-slate-300' : 'text-gray-700'}>{selectedDriver.phone}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-orange-400 font-semibold mb-1\">Email</p>\n                  <p className={isDarkMode ? 'text-slate-300' : 'text-gray-700'}>{selectedDriver.email}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-orange-400 font-semibold mb-1\">License Number</p>\n                  <p className={isDarkMode ? 'text-slate-300' : 'text-gray-700'}>{selectedDriver.license_number}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-orange-400 font-semibold mb-1\">Rating</p>\n                  <p className={isDarkMode ? 'text-slate-300' : 'text-gray-700'}>{selectedDriver.rating?.toFixed(1) || 'N/A'} â­</p>\n                </div>\n              </div>\n\n              {/* Button */}\n              <div className=\"px-6 pb-6\">\n                <button\n                  onClick={() => setShowModal(false)}\n                  className=\"w-full px-4 py-2.5 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white font-semibold hover:from-orange-700 hover:to-orange-800 transition-all\"\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Drivers;\n","import React, { useState, useEffect } from 'react';\nimport { Search, MapPin, Phone, DollarSign, CheckCircle, XCircle, Clock, X, Loader, Calendar } from 'lucide-react';\nimport Alert from '../../../components/common/UI/Alert';\nimport { useTheme } from '../../../contexts/ThemeContext';\n\nconst mockBookings = [\n  { id: 'BK001', passenger_name: 'Peter Omondi', pickup_location: 'Nairobi CBD', dropoff_location: 'Jomo Kenyatta Airport', fare: 2500, status: 'completed', driver_name: 'James Kipchoge', driver_phone: '+254-722-123456', vehicle_number: 'KCA-123A', created_at: new Date(Date.now() - 86400000).toISOString() },\n  { id: 'BK002', passenger_name: 'Grace Muthoni', pickup_location: 'Westlands', dropoff_location: 'Karen', fare: 1800, status: 'in_progress', driver_name: 'Mary Wanjiru', driver_phone: '+254-733-234567', vehicle_number: 'KCB-456B', created_at: new Date(Date.now() - 3600000).toISOString() },\n  { id: 'BK003', passenger_name: 'David Kiplagat', pickup_location: 'Mombasa Road', dropoff_location: 'Thika', fare: 1200, status: 'pending', driver_name: null, driver_phone: null, vehicle_number: null, created_at: new Date().toISOString() },\n  { id: 'BK004', passenger_name: 'Amina Hassan', pickup_location: 'Kilimani', dropoff_location: 'Nairobi Hospital', fare: 950, status: 'completed', driver_name: 'James Kipchoge', driver_phone: '+254-722-123456', vehicle_number: 'KCA-123A', created_at: new Date(Date.now() - 172800000).toISOString() },\n  { id: 'BK005', passenger_name: 'Samuel Kariuki', pickup_location: 'Upper Hill', dropoff_location: 'Parklands', fare: 1500, status: 'accepted', driver_name: 'Mary Wanjiru', driver_phone: '+254-733-234567', vehicle_number: 'KCB-456B', created_at: new Date(Date.now() - 7200000).toISOString() }\n];\n\nconst Bookings = () => {\n  const { isDarkMode } = useTheme();\n  const [bookings, setBookings] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [search, setSearch] = useState('');\n  const [status, setStatus] = useState('');\n  const [selectedBooking, setSelectedBooking] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    fetchBookings();\n  }, [search, status]);\n\n  const fetchBookings = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ limit: 50, ...(search && { search }), ...(status && { status }) });\n      \n      const response = await fetch(`/api/transportation/bookings?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch bookings');\n      const data = await response.json();\n      setBookings(data.data || []);\n    } catch (err) {\n      setBookings(mockBookings);\n      setStats({ total: 5, completed: 2, pending: 1, total_revenue: 200 });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleViewBooking = (booking) => {\n    setSelectedBooking(booking);\n    setShowModal(true);\n  };\n\n  const handleUpdateStatus = async (bookingId, newStatus) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`/api/transportation/bookings/${bookingId}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ status: newStatus })\n      });\n\n      if (!response.ok) throw new Error('Failed to update booking');\n      fetchBookings();\n      setShowModal(false);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const getStatusColor = (status) => {\n    const colors = {\n      pending: 'bg-yellow-100 text-yellow-800',\n      accepted: 'bg-blue-100 text-blue-800',\n      in_progress: 'bg-purple-100 text-purple-800',\n      completed: 'bg-green-100 text-green-800',\n      cancelled: 'bg-red-100 text-red-800'\n    };\n    return colors[status] || 'bg-gray-100 text-gray-800';\n  };\n\n  const getStatusIcon = (status) => {\n    const icons = {\n      pending: <Clock className=\"w-4 h-4\" />,\n      accepted: <CheckCircle className=\"w-4 h-4\" />,\n      in_progress: <Clock className=\"w-4 h-4\" />,\n      completed: <CheckCircle className=\"w-4 h-4\" />,\n      cancelled: <XCircle className=\"w-4 h-4\" />\n    };\n    return icons[status];\n  };\n\n  const filteredBookings = bookings.filter(b => {\n    const matchSearch = b.passenger_name.toLowerCase().includes(search.toLowerCase()) || b.id.includes(search);\n    const matchStatus = !status || b.status === status;\n    return matchSearch && matchStatus;\n  });\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'} p-6`}>\n      <div className=\"max-w-6xl mx-auto\">\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className={`text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Bookings</h1>\n          <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Manage all transportation bookings</p>\n        </div>\n\n        {/* Stats */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Total Bookings</p>\n              <p className={`text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{stats.total}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Completed</p>\n              <p className=\"text-3xl font-bold text-green-600\">{stats.completed}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Pending</p>\n              <p className=\"text-3xl font-bold text-yellow-600\">{stats.pending}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Total Revenue</p>\n              <p className=\"text-3xl font-bold text-orange-600\">${stats.total_revenue?.toFixed(2) || '0'}</p>\n            </div>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-4 rounded-xl shadow mb-6 flex gap-4 border`}>\n          <div className=\"flex-1 relative\">\n            <Search className={`absolute left-3 top-3 w-5 h-5 ${isDarkMode ? 'text-slate-500' : 'text-gray-400'}`} />\n            <input\n              type=\"text\"\n              placeholder=\"Search by name or booking ID...\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              className={`w-full pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100'}`}\n            />\n          </div>\n          <select\n            value={status}\n            onChange={(e) => setStatus(e.target.value)}\n            className={`px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100'}`}\n          >\n            <option value=\"\">All Status</option>\n            <option value=\"pending\">Pending</option>\n            <option value=\"accepted\">Accepted</option>\n            <option value=\"in_progress\">In Progress</option>\n            <option value=\"completed\">Completed</option>\n            <option value=\"cancelled\">Cancelled</option>\n          </select>\n        </div>\n\n        {/* Bookings List */}\n        {loading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <Loader className=\"w-8 h-8 animate-spin text-orange-600\" />\n          </div>\n        ) : filteredBookings.length > 0 ? (\n          <div className=\"space-y-4\">\n            {filteredBookings.map((booking) => (\n              <div\n                key={booking.id}\n                className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} rounded-xl shadow border p-6 hover:shadow-lg transition-all`}\n              >\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div>\n                    <h3 className={`text-lg font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                      {booking.passenger_name}\n                    </h3>\n                    <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>\n                      <Calendar className=\"w-3 h-3 inline mr-1\" />\n                      {new Date(booking.created_at).toLocaleDateString()} at {new Date(booking.created_at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                    </p>\n                  </div>\n                  <span className={`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 ${getStatusColor(booking.status)}`}>\n                    {getStatusIcon(booking.status)} {booking.status}\n                  </span>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                  <div className=\"flex items-start gap-3\">\n                    <MapPin className=\"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5\" />\n                    <div>\n                      <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Pickup</p>\n                      <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{booking.pickup_location}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-start gap-3\">\n                    <MapPin className=\"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5\" />\n                    <div>\n                      <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Dropoff</p>\n                      <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{booking.dropoff_location}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-start gap-3\">\n                    <DollarSign className=\"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5\" />\n                    <div>\n                      <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Fare</p>\n                      <p className=\"font-semibold text-green-600\">${booking.fare?.toFixed(2) || '0'}</p>\n                    </div>\n                  </div>\n                </div>\n\n                {booking.driver_name && (\n                  <div className={`p-3 rounded-lg mb-4 ${isDarkMode ? 'bg-slate-700 border-slate-600' : 'bg-gray-50 border-gray-200'} border`}>\n                    <p className={`text-xs font-semibold text-orange-400 mb-1`}>Driver Assigned</p>\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{booking.driver_name}</p>\n                        <p className={`text-sm flex items-center gap-1 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>\n                          <Phone className=\"w-3 h-3\" /> {booking.driver_phone}\n                        </p>\n                      </div>\n                      <div className={`text-right ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>\n                        <p className=\"text-xs\">Vehicle</p>\n                        <p className=\"font-semibold\">{booking.vehicle_number}</p>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"flex justify-end\">\n                  <button\n                    onClick={() => handleViewBooking(booking)}\n                    className=\"px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white font-semibold hover:from-orange-700 hover:to-orange-800 transition-all\"\n                  >\n                    View Details\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className={`${isDarkMode ? 'bg-slate-800' : 'bg-white'} rounded-xl p-12 text-center`}>\n            <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>No bookings found</p>\n          </div>\n        )}\n\n        {/* Booking Detail Modal */}\n        {showModal && selectedBooking && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-gradient-to-br from-slate-900 to-slate-950 rounded-2xl shadow-2xl max-w-2xl w-full border border-slate-800 max-h-96 overflow-y-auto\">\n              {/* Header */}\n              <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4 rounded-t-2xl flex justify-between items-center sticky top-0\">\n                <h2 className=\"text-xl font-bold text-white\">Booking Details</h2>\n                <button\n                  onClick={() => setShowModal(false)}\n                  className=\"text-orange-200 hover:text-white transition-colors\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              {/* Content */}\n              <div className=\"p-6 space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <p className=\"text-xs text-orange-400 font-semibold mb-1\">Passenger</p>\n                    <p className={isDarkMode ? 'text-slate-300' : 'text-gray-700'}>{selectedBooking.passenger_name}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-xs text-orange-400 font-semibold mb-1\">Booking ID</p>\n                    <p className={isDarkMode ? 'text-slate-300' : 'text-gray-700'}>{selectedBooking.id}</p>\n                  </div>\n                </div>\n\n                <div>\n                  <p className=\"text-xs text-orange-400 font-semibold mb-1\">Pickup Location</p>\n                  <p className={isDarkMode ? 'text-slate-300' : 'text-gray-700'}>{selectedBooking.pickup_location}</p>\n                </div>\n\n                <div>\n                  <p className=\"text-xs text-orange-400 font-semibold mb-1\">Dropoff Location</p>\n                  <p className={isDarkMode ? 'text-slate-300' : 'text-gray-700'}>{selectedBooking.dropoff_location}</p>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <p className=\"text-xs text-orange-400 font-semibold mb-1\">Fare</p>\n                    <p className=\"text-2xl font-bold text-green-600\">${selectedBooking.fare?.toFixed(2) || '0'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-xs text-orange-400 font-semibold mb-1\">Status</p>\n                    <span className={`px-3 py-1 rounded-full text-xs font-semibold inline-flex items-center gap-1 ${getStatusColor(selectedBooking.status)}`}>\n                      {getStatusIcon(selectedBooking.status)} {selectedBooking.status}\n                    </span>\n                  </div>\n                </div>\n\n                {selectedBooking.driver_name && (\n                  <div className={`p-4 rounded-lg ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-gray-50 border-gray-200'} border`}>\n                    <p className=\"text-xs text-orange-400 font-semibold mb-2\">Driver Information</p>\n                    <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{selectedBooking.driver_name}</p>\n                    <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{selectedBooking.driver_phone}</p>\n                    {selectedBooking.vehicle_number && (\n                      <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Vehicle: {selectedBooking.vehicle_number}</p>\n                    )}\n                  </div>\n                )}\n\n                <div>\n                  <p className=\"text-xs text-orange-400 font-semibold mb-1\">Booked At</p>\n                  <p className={isDarkMode ? 'text-slate-300' : 'text-gray-700'}>{new Date(selectedBooking.created_at).toLocaleString()}</p>\n                </div>\n              </div>\n\n              {/* Actions */}\n              <div className=\"px-6 pb-6 flex gap-3 border-t border-slate-700\">\n                {selectedBooking.status === 'pending' && (\n                  <>\n                    <button\n                      onClick={() => handleUpdateStatus(selectedBooking.id, 'accepted')}\n                      className=\"flex-1 px-4 py-2.5 rounded-lg bg-gradient-to-r from-green-600 to-green-700 text-white font-semibold hover:from-green-700 hover:to-green-800 transition-all flex items-center justify-center gap-2\"\n                    >\n                      <CheckCircle className=\"w-4 h-4\" /> Accept\n                    </button>\n                    <button\n                      onClick={() => handleUpdateStatus(selectedBooking.id, 'cancelled')}\n                      className=\"flex-1 px-4 py-2.5 rounded-lg bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold hover:from-red-700 hover:to-red-800 transition-all flex items-center justify-center gap-2\"\n                    >\n                      <XCircle className=\"w-4 h-4\" /> Cancel\n                    </button>\n                  </>\n                )}\n                <button\n                  onClick={() => setShowModal(false)}\n                  className=\"flex-1 px-4 py-2.5 rounded-lg bg-slate-800 text-slate-300 font-semibold hover:bg-slate-700 transition-all border border-slate-700\"\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Bookings;\n","import React, { useState, useEffect } from 'react';\nimport { MapPin, Phone, Navigation, Clock, AlertCircle, Zap, X, Loader, Activity } from 'lucide-react';\nimport Alert from '../../../components/common/UI/Alert';\nimport { useTheme } from '../../../contexts/ThemeContext';\n\nconst mockTrips = [\n  { id: 1, driver_name: 'James Kipchoge', driver_phone: '+254-722-123456', driver_id: 1, passenger_name: 'Peter Omondi', pickup_location: 'Nairobi CBD', dropoff_location: 'Jomo Kenyatta Airport', latitude: -1.3195, longitude: 36.9271, status: 'in_progress', created_at: new Date(Date.now() - 1200000).toISOString() },\n  { id: 2, driver_name: 'Mary Wanjiru', driver_phone: '+254-733-234567', driver_id: 2, passenger_name: 'Grace Muthoni', pickup_location: 'Westlands', dropoff_location: 'Karen', latitude: -1.2921, longitude: 36.8025, status: 'in_progress', created_at: new Date(Date.now() - 600000).toISOString() },\n  { id: 3, driver_name: 'James Kipchoge', driver_phone: '+254-722-123456', driver_id: 1, passenger_name: 'David Kiplagat', pickup_location: 'Mombasa Road', dropoff_location: 'Thika', latitude: -1.2500, longitude: 36.7500, status: 'accepted', created_at: new Date(Date.now() - 300000).toISOString() }\n];\n\nconst Tracking = () => {\n  const { isDarkMode } = useTheme();\n  const [activeTrips, setActiveTrips] = useState([]);\n  const [selectedTrip, setSelectedTrip] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    fetchActiveTrips();\n    const interval = setInterval(fetchActiveTrips, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const fetchActiveTrips = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/transportation/tracking', {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch tracking data');\n      const data = await response.json();\n      setActiveTrips(data.data || []);\n    } catch (err) {\n      setActiveTrips(mockTrips);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusColor = (status) => {\n    const colors = {\n      pending: 'bg-yellow-100 text-yellow-800',\n      accepted: 'bg-blue-100 text-blue-800',\n      in_progress: 'bg-green-100 text-green-800'\n    };\n    return colors[status] || 'bg-gray-100 text-gray-800';\n  };\n\n  const getStatusBgColor = (status) => {\n    const colors = {\n      pending: 'bg-yellow-500',\n      accepted: 'bg-blue-500',\n      in_progress: 'bg-green-500'\n    };\n    return colors[status] || 'bg-gray-500';\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className={`text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Live Tracking</h1>\n          <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Monitor active trips in real-time</p>\n        </div>\n\n        {/* Active Trips Count */}\n        <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border mb-6`}>\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Active Trips</p>\n              <p className={`text-4xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{activeTrips.length}</p>\n            </div>\n            <div className={`p-4 rounded-full ${getStatusBgColor('in_progress')} animate-pulse`}>\n              <Activity className=\"w-8 h-8 text-white\" />\n            </div>\n          </div>\n        </div>\n\n        {/* Map View Placeholder */}\n        <div className={`${isDarkMode ? 'bg-gradient-to-br from-slate-800 to-slate-900 border-slate-700' : 'bg-gradient-to-br from-blue-50 to-blue-100'} rounded-xl shadow mb-6 overflow-hidden border`}>\n          <div className=\"w-full h-80 flex items-center justify-center\">\n            <div className=\"text-center\">\n              <MapPin className={`w-16 h-16 mx-auto mb-4 ${isDarkMode ? 'text-orange-500' : 'text-orange-600'}`} />\n              <p className={`text-xl font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Live Map View</p>\n              <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Showing {activeTrips.length} active trips across Kenya</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Active Trips List */}\n        {loading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <Loader className=\"w-8 h-8 animate-spin text-orange-600\" />\n          </div>\n        ) : activeTrips.length > 0 ? (\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n            {activeTrips.map((trip) => (\n              <div\n                key={trip.id}\n                onClick={() => setSelectedTrip(trip)}\n                className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} rounded-xl shadow border hover:shadow-lg transition-all cursor-pointer overflow-hidden ${\n                  selectedTrip?.id === trip.id ? 'ring-2 ring-orange-500' : ''\n                }`}\n              >\n                {/* Status Bar */}\n                <div className={`h-1 ${getStatusBgColor(trip.status)}`}></div>\n\n                <div className=\"p-6\">\n                  <div className=\"flex justify-between items-start mb-4\">\n                    <div>\n                      <h3 className={`text-lg font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                        {trip.driver_name}\n                      </h3>\n                      <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>\n                        {trip.passenger_name}\n                      </p>\n                    </div>\n                    <span className={`px-3 py-1 rounded-full text-xs font-semibold ${getStatusColor(trip.status)}`}>\n                      {trip.status}\n                    </span>\n                  </div>\n\n                  <div className=\"space-y-3 mb-4\">\n                    <div className=\"flex items-start gap-3\">\n                      <MapPin className={`w-5 h-5 mt-0.5 flex-shrink-0 text-green-600`} />\n                      <div>\n                        <p className={`text-xs font-semibold text-orange-400`}>Pickup</p>\n                        <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{trip.pickup_location}</p>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-start gap-3\">\n                      <Navigation className={`w-5 h-5 mt-0.5 flex-shrink-0 text-red-600`} />\n                      <div>\n                        <p className={`text-xs font-semibold text-orange-400`}>Dropoff</p>\n                        <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{trip.dropoff_location}</p>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className={`p-3 rounded-lg mb-4 ${isDarkMode ? 'bg-slate-700 border-slate-600' : 'bg-gray-50 border-gray-200'} border`}>\n                    <p className={`text-xs font-semibold text-orange-400 mb-1`}>Current Location</p>\n                    <p className={`text-sm font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                      {trip.latitude?.toFixed(4)}, {trip.longitude?.toFixed(4)}\n                    </p>\n                  </div>\n\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2\">\n                      <Phone className={`w-4 h-4 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`} />\n                      <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{trip.driver_phone}</p>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Clock className={`w-4 h-4 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`} />\n                      <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>\n                        {new Date(trip.created_at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className={`${isDarkMode ? 'bg-slate-800' : 'bg-white'} p-12 rounded-xl shadow text-center mb-8`}>\n            <AlertCircle className={`w-12 h-12 mx-auto mb-4 ${isDarkMode ? 'text-slate-400' : 'text-gray-400'}`} />\n            <p className={`text-lg ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>No active trips at the moment</p>\n          </div>\n        )}\n\n        {/* Selected Trip Details */}\n        {selectedTrip && (\n          <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} rounded-xl shadow border p-6`}>\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Trip Details</h2>\n              <button\n                onClick={() => setSelectedTrip(null)}\n                className={`p-2 rounded-lg ${isDarkMode ? 'hover:bg-slate-700' : 'hover:bg-gray-100'}`}\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <p className={`text-xs font-semibold text-orange-400 mb-1`}>Driver</p>\n                <p className={`text-lg font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{selectedTrip.driver_name}</p>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{selectedTrip.driver_phone}</p>\n              </div>\n\n              <div>\n                <p className={`text-xs font-semibold text-orange-400 mb-1`}>Passenger</p>\n                <p className={`text-lg font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{selectedTrip.passenger_name}</p>\n              </div>\n\n              <div>\n                <p className={`text-xs font-semibold text-orange-400 mb-1`}>Current Location</p>\n                <p className={`text-lg font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                  {selectedTrip.latitude?.toFixed(4)}, {selectedTrip.longitude?.toFixed(4)}\n                </p>\n              </div>\n\n              <div>\n                <p className={`text-xs font-semibold text-orange-400 mb-1`}>Status</p>\n                <span className={`inline-block px-3 py-1 rounded-full text-sm font-semibold ${getStatusColor(selectedTrip.status)}`}>\n                  {selectedTrip.status}\n                </span>\n              </div>\n\n              <div className=\"md:col-span-2\">\n                <p className={`text-xs font-semibold text-orange-400 mb-2`}>Route</p>\n                <div className={`p-4 rounded-lg ${isDarkMode ? 'bg-slate-700 border-slate-600' : 'bg-gray-50 border-gray-200'} border space-y-2`}>\n                  <div className=\"flex items-center gap-2\">\n                    <MapPin className=\"w-4 h-4 text-green-600\" />\n                    <p className={`text-sm ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>\n                      From: {selectedTrip.pickup_location}\n                    </p>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Navigation className=\"w-4 h-4 text-red-600\" />\n                    <p className={`text-sm ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>\n                      To: {selectedTrip.dropoff_location}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Tracking;\n","import React, { useState, useEffect } from 'react';\nimport { Search, Plus, Wrench, AlertTriangle, CheckCircle, Truck, X, Loader, Calendar } from 'lucide-react';\nimport Alert from '../../../components/common/UI/Alert';\nimport { useTheme } from '../../../contexts/ThemeContext';\n\nconst mockVehicles = [\n  { id: 1, model: 'Toyota Hiace', vehicle_number: 'KCA-123A', registration_number: 'KCA123A', year: 2022, status: 'active', maintenance_date: '2024-06-15', notes: 'Nairobi - Mombasa route' },\n  { id: 2, model: 'Nissan Caravan', vehicle_number: 'KCB-456B', registration_number: 'KCB456B', year: 2021, status: 'active', maintenance_date: '2024-07-20', notes: 'Nairobi - Kisumu route' },\n  { id: 3, model: 'Toyota Probox', vehicle_number: 'KCC-789C', registration_number: 'KCC789C', year: 2023, status: 'maintenance', maintenance_date: '2024-05-10', notes: 'Engine service at Nairobi' },\n  { id: 4, model: 'Isuzu NPR', vehicle_number: 'KCD-012D', registration_number: 'KCD012D', year: 2020, status: 'active', maintenance_date: '2024-08-05', notes: 'Cargo transport - Mombasa' },\n  { id: 5, model: 'Toyota Quantum', vehicle_number: 'KCE-345E', registration_number: 'KCE345E', year: 2022, status: 'inactive', maintenance_date: '2024-09-12', notes: 'Awaiting repairs in Nairobi' }\n];\n\nconst Fleet = () => {\n  const { isDarkMode } = useTheme();\n  const [vehicles, setVehicles] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [search, setSearch] = useState('');\n  const [status, setStatus] = useState('');\n  const [selectedVehicle, setSelectedVehicle] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    fetchVehicles();\n  }, [search, status]);\n\n  const fetchVehicles = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ limit: 50, ...(search && { search }), ...(status && { status }) });\n      \n      const response = await fetch(`/api/transportation/fleet?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch vehicles');\n      const data = await response.json();\n      setVehicles(data.data || []);\n    } catch (err) {\n      setVehicles(mockVehicles);\n      setStats({ total: 5, active: 3, maintenance: 1, inactive: 1 });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleViewVehicle = (vehicle) => {\n    setSelectedVehicle(vehicle);\n    setShowModal(true);\n  };\n\n  const handleUpdateStatus = async (vehicleId, newStatus) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`/api/transportation/fleet/${vehicleId}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ status: newStatus })\n      });\n\n      if (!response.ok) throw new Error('Failed to update vehicle');\n      fetchVehicles();\n      setShowModal(false);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const getStatusColor = (status) => {\n    const colors = {\n      active: 'bg-green-100 text-green-800',\n      maintenance: 'bg-yellow-100 text-yellow-800',\n      inactive: 'bg-red-100 text-red-800'\n    };\n    return colors[status] || 'bg-gray-100 text-gray-800';\n  };\n\n  const getStatusIcon = (status) => {\n    const icons = {\n      active: <CheckCircle className=\"w-5 h-5 text-green-600\" />,\n      maintenance: <Wrench className=\"w-5 h-5 text-yellow-600\" />,\n      inactive: <AlertTriangle className=\"w-5 h-5 text-red-600\" />\n    };\n    return icons[status] || <Truck className=\"w-5 h-5\" />;\n  };\n\n  const filteredVehicles = vehicles.filter(v => {\n    const matchSearch = v.model.toLowerCase().includes(search.toLowerCase()) || v.vehicle_number.includes(search);\n    const matchStatus = !status || v.status === status;\n    return matchSearch && matchStatus;\n  });\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        {/* Header */}\n        <div className=\"flex justify-between items-center mb-8\">\n          <div>\n            <h1 className={`text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Fleet Management</h1>\n            <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Manage your vehicle fleet</p>\n          </div>\n          <button className=\"bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-4 py-2 rounded-lg flex items-center gap-2 font-semibold transition-all\">\n            <Plus className=\"w-5 h-5\" /> Add Vehicle\n          </button>\n        </div>\n\n        {/* Stats */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Total Vehicles</p>\n              <p className={`text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{stats.total}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Active</p>\n              <p className=\"text-3xl font-bold text-green-600\">{stats.active}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Maintenance</p>\n              <p className=\"text-3xl font-bold text-yellow-600\">{stats.maintenance}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Inactive</p>\n              <p className=\"text-3xl font-bold text-red-600\">{stats.inactive}</p>\n            </div>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-4 rounded-xl shadow mb-6 flex gap-4 border`}>\n          <div className=\"flex-1 relative\">\n            <Search className={`absolute left-3 top-3 w-5 h-5 ${isDarkMode ? 'text-slate-500' : 'text-gray-400'}`} />\n            <input\n              type=\"text\"\n              placeholder=\"Search vehicles...\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              className={`w-full pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100'}`}\n            />\n          </div>\n          <select\n            value={status}\n            onChange={(e) => setStatus(e.target.value)}\n            className={`px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100'}`}\n          >\n            <option value=\"\">All Status</option>\n            <option value=\"active\">Active</option>\n            <option value=\"maintenance\">Maintenance</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </div>\n\n        {/* Vehicles Grid */}\n        {loading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <Loader className=\"w-8 h-8 animate-spin text-orange-600\" />\n          </div>\n        ) : filteredVehicles.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredVehicles.map((vehicle) => (\n              <div\n                key={vehicle.id}\n                className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} rounded-xl shadow border hover:shadow-lg transition-all overflow-hidden`}\n              >\n                {/* Header */}\n                <div className={`p-6 bg-gradient-to-r from-orange-600 to-orange-700`}>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <Truck className=\"w-8 h-8 text-white\" />\n                      <div>\n                        <h3 className=\"font-semibold text-white\">{vehicle.model}</h3>\n                        <p className=\"text-xs text-orange-100\">{vehicle.vehicle_number}</p>\n                      </div>\n                    </div>\n                    {getStatusIcon(vehicle.status)}\n                  </div>\n                </div>\n\n                {/* Content */}\n                <div className=\"p-6 space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <p className={`text-xs font-semibold text-orange-400 mb-1`}>Registration</p>\n                      <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{vehicle.registration_number}</p>\n                    </div>\n                    <div>\n                      <p className={`text-xs font-semibold text-orange-400 mb-1`}>Year</p>\n                      <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{vehicle.year}</p>\n                    </div>\n                  </div>\n\n                  <div>\n                    <p className={`text-xs font-semibold text-orange-400 mb-1`}>Status</p>\n                    <span className={`inline-block px-3 py-1 rounded-full text-xs font-semibold ${getStatusColor(vehicle.status)}`}>\n                      {vehicle.status}\n                    </span>\n                  </div>\n\n                  {vehicle.maintenance_date && (\n                    <div className={`p-3 rounded-lg ${isDarkMode ? 'bg-slate-700 border-slate-600' : 'bg-gray-50 border-gray-200'} border`}>\n                      <p className={`text-xs font-semibold text-orange-400 mb-1 flex items-center gap-1`}>\n                        <Calendar className=\"w-3 h-3\" /> Next Maintenance\n                      </p>\n                      <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                        {new Date(vehicle.maintenance_date).toLocaleDateString()}\n                      </p>\n                    </div>\n                  )}\n\n                  <button\n                    onClick={() => handleViewVehicle(vehicle)}\n                    className=\"w-full mt-4 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white font-semibold hover:from-orange-700 hover:to-orange-800 transition-all\"\n                  >\n                    View Details\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className={`${isDarkMode ? 'bg-slate-800' : 'bg-white'} rounded-xl p-12 text-center`}>\n            <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>No vehicles found</p>\n          </div>\n        )}\n\n        {/* Vehicle Detail Modal */}\n        {showModal && selectedVehicle && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-gradient-to-br from-slate-900 to-slate-950 rounded-2xl shadow-2xl max-w-2xl w-full border border-slate-800 max-h-96 overflow-y-auto\">\n              {/* Header */}\n              <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4 rounded-t-2xl flex justify-between items-center sticky top-0\">\n                <h2 className=\"text-xl font-bold text-white\">{selectedVehicle.model}</h2>\n                <button\n                  onClick={() => setShowModal(false)}\n                  className=\"text-orange-200 hover:text-white transition-colors\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              {/* Content */}\n              <div className=\"p-6 space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <p className=\"text-xs text-orange-400 font-semibold mb-1\">Vehicle Number</p>\n                    <p className={isDarkMode ? 'text-slate-300' : 'text-gray-700'}>{selectedVehicle.vehicle_number}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-xs text-orange-400 font-semibold mb-1\">Registration</p>\n                    <p className={isDarkMode ? 'text-slate-300' : 'text-gray-700'}>{selectedVehicle.registration_number}</p>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <p className=\"text-xs text-orange-400 font-semibold mb-1\">Year</p>\n                    <p className={isDarkMode ? 'text-slate-300' : 'text-gray-700'}>{selectedVehicle.year}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-xs text-orange-400 font-semibold mb-1\">Status</p>\n                    <span className={`inline-block px-3 py-1 rounded-full text-xs font-semibold ${getStatusColor(selectedVehicle.status)}`}>\n                      {selectedVehicle.status}\n                    </span>\n                  </div>\n                </div>\n\n                {selectedVehicle.maintenance_date && (\n                  <div className={`p-4 rounded-lg ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-gray-50 border-gray-200'} border`}>\n                    <p className=\"text-xs text-orange-400 font-semibold mb-1 flex items-center gap-1\">\n                      <Calendar className=\"w-3 h-3\" /> Next Maintenance\n                    </p>\n                    <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                      {new Date(selectedVehicle.maintenance_date).toLocaleDateString()}\n                    </p>\n                  </div>\n                )}\n\n                {selectedVehicle.notes && (\n                  <div className={`p-4 rounded-lg ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-gray-50 border-gray-200'} border`}>\n                    <p className=\"text-xs text-orange-400 font-semibold mb-1\">Notes</p>\n                    <p className={isDarkMode ? 'text-slate-300' : 'text-gray-700'}>{selectedVehicle.notes}</p>\n                  </div>\n                )}\n              </div>\n\n              {/* Actions */}\n              <div className=\"px-6 pb-6 flex gap-3 border-t border-slate-700\">\n                {selectedVehicle.status !== 'maintenance' && (\n                  <button\n                    onClick={() => handleUpdateStatus(selectedVehicle.id, 'maintenance')}\n                    className=\"flex-1 px-4 py-2.5 rounded-lg bg-gradient-to-r from-yellow-600 to-yellow-700 text-white font-semibold hover:from-yellow-700 hover:to-yellow-800 transition-all flex items-center justify-center gap-2\"\n                  >\n                    <Wrench className=\"w-4 h-4\" /> Maintenance\n                  </button>\n                )}\n                <button\n                  onClick={() => handleUpdateStatus(selectedVehicle.id, selectedVehicle.status === 'active' ? 'inactive' : 'active')}\n                  className=\"flex-1 px-4 py-2.5 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white font-semibold hover:from-orange-700 hover:to-orange-800 transition-all\"\n                >\n                  {selectedVehicle.status === 'active' ? 'Deactivate' : 'Activate'}\n                </button>\n                <button\n                  onClick={() => setShowModal(false)}\n                  className=\"flex-1 px-4 py-2.5 rounded-lg bg-slate-800 text-slate-300 font-semibold hover:bg-slate-700 transition-all border border-slate-700\"\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Fleet;\n","import React, { useState, useEffect } from 'react';\nimport { TrendingUp, DollarSign, Users, Zap, BarChart3, Calendar, Download, Filter, ArrowUpDown } from 'lucide-react';\nimport Alert from '../../../components/common/UI/Alert';\nimport { useTheme } from '../../../contexts/ThemeContext';\n\nconst Earnings = () => {\n  const { isDarkMode } = useTheme();\n  const [earnings, setEarnings] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [chartData, setChartData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [period, setPeriod] = useState('month');\n  const [sortBy, setSortBy] = useState('earnings');\n  const [sortOrder, setSortOrder] = useState('desc');\n  const [searchDriver, setSearchDriver] = useState('');\n\n  useEffect(() => {\n    fetchEarnings();\n    fetchStats();\n    fetchChartData();\n  }, [period, sortBy, sortOrder, searchDriver]);\n\n  const fetchEarnings = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ period, limit: 50 });\n      \n      const response = await fetch(`/api/transportation/earnings?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch earnings');\n      const data = await response.json();\n      setEarnings(data.data || []);\n    } catch (err) {\n      console.error('Earnings fetch error:', err);\n      setEarnings([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchStats = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ period });\n      \n      const response = await fetch(`/api/transportation/earnings/stats?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch stats');\n      const data = await response.json();\n      setStats(data.data || {\n        total_earnings: 0,\n        total_trips: 0,\n        avg_fare: 0,\n        max_fare: 0\n      });\n    } catch (err) {\n      console.error('Stats fetch error:', err);\n      setStats({\n        total_earnings: 0,\n        total_trips: 0,\n        avg_fare: 0,\n        max_fare: 0\n      });\n    }\n  };\n\n  const fetchChartData = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ period });\n      \n      const response = await fetch(`/api/transportation/earnings/chart?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch chart data');\n      const data = await response.json();\n      setChartData(data.data || []);\n    } catch (err) {\n      console.error('Chart data fetch error:', err);\n      setChartData([]);\n    }\n  };\n\n  const filteredAndSortedEarnings = earnings\n    .filter(e => e.name?.toLowerCase().includes(searchDriver.toLowerCase()))\n    .sort((a, b) => {\n      let aVal = a[sortBy];\n      let bVal = b[sortBy];\n      if (sortBy === 'earnings') {\n        aVal = a.total_earnings || 0;\n        bVal = b.total_earnings || 0;\n      }\n      return sortOrder === 'desc' ? bVal - aVal : aVal - bVal;\n    });\n\n  const handleSort = (field) => {\n    if (sortBy === field) {\n      setSortOrder(sortOrder === 'desc' ? 'asc' : 'desc');\n    } else {\n      setSortBy(field);\n      setSortOrder('desc');\n    }\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        {/* Header */}\n        <div className=\"flex justify-between items-center mb-8\">\n          <div>\n            <h1 className={`text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Earnings</h1>\n            <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Track driver earnings and revenue</p>\n          </div>\n          <div className=\"flex gap-3\">\n            <select\n              value={period}\n              onChange={(e) => setPeriod(e.target.value)}\n              className={`px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-800 text-white border-slate-700' : 'bg-white text-gray-900 border-gray-200'} border`}\n            >\n              <option value=\"day\">Today</option>\n              <option value=\"week\">This Week</option>\n              <option value=\"month\">This Month</option>\n              <option value=\"year\">This Year</option>\n            </select>\n            <button className=\"px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white font-semibold hover:from-orange-700 hover:to-orange-800 transition-all flex items-center gap-2\">\n              <Download className=\"w-4 h-4\" /> Export\n            </button>\n          </div>\n        </div>\n\n        {/* Stats */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Total Earnings</p>\n                  <p className=\"text-3xl font-bold text-green-600\">KES {(stats.total_earnings || 0).toLocaleString()}</p>\n                </div>\n                <DollarSign className=\"w-12 h-12 text-green-500 opacity-20\" />\n              </div>\n            </div>\n\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Total Trips</p>\n                  <p className=\"text-3xl font-bold text-blue-600\">{stats.total_trips || 0}</p>\n                </div>\n                <Zap className=\"w-12 h-12 text-blue-500 opacity-20\" />\n              </div>\n            </div>\n\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Avg Fare</p>\n                  <p className=\"text-3xl font-bold text-purple-600\">KES {(stats.avg_fare || 0).toLocaleString()}</p>\n                </div>\n                <BarChart3 className=\"w-12 h-12 text-purple-500 opacity-20\" />\n              </div>\n            </div>\n\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border`}>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>Max Fare</p>\n                  <p className=\"text-3xl font-bold text-orange-600\">KES {(stats.max_fare || 0).toLocaleString()}</p>\n                </div>\n                <TrendingUp className=\"w-12 h-12 text-orange-500 opacity-20\" />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Chart */}\n        {chartData.length > 0 && (\n          <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} p-6 rounded-xl shadow border mb-8`}>\n            <h2 className={`text-xl font-bold mb-6 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Earnings Trend</h2>\n            \n            <div className=\"h-64 flex items-end justify-around gap-2\">\n              {chartData.map((data, idx) => {\n                const maxEarnings = Math.max(...chartData.map(d => d.earnings || 0));\n                const height = maxEarnings > 0 ? (data.earnings / maxEarnings) * 100 : 0;\n                \n                return (\n                  <div key={idx} className=\"flex-1 flex flex-col items-center\">\n                    <div className=\"w-full flex items-end justify-center h-48\">\n                      <div\n                        className=\"w-full bg-gradient-to-t from-orange-600 to-orange-500 rounded-t-lg transition-all hover:from-orange-700 hover:to-orange-600\"\n                        style={{ height: `${height}%` }}\n                        title={`KES ${data.earnings || 0}`}\n                      />\n                    </div>\n                    <p className={`text-xs mt-2 text-center ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>\n                      {data.period?.slice(0, 3) || 'N/A'}\n                    </p>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n\n        {/* Earnings Table */}\n        <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white'} rounded-xl shadow border overflow-hidden`}>\n          <div className=\"p-6 border-b border-slate-700 flex justify-between items-center\">\n            <h2 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Top Earners</h2>\n            <div className=\"flex gap-2\">\n              <div className=\"relative\">\n                <Filter className=\"absolute left-3 top-3 w-4 h-4 text-slate-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search driver...\"\n                  value={searchDriver}\n                  onChange={(e) => setSearchDriver(e.target.value)}\n                  className={`pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900'}`}\n                />\n              </div>\n            </div>\n          </div>\n\n          {loading ? (\n            <div className=\"p-12 text-center\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mx-auto\"></div>\n            </div>\n          ) : earnings.length > 0 ? (\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className={isDarkMode ? 'bg-slate-700' : 'bg-gray-100'}>\n                  <tr>\n                    <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Driver</th>\n                    <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'} cursor-pointer hover:text-orange-500`} onClick={() => handleSort('trips')}>\n                      <div className=\"flex items-center gap-2\">\n                        Trips {sortBy === 'trips' && <ArrowUpDown className=\"w-4 h-4\" />}\n                      </div>\n                    </th>\n                    <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'} cursor-pointer hover:text-orange-500`} onClick={() => handleSort('earnings')}>\n                      <div className=\"flex items-center gap-2\">\n                        Earnings {sortBy === 'earnings' && <ArrowUpDown className=\"w-4 h-4\" />}\n                      </div>\n                    </th>\n                    <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'} cursor-pointer hover:text-orange-500`} onClick={() => handleSort('avg_rating')}>\n                      <div className=\"flex items-center gap-2\">\n                        Rating {sortBy === 'avg_rating' && <ArrowUpDown className=\"w-4 h-4\" />}\n                      </div>\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className={`divide-y ${isDarkMode ? 'divide-slate-700' : 'divide-gray-200'}`}>\n                  {filteredAndSortedEarnings.map((driver, idx) => (\n                    <tr key={driver.id} className={isDarkMode ? 'hover:bg-slate-700' : 'hover:bg-gray-50'}>\n                      <td className={`px-6 py-4 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"w-10 h-10 rounded-full bg-gradient-to-r from-orange-600 to-orange-700 flex items-center justify-center text-white font-bold\">\n                            {idx + 1}\n                          </div>\n                          <div>\n                            <p className=\"font-medium\">{driver.name || 'N/A'}</p>\n                            <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{driver.phone || 'N/A'}</p>\n                          </div>\n                        </div>\n                      </td>\n                      <td className={`px-6 py-4 ${isDarkMode ? 'text-slate-300' : 'text-gray-600'}`}>\n                        <span className={`px-3 py-1 rounded-full text-sm font-medium ${isDarkMode ? 'bg-slate-700' : 'bg-gray-100'}`}>\n                          {driver.trips || 0}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <p className=\"text-lg font-bold text-green-600\">KES {(driver.total_earnings || 0).toLocaleString()}</p>\n                      </td>\n                      <td className={`px-6 py-4 ${isDarkMode ? 'text-slate-300' : 'text-gray-600'}`}>\n                        <div className=\"flex items-center gap-1\">\n                          <span>â­</span>\n                          {(driver.avg_rating || 0).toFixed(1)}\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <div className=\"p-12 text-center\">\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>No earnings data available</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Earnings;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Search, Send, Phone, Video, MoreVertical, Paperclip, Smile, Plus, X, Loader, MessageCircle } from 'lucide-react';\nimport Alert from '../../../components/common/UI/Alert';\nimport { useTheme } from '../../../contexts/ThemeContext';\n\nconst mockConversations = [\n  { id: 1, sender_name: 'James Kipchoge', sender_email: 'james@example.com', subject: 'Trip Update', body: 'Hi, I wanted to discuss the upcoming trip...', created_at: new Date(Date.now() - 3600000).toISOString(), is_read: false, recipient_id: 1 },\n  { id: 2, sender_name: 'Mary Wanjiru', sender_email: 'mary@example.com', subject: 'Schedule Change', body: 'Can we reschedule our meeting for tomorrow?', created_at: new Date(Date.now() - 7200000).toISOString(), is_read: true, recipient_id: 2 }\n];\n\nconst mockMessages = [\n  { id: 1, sender_name: 'James Kipchoge', body: 'Hi, I wanted to discuss the upcoming trip...', created_at: new Date(Date.now() - 3600000).toISOString() },\n  { id: 2, sender_name: 'James Kipchoge', body: 'Are you available next week?', created_at: new Date(Date.now() - 1800000).toISOString() }\n];\n\nconst Messages = () => {\n  const { isDarkMode } = useTheme();\n  const [conversations, setConversations] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [selectedConversation, setSelectedConversation] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [search, setSearch] = useState('');\n  const [messageText, setMessageText] = useState('');\n  const [showNewChat, setShowNewChat] = useState(false);\n  const [newChatRecipient, setNewChatRecipient] = useState('');\n  const [newChatSubject, setNewChatSubject] = useState('');\n  const messagesEndRef = useRef(null);\n\n  useEffect(() => {\n    fetchConversations();\n  }, [search]);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const fetchConversations = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ limit: 50, ...(search && { search }) });\n      \n      const response = await fetch(`/api/communication/messages?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch conversations');\n      const data = await response.json();\n      setConversations(data.data || []);\n    } catch (err) {\n      setConversations(mockConversations);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchMessages = async (messageId) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`/api/communication/messages/${messageId}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch message');\n      const data = await response.json();\n      setMessages(Array.isArray(data.data) ? data.data : [data.data]);\n    } catch (err) {\n      setMessages(mockMessages);\n    }\n  };\n\n  const handleSelectConversation = (conversation) => {\n    setSelectedConversation(conversation);\n    fetchMessages(conversation.id);\n  };\n\n  const handleSendMessage = async () => {\n    if (!messageText.trim() || !selectedConversation) return;\n\n    const newMessage = {\n      id: Date.now(),\n      sender_name: 'You',\n      body: messageText,\n      created_at: new Date().toISOString()\n    };\n\n    setMessages([...messages, newMessage]);\n    setMessageText('');\n\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/communication/messages', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          recipient_id: selectedConversation.recipient_id,\n          subject: selectedConversation.subject,\n          body: messageText\n        })\n      });\n\n      if (!response.ok) throw new Error('Failed to send message');\n      fetchConversations();\n    } catch (err) {\n      console.error('Send error:', err);\n    }\n  };\n\n  const handleNewChat = async () => {\n    if (!newChatRecipient || !newChatSubject) {\n      setError('Please fill all fields');\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/communication/messages', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          recipient_id: newChatRecipient,\n          subject: newChatSubject,\n          body: ''\n        })\n      });\n\n      if (!response.ok) throw new Error('Failed to create conversation');\n      setNewChatRecipient('');\n      setNewChatSubject('');\n      setShowNewChat(false);\n      fetchConversations();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const getInitials = (name) => {\n    return name?.split(' ').map(n => n[0]).join('').toUpperCase() || '?';\n  };\n\n  const formatTime = (date) => {\n    const now = new Date();\n    const msgDate = new Date(date);\n    const diffMs = now - msgDate;\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n\n    if (diffMins < 1) return 'now';\n    if (diffMins < 60) return `${diffMins}m`;\n    if (diffHours < 24) return `${diffHours}h`;\n    if (diffDays < 7) return `${diffDays}d`;\n    return msgDate.toLocaleDateString();\n  };\n\n  return (\n    <div className={`h-screen flex ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'}`}>\n      {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n      {/* Sidebar */}\n      <div className={`w-96 ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} border-r flex flex-col`}>\n        {/* Header */}\n        <div className={`p-4 border-b ${isDarkMode ? 'border-slate-700' : 'border-gray-200'}`}>\n          <div className=\"flex items-center justify-between mb-4\">\n            <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Messages</h1>\n            <button\n              onClick={() => setShowNewChat(true)}\n              className={`p-2 rounded-full transition-colors ${isDarkMode ? 'bg-slate-700 hover:bg-slate-600 text-orange-400' : 'bg-gray-100 hover:bg-gray-200 text-orange-600'}`}\n            >\n              <Plus className=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          <div className=\"relative\">\n            <Search className={`absolute left-3 top-3 w-5 h-5 ${isDarkMode ? 'text-slate-500' : 'text-gray-400'}`} />\n            <input\n              type=\"text\"\n              placeholder=\"Search conversations...\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              className={`w-full pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n            />\n          </div>\n        </div>\n\n        {/* Conversations List */}\n        <div className=\"flex-1 overflow-y-auto\">\n          {loading ? (\n            <div className=\"flex items-center justify-center h-full\">\n              <Loader className=\"w-6 h-6 animate-spin text-orange-600\" />\n            </div>\n          ) : conversations.length > 0 ? (\n            conversations.map((conv) => (\n              <div\n                key={conv.id}\n                onClick={() => handleSelectConversation(conv)}\n                className={`p-4 cursor-pointer transition-all border-b ${isDarkMode ? 'border-slate-700' : 'border-gray-100'} ${\n                  selectedConversation?.id === conv.id\n                    ? isDarkMode ? 'bg-slate-700' : 'bg-orange-50'\n                    : isDarkMode ? 'hover:bg-slate-700' : 'hover:bg-gray-50'\n                }`}\n              >\n                <div className=\"flex items-center gap-3\">\n                  <div className={`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold flex-shrink-0 bg-gradient-to-r from-orange-600 to-orange-700`}>\n                    {getInitials(conv.sender_name)}\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center justify-between\">\n                      <p className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{conv.sender_name}</p>\n                      <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-gray-500'}`}>{formatTime(conv.created_at)}</p>\n                    </div>\n                    <p className={`text-sm truncate ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{conv.subject}</p>\n                    <p className={`text-xs truncate ${isDarkMode ? 'text-slate-500' : 'text-gray-500'}`}>{conv.body?.slice(0, 40)}</p>\n                  </div>\n                  {!conv.is_read && (\n                    <div className=\"w-3 h-3 rounded-full bg-orange-500 flex-shrink-0\" />\n                  )}\n                </div>\n              </div>\n            ))\n          ) : (\n            <div className=\"flex flex-col items-center justify-center h-full\">\n              <MessageCircle className={`w-12 h-12 mb-3 ${isDarkMode ? 'text-slate-600' : 'text-gray-300'}`} />\n              <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>No conversations</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Chat Area */}\n      <div className=\"flex-1 flex flex-col\">\n        {selectedConversation ? (\n          <>\n            {/* Chat Header */}\n            <div className={`p-4 border-b ${isDarkMode ? 'border-slate-700 bg-slate-800' : 'border-gray-200 bg-white'} flex items-center justify-between`}>\n              <div className=\"flex items-center gap-3\">\n                <div className={`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold bg-gradient-to-r from-orange-600 to-orange-700`}>\n                  {getInitials(selectedConversation.sender_name)}\n                </div>\n                <div>\n                  <p className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{selectedConversation.sender_name}</p>\n                  <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{selectedConversation.sender_email}</p>\n                </div>\n              </div>\n              <div className=\"flex gap-2\">\n                <button className={`p-2 rounded-full transition-colors ${isDarkMode ? 'hover:bg-slate-700 text-slate-400' : 'hover:bg-gray-100 text-gray-600'}`}>\n                  <Phone className=\"w-5 h-5\" />\n                </button>\n                <button className={`p-2 rounded-full transition-colors ${isDarkMode ? 'hover:bg-slate-700 text-slate-400' : 'hover:bg-gray-100 text-gray-600'}`}>\n                  <Video className=\"w-5 h-5\" />\n                </button>\n                <button className={`p-2 rounded-full transition-colors ${isDarkMode ? 'hover:bg-slate-700 text-slate-400' : 'hover:bg-gray-100 text-gray-600'}`}>\n                  <MoreVertical className=\"w-5 h-5\" />\n                </button>\n              </div>\n            </div>\n\n            {/* Messages */}\n            <div className={`flex-1 overflow-y-auto p-4 space-y-4 ${isDarkMode ? 'bg-slate-900' : 'bg-white'}`}>\n              {messages.length > 0 ? (\n                messages.map((msg) => {\n                  const isYourMessage = msg.sender_name === 'You';\n                  return (\n                    <div key={msg.id} className={`flex items-start gap-3 ${isYourMessage ? 'flex-row-reverse' : ''}`}>\n                      <div className={`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold flex-shrink-0 ${isYourMessage ? 'bg-gradient-to-r from-blue-600 to-blue-700' : 'bg-gradient-to-r from-orange-600 to-orange-700'}`}>\n                        {getInitials(msg.sender_name)}\n                      </div>\n                      <div className={isYourMessage ? 'text-right' : ''}>\n                        <p className={`text-xs font-semibold mb-1 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{msg.sender_name}</p>\n                        <div className={`max-w-xs px-4 py-2 rounded-2xl ${isYourMessage ? (isDarkMode ? 'bg-blue-600' : 'bg-blue-500') : (isDarkMode ? 'bg-slate-800' : 'bg-gray-100')}`}>\n                          <p className={isYourMessage ? 'text-white' : (isDarkMode ? 'text-slate-200' : 'text-gray-900')}>{msg.body}</p>\n                        </div>\n                        <p className={`text-xs mt-1 ${isDarkMode ? 'text-slate-500' : 'text-gray-500'}`}>\n                          {new Date(msg.created_at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                        </p>\n                      </div>\n                    </div>\n                  );\n                })\n              ) : (\n                <div className=\"flex items-center justify-center h-full\">\n                  <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>No messages yet</p>\n                </div>\n              )}\n              <div ref={messagesEndRef} />\n            </div>\n\n            {/* Message Input */}\n            <div className={`p-4 border-t ${isDarkMode ? 'border-slate-700 bg-slate-800' : 'border-gray-200 bg-white'}`}>\n              <div className=\"flex items-center gap-3\">\n                <button className={`p-2 rounded-full transition-colors ${isDarkMode ? 'hover:bg-slate-700 text-orange-500' : 'hover:bg-gray-100 text-orange-600'}`}>\n                  <Paperclip className=\"w-5 h-5\" />\n                </button>\n                <input\n                  type=\"text\"\n                  value={messageText}\n                  onChange={(e) => setMessageText(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n                  placeholder=\"Type a message...\"\n                  className={`flex-1 px-4 py-2 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n                />\n                <button className={`p-2 rounded-full transition-colors ${isDarkMode ? 'hover:bg-slate-700 text-slate-400' : 'hover:bg-gray-100 text-gray-600'}`}>\n                  <Smile className=\"w-5 h-5\" />\n                </button>\n                <button\n                  onClick={handleSendMessage}\n                  disabled={!messageText.trim()}\n                  className={`p-2 rounded-full transition-colors ${messageText.trim() ? (isDarkMode ? 'text-orange-500 hover:bg-slate-700' : 'text-orange-600 hover:bg-gray-100') : (isDarkMode ? 'text-slate-600' : 'text-gray-400')}`}\n                >\n                  <Send className=\"w-5 h-5\" />\n                </button>\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className=\"flex-1 flex items-center justify-center\">\n            <div className=\"text-center\">\n              <div className={`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 bg-gradient-to-r from-orange-600 to-orange-700`}>\n                <MessageCircle className=\"w-10 h-10 text-white\" />\n              </div>\n              <p className={`text-lg font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Select a conversation to start messaging</p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* New Chat Modal */}\n      {showNewChat && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-gradient-to-br from-slate-900 to-slate-950 rounded-2xl shadow-2xl max-w-md w-full border border-slate-800\">\n            <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4 rounded-t-2xl flex justify-between items-center\">\n              <h2 className=\"text-xl font-bold text-white\">Start New Message</h2>\n              <button\n                onClick={() => setShowNewChat(false)}\n                className=\"text-orange-200 hover:text-white transition-colors\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <div className=\"p-6 space-y-5\">\n              <div>\n                <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Recipient ID</label>\n                <input\n                  type=\"text\"\n                  value={newChatRecipient}\n                  onChange={(e) => setNewChatRecipient(e.target.value)}\n                  placeholder=\"Enter recipient ID\"\n                  className=\"w-full px-4 py-2.5 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-orange-400 mb-2\">Subject</label>\n                <input\n                  type=\"text\"\n                  value={newChatSubject}\n                  onChange={(e) => setNewChatSubject(e.target.value)}\n                  placeholder=\"Message subject\"\n                  className=\"w-full px-4 py-2.5 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all\"\n                />\n              </div>\n            </div>\n\n            <div className=\"px-6 pb-6 flex gap-3\">\n              <button\n                onClick={handleNewChat}\n                disabled={!newChatRecipient.trim() || !newChatSubject.trim()}\n                className=\"flex-1 px-4 py-2.5 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white font-semibold hover:from-orange-700 hover:to-orange-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all\"\n              >\n                Create\n              </button>\n              <button\n                onClick={() => setShowNewChat(false)}\n                className=\"flex-1 px-4 py-2.5 rounded-lg bg-slate-800 text-slate-300 font-semibold hover:bg-slate-700 transition-all border border-slate-700\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Messages;\n","import React, { useState, useEffect } from 'react';\nimport { Search, Plus, Edit2, Trash2, Eye, Megaphone, AlertCircle, CheckCircle, Clock, User, X, Loader } from 'lucide-react';\nimport Alert from '../../../components/common/UI/Alert';\nimport { useTheme } from '../../../contexts/ThemeContext';\n\nconst mockAnnouncements = [\n  { id: 1, title: 'System Maintenance', content: 'Scheduled maintenance on Friday 10 PM - 2 AM. Services will be unavailable during this period.', status: 'published', priority: 'high', author_name: 'Admin', created_at: new Date(Date.now() - 86400000).toISOString() },\n  { id: 2, title: 'New Payment Methods Available', content: 'We now support M-Pesa and PayPal for all transactions. Update your payment preferences in settings.', status: 'published', priority: 'medium', author_name: 'Finance Team', created_at: new Date(Date.now() - 172800000).toISOString() },\n  { id: 3, title: 'Q4 Performance Review', content: 'Quarterly performance reviews will be conducted next month. Please prepare your reports.', status: 'draft', priority: 'medium', author_name: 'HR', created_at: new Date(Date.now() - 259200000).toISOString() },\n  { id: 4, title: 'Security Update Required', content: 'Please update your password for enhanced security. Use the settings page to change your password.', status: 'published', priority: 'high', author_name: 'Security Team', created_at: new Date(Date.now() - 345600000).toISOString() },\n  { id: 5, title: 'New Feature: Real-time Tracking', content: 'Track your shipments in real-time with our new tracking feature. Available in the Tracking section.', status: 'published', priority: 'low', author_name: 'Product Team', created_at: new Date(Date.now() - 432000000).toISOString() }\n];\n\nconst Announcements = () => {\n  const { isDarkMode } = useTheme();\n  const [announcements, setAnnouncements] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [search, setSearch] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [page, setPage] = useState(1);\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState(null);\n  const [showViewModal, setShowViewModal] = useState(false);\n  const [showFormModal, setShowFormModal] = useState(false);\n  const [pagination, setPagination] = useState({});\n  const [formData, setFormData] = useState({ title: '', content: '', status: 'draft', priority: 'medium' });\n\n  useEffect(() => {\n    fetchAnnouncements();\n    fetchStats();\n  }, [search, statusFilter, page]);\n\n  const fetchAnnouncements = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ page, limit: 12, ...(search && { search }), ...(statusFilter && { status: statusFilter }) });\n      \n      const response = await fetch(`/api/communication/announcements?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch announcements');\n      const data = await response.json();\n      setAnnouncements(data.data || []);\n      setPagination(data.pagination || {});\n    } catch (err) {\n      setAnnouncements(mockAnnouncements);\n      setPagination({ page: 1, limit: 12, total: mockAnnouncements.length });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchStats = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/communication/announcements/stats/summary', {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch stats');\n      const data = await response.json();\n      setStats(data.data);\n    } catch (err) {\n      setStats({ total: mockAnnouncements.length, published: 4, draft: 1, high_priority: 2 });\n    }\n  };\n\n  const handleViewAnnouncement = async (announcement) => {\n    setSelectedAnnouncement(announcement);\n    setShowViewModal(true);\n  };\n\n  const handleEditAnnouncement = (announcement) => {\n    setFormData(announcement);\n    setSelectedAnnouncement(announcement);\n    setShowFormModal(true);\n  };\n\n  const handleSaveAnnouncement = async () => {\n    if (!formData.title || !formData.content) {\n      setError('Please fill all required fields');\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('token');\n      const method = selectedAnnouncement ? 'PUT' : 'POST';\n      const url = selectedAnnouncement\n        ? `/api/communication/announcements/${selectedAnnouncement.id}`\n        : '/api/communication/announcements';\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n\n      if (!response.ok) throw new Error('Failed to save announcement');\n      setFormData({ title: '', content: '', status: 'draft', priority: 'medium' });\n      setSelectedAnnouncement(null);\n      setShowFormModal(false);\n      fetchAnnouncements();\n      fetchStats();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleDeleteAnnouncement = async (announcementId) => {\n    if (!window.confirm('Are you sure you want to delete this announcement?')) return;\n\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`/api/communication/announcements/${announcementId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to delete announcement');\n      fetchAnnouncements();\n      fetchStats();\n      setShowViewModal(false);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const getStatusColor = (status) => {\n    const colors = {\n      draft: { bg: isDarkMode ? 'bg-slate-700' : 'bg-gray-100', text: isDarkMode ? 'text-slate-300' : 'text-gray-700', badge: 'bg-slate-500' },\n      published: { bg: isDarkMode ? 'bg-green-900' : 'bg-green-50', text: isDarkMode ? 'text-green-300' : 'text-green-700', badge: 'bg-green-500' },\n      archived: { bg: isDarkMode ? 'bg-red-900' : 'bg-red-50', text: isDarkMode ? 'text-red-300' : 'text-red-700', badge: 'bg-red-500' }\n    };\n    return colors[status] || colors.draft;\n  };\n\n  const getPriorityColor = (priority) => {\n    const colors = {\n      low: isDarkMode ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800',\n      medium: isDarkMode ? 'bg-yellow-900 text-yellow-300' : 'bg-yellow-100 text-yellow-800',\n      high: isDarkMode ? 'bg-red-900 text-red-300' : 'bg-red-100 text-red-800'\n    };\n    return colors[priority] || 'bg-gray-100 text-gray-800';\n  };\n\n  const getStatusIcon = (status) => {\n    const icons = {\n      draft: <Clock className=\"w-4 h-4\" />,\n      published: <CheckCircle className=\"w-4 h-4\" />,\n      archived: <AlertCircle className=\"w-4 h-4\" />\n    };\n    return icons[status] || <Megaphone className=\"w-4 h-4\" />;\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        {/* Header */}\n        <div className=\"flex justify-between items-start mb-8\">\n          <div>\n            <h1 className={`text-4xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Announcements</h1>\n            <p className={`mt-2 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Create and manage company announcements</p>\n          </div>\n          <button\n            onClick={() => { setSelectedAnnouncement(null); setFormData({ title: '', content: '', status: 'draft', priority: 'medium' }); setShowFormModal(true); }}\n            className=\"bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-6 py-3 rounded-lg flex items-center gap-2 font-medium transition-all\"\n          >\n            <Plus className=\"w-5 h-5\" /> New Announcement\n          </button>\n        </div>\n\n        {/* Stats */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Total</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{stats.total}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Published</p>\n              <p className=\"text-3xl font-bold mt-2 text-green-500\">{stats.published}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Drafts</p>\n              <p className=\"text-3xl font-bold mt-2 text-yellow-500\">{stats.draft}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>High Priority</p>\n              <p className=\"text-3xl font-bold mt-2 text-orange-500\">{stats.high_priority}</p>\n            </div>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-4 rounded-xl shadow-sm border mb-8 flex gap-4`}>\n          <div className=\"flex-1 relative\">\n            <Search className={`absolute left-3 top-3 w-5 h-5 ${isDarkMode ? 'text-slate-500' : 'text-gray-400'}`} />\n            <input\n              type=\"text\"\n              placeholder=\"Search announcements...\"\n              value={search}\n              onChange={(e) => { setSearch(e.target.value); setPage(1); }}\n              className={`w-full pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n            />\n          </div>\n          <select\n            value={statusFilter}\n            onChange={(e) => { setStatusFilter(e.target.value); setPage(1); }}\n            className={`px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100 text-gray-900'}`}\n          >\n            <option value=\"\">All Status</option>\n            <option value=\"draft\">Draft</option>\n            <option value=\"published\">Published</option>\n            <option value=\"archived\">Archived</option>\n          </select>\n        </div>\n\n        {/* Announcements Grid */}\n        {loading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <Loader className=\"w-8 h-8 animate-spin text-orange-600\" />\n          </div>\n        ) : announcements.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\n            {announcements.map((announcement) => {\n              const statusColor = getStatusColor(announcement.status);\n              return (\n                <div\n                  key={announcement.id}\n                  className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-sm border overflow-hidden hover:shadow-lg transition-all group`}\n                >\n                  {/* Card Header */}\n                  <div className={`p-6 ${statusColor.bg} border-b ${isDarkMode ? 'border-slate-700' : 'border-gray-200'}`}>\n                    <div className=\"flex items-start justify-between mb-3\">\n                      <div className=\"flex items-center gap-2\">\n                        <Megaphone className={`w-5 h-5 ${statusColor.text}`} />\n                        <span className={`px-3 py-1 rounded-full text-xs font-semibold ${getPriorityColor(announcement.priority)}`}>\n                          {announcement.priority}\n                        </span>\n                      </div>\n                      <span className={`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 ${statusColor.bg} ${statusColor.text}`}>\n                        {getStatusIcon(announcement.status)}\n                        {announcement.status}\n                      </span>\n                    </div>\n                    <h3 className={`text-lg font-bold ${statusColor.text} line-clamp-2`}>{announcement.title}</h3>\n                  </div>\n\n                  {/* Card Body */}\n                  <div className=\"p-6\">\n                    <p className={`text-sm line-clamp-3 mb-4 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>\n                      {announcement.content}\n                    </p>\n\n                    <div className={`flex items-center gap-2 text-xs ${isDarkMode ? 'text-slate-500' : 'text-gray-500'} mb-4`}>\n                      <User className=\"w-4 h-4\" />\n                      <span>{announcement.author_name}</span>\n                      <span>â€¢</span>\n                      <Clock className=\"w-4 h-4\" />\n                      <span>{new Date(announcement.created_at).toLocaleDateString()}</span>\n                    </div>\n\n                    {/* Card Actions */}\n                    <div className=\"flex gap-2\">\n                      <button\n                        onClick={() => handleViewAnnouncement(announcement)}\n                        className=\"flex-1 px-3 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white hover:from-orange-700 hover:to-orange-800 text-sm font-medium flex items-center justify-center gap-2 transition-all\"\n                      >\n                        <Eye className=\"w-4 h-4\" /> View\n                      </button>\n                      <button\n                        onClick={() => handleEditAnnouncement(announcement)}\n                        className={`flex-1 px-3 py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-all ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-gray-100 text-gray-900 hover:bg-gray-200'}`}\n                      >\n                        <Edit2 className=\"w-4 h-4\" /> Edit\n                      </button>\n                      <button\n                        onClick={() => handleDeleteAnnouncement(announcement.id)}\n                        className=\"px-3 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 text-sm font-medium transition-all\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        ) : (\n          <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-12 rounded-xl shadow-sm border text-center`}>\n            <Megaphone className={`w-12 h-12 mx-auto mb-4 ${isDarkMode ? 'text-slate-600' : 'text-gray-400'}`} />\n            <p className={`text-lg ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>No announcements found</p>\n          </div>\n        )}\n\n        {/* Pagination */}\n        {pagination.total > 0 && (\n          <div className=\"flex justify-between items-center mt-8\">\n            <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>\n              Page {pagination.page} of {Math.ceil(pagination.total / pagination.limit)}\n            </p>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setPage(Math.max(1, page - 1))}\n                disabled={page === 1}\n                className=\"px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white disabled:opacity-50 hover:from-orange-700 hover:to-orange-800 transition-all\"\n              >\n                Previous\n              </button>\n              <button\n                onClick={() => setPage(page + 1)}\n                disabled={page >= Math.ceil(pagination.total / pagination.limit)}\n                className=\"px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white disabled:opacity-50 hover:from-orange-700 hover:to-orange-800 transition-all\"\n              >\n                Next\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* View Modal */}\n        {showViewModal && selectedAnnouncement && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-lg max-w-2xl w-full max-h-96 overflow-y-auto border`}>\n              <div className={`p-6 border-b ${isDarkMode ? 'border-slate-700' : 'border-gray-200'} flex justify-between items-start bg-gradient-to-r from-orange-600 to-orange-700`}>\n                <h2 className=\"text-2xl font-bold text-white\">{selectedAnnouncement.title}</h2>\n                <button onClick={() => setShowViewModal(false)} className=\"text-orange-200 hover:text-white transition-colors\">\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              <div className=\"p-6 space-y-4\">\n                <div className=\"flex gap-4\">\n                  <span className={`px-3 py-1 rounded-full text-sm font-semibold ${getStatusColor(selectedAnnouncement.status).bg} ${getStatusColor(selectedAnnouncement.status).text}`}>\n                    {selectedAnnouncement.status}\n                  </span>\n                  <span className={`px-3 py-1 rounded-full text-sm font-semibold ${getPriorityColor(selectedAnnouncement.priority)}`}>\n                    {selectedAnnouncement.priority}\n                  </span>\n                </div>\n\n                <div>\n                  <p className={`text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Content</p>\n                  <p className={`${isDarkMode ? 'text-slate-300' : 'text-gray-700'} whitespace-pre-wrap`}>{selectedAnnouncement.content}</p>\n                </div>\n\n                <div className={`grid grid-cols-2 gap-4 pt-4 border-t ${isDarkMode ? 'border-slate-700' : 'border-gray-200'}`}>\n                  <div>\n                    <p className={`text-xs font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Author</p>\n                    <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{selectedAnnouncement.author_name}</p>\n                  </div>\n                  <div>\n                    <p className={`text-xs font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Created</p>\n                    <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{new Date(selectedAnnouncement.created_at).toLocaleString()}</p>\n                  </div>\n                </div>\n              </div>\n\n              <div className={`p-6 border-t ${isDarkMode ? 'border-slate-700' : 'border-gray-200'} flex gap-3`}>\n                <button\n                  onClick={() => { handleEditAnnouncement(selectedAnnouncement); setShowViewModal(false); }}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white hover:from-orange-700 hover:to-orange-800 font-medium transition-all\"\n                >\n                  Edit\n                </button>\n                <button\n                  onClick={() => setShowViewModal(false)}\n                  className={`flex-1 px-4 py-2 rounded-lg ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-gray-200 text-gray-900 hover:bg-gray-300'} font-medium transition-all`}\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Form Modal */}\n        {showFormModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-lg max-w-2xl w-full max-h-96 overflow-y-auto border`}>\n              <div className={`p-6 border-b ${isDarkMode ? 'border-slate-700' : 'border-gray-200'} flex justify-between items-start bg-gradient-to-r from-orange-600 to-orange-700`}>\n                <h2 className=\"text-2xl font-bold text-white\">\n                  {selectedAnnouncement ? 'Edit Announcement' : 'New Announcement'}\n                </h2>\n                <button onClick={() => setShowFormModal(false)} className=\"text-orange-200 hover:text-white transition-colors\">\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              <div className=\"p-6 space-y-4\">\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Title</label>\n                  <input\n                    type=\"text\"\n                    value={formData.title}\n                    onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                    placeholder=\"Announcement title\"\n                    className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n                  />\n                </div>\n\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Content</label>\n                  <textarea\n                    value={formData.content}\n                    onChange={(e) => setFormData({ ...formData, content: e.target.value })}\n                    placeholder=\"Announcement content\"\n                    rows=\"6\"\n                    className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Status</label>\n                    <select\n                      value={formData.status}\n                      onChange={(e) => setFormData({ ...formData, status: e.target.value })}\n                      className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100 text-gray-900'}`}\n                    >\n                      <option value=\"draft\">Draft</option>\n                      <option value=\"published\">Published</option>\n                      <option value=\"archived\">Archived</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Priority</label>\n                    <select\n                      value={formData.priority}\n                      onChange={(e) => setFormData({ ...formData, priority: e.target.value })}\n                      className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100 text-gray-900'}`}\n                    >\n                      <option value=\"low\">Low</option>\n                      <option value=\"medium\">Medium</option>\n                      <option value=\"high\">High</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n\n              <div className={`p-6 border-t ${isDarkMode ? 'border-slate-700' : 'border-gray-200'} flex gap-3`}>\n                <button\n                  onClick={handleSaveAnnouncement}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white hover:from-orange-700 hover:to-orange-800 font-medium transition-all\"\n                >\n                  Save\n                </button>\n                <button\n                  onClick={() => setShowFormModal(false)}\n                  className={`flex-1 px-4 py-2 rounded-lg ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-gray-200 text-gray-900 hover:bg-gray-300'} font-medium transition-all`}\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Announcements;\n","import React, { useState, useEffect } from 'react';\nimport { Bell, Trash2, CheckCircle, AlertCircle, Info, Zap, Loader } from 'lucide-react';\nimport Alert from '../../../components/common/UI/Alert';\nimport { useTheme } from '../../../contexts/ThemeContext';\n\nconst mockNotifications = [\n  { id: 1, title: 'New Message', message: 'You have a new message from James Kipchoge', type: 'message', is_read: false, created_at: new Date(Date.now() - 3600000).toISOString() },\n  { id: 2, title: 'System Maintenance', message: 'Scheduled maintenance on Friday 10 PM - 2 AM', type: 'announcement', is_read: false, created_at: new Date(Date.now() - 7200000).toISOString() },\n  { id: 3, title: 'Payment Received', message: 'Payment of KES 5,000 received from tenant', type: 'alert', is_read: true, created_at: new Date(Date.now() - 86400000).toISOString() },\n  { id: 4, title: 'Property Update', message: 'Your property listing has been updated successfully', type: 'system', is_read: true, created_at: new Date(Date.now() - 172800000).toISOString() },\n  { id: 5, title: 'Booking Confirmed', message: 'Your booking for property #123 has been confirmed', type: 'message', is_read: true, created_at: new Date(Date.now() - 259200000).toISOString() }\n];\n\nconst Notifications = () => {\n  const { isDarkMode } = useTheme();\n  const [notifications, setNotifications] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [type, setType] = useState('');\n  const [read, setRead] = useState('');\n  const [page, setPage] = useState(1);\n  const [pagination, setPagination] = useState({});\n\n  useEffect(() => {\n    fetchNotifications();\n    fetchStats();\n    const interval = setInterval(fetchNotifications, 10000);\n    return () => clearInterval(interval);\n  }, [type, read, page]);\n\n  const fetchNotifications = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ page, limit: 10, ...(type && { type }), ...(read && { read }) });\n      \n      const response = await fetch(`/api/communication/notifications?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch notifications');\n      const data = await response.json();\n      setNotifications(data.data || []);\n      setPagination(data.pagination || {});\n    } catch (err) {\n      setNotifications(mockNotifications);\n      setPagination({ page: 1, limit: 10, total: mockNotifications.length });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchStats = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/communication/notifications/stats/summary', {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch stats');\n      const data = await response.json();\n      setStats(data.data);\n    } catch (err) {\n      setStats({ total: mockNotifications.length, unread: 2, types: 4 });\n    }\n  };\n\n  const handleMarkAsRead = async (notificationId) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`/api/communication/notifications/${notificationId}/read`, {\n        method: 'PUT',\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to mark as read');\n      fetchNotifications();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleMarkAllAsRead = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/communication/notifications/read-all', {\n        method: 'PUT',\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to mark all as read');\n      fetchNotifications();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleDeleteNotification = async (notificationId) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`/api/communication/notifications/${notificationId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to delete notification');\n      fetchNotifications();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const getTypeIcon = (type) => {\n    const icons = {\n      message: <Bell className=\"w-5 h-5\" />,\n      announcement: <AlertCircle className=\"w-5 h-5\" />,\n      alert: <Zap className=\"w-5 h-5\" />,\n      system: <Info className=\"w-5 h-5\" />\n    };\n    return icons[type] || <Bell className=\"w-5 h-5\" />;\n  };\n\n  const getTypeColor = (type) => {\n    const colors = {\n      message: isDarkMode ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800',\n      announcement: isDarkMode ? 'bg-yellow-900 text-yellow-300' : 'bg-yellow-100 text-yellow-800',\n      alert: isDarkMode ? 'bg-red-900 text-red-300' : 'bg-red-100 text-red-800',\n      system: isDarkMode ? 'bg-slate-700 text-slate-300' : 'bg-gray-100 text-gray-800'\n    };\n    return colors[type] || 'bg-gray-100 text-gray-800';\n  };\n\n  const getTypeIconColor = (type) => {\n    const colors = {\n      message: 'text-blue-500',\n      announcement: 'text-yellow-500',\n      alert: 'text-red-500',\n      system: 'text-slate-500'\n    };\n    return colors[type] || 'text-slate-500';\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'} p-6`}>\n      <div className=\"max-w-6xl mx-auto\">\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        {/* Header */}\n        <div className=\"flex justify-between items-center mb-8\">\n          <div>\n            <h1 className={`text-4xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Notifications</h1>\n            <p className={`mt-2 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Stay updated with your notifications</p>\n          </div>\n          <button\n            onClick={handleMarkAllAsRead}\n            className=\"bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-6 py-3 rounded-lg flex items-center gap-2 font-medium transition-all\"\n          >\n            <CheckCircle className=\"w-5 h-5\" /> Mark All Read\n          </button>\n        </div>\n\n        {/* Stats */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Total</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{stats.total}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Unread</p>\n              <p className=\"text-3xl font-bold mt-2 text-orange-500\">{stats.unread}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Types</p>\n              <p className=\"text-3xl font-bold mt-2 text-orange-500\">{stats.types}</p>\n            </div>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-4 rounded-xl shadow-sm border mb-6 flex gap-4`}>\n          <select\n            value={type}\n            onChange={(e) => { setType(e.target.value); setPage(1); }}\n            className={`px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100 text-gray-900'}`}\n          >\n            <option value=\"\">All Types</option>\n            <option value=\"message\">Message</option>\n            <option value=\"announcement\">Announcement</option>\n            <option value=\"alert\">Alert</option>\n            <option value=\"system\">System</option>\n          </select>\n\n          <select\n            value={read}\n            onChange={(e) => { setRead(e.target.value); setPage(1); }}\n            className={`px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100 text-gray-900'}`}\n          >\n            <option value=\"\">All Status</option>\n            <option value=\"false\">Unread</option>\n            <option value=\"true\">Read</option>\n          </select>\n        </div>\n\n        {/* Notifications List */}\n        {loading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <Loader className=\"w-8 h-8 animate-spin text-orange-600\" />\n          </div>\n        ) : notifications.length > 0 ? (\n          <div className=\"space-y-3\">\n            {notifications.map((notification) => (\n              <div\n                key={notification.id}\n                className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-4 rounded-xl shadow-sm border hover:shadow-lg transition-all ${\n                  !notification.is_read ? (isDarkMode ? 'border-l-4 border-orange-500' : 'border-l-4 border-orange-500') : ''\n                }`}\n              >\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex items-start gap-4 flex-1\">\n                    <div className={`mt-1 p-2 rounded-lg ${isDarkMode ? 'bg-slate-700' : 'bg-gray-100'}`}>\n                      <div className={getTypeIconColor(notification.type)}>\n                        {getTypeIcon(notification.type)}\n                      </div>\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2 mb-1 flex-wrap\">\n                        <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                          {notification.title}\n                        </h3>\n                        <span className={`px-2 py-1 rounded-full text-xs font-medium ${getTypeColor(notification.type)}`}>\n                          {notification.type}\n                        </span>\n                        {!notification.is_read && (\n                          <span className={`px-2 py-1 rounded-full text-xs font-medium ${isDarkMode ? 'bg-orange-900 text-orange-300' : 'bg-orange-100 text-orange-800'}`}>New</span>\n                        )}\n                      </div>\n                      <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>\n                        {notification.message}\n                      </p>\n                      <p className={`text-xs ${isDarkMode ? 'text-slate-500' : 'text-gray-500'} mt-2`}>\n                        {new Date(notification.created_at).toLocaleString()}\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className=\"flex gap-2 ml-4\">\n                    {!notification.is_read && (\n                      <button\n                        onClick={() => handleMarkAsRead(notification.id)}\n                        className={`p-2 rounded-lg transition-colors ${isDarkMode ? 'hover:bg-slate-700 text-green-500' : 'hover:bg-gray-100 text-green-600'}`}\n                        title=\"Mark as read\"\n                      >\n                        <CheckCircle className=\"w-5 h-5\" />\n                      </button>\n                    )}\n                    <button\n                      onClick={() => handleDeleteNotification(notification.id)}\n                      className={`p-2 rounded-lg transition-colors ${isDarkMode ? 'hover:bg-slate-700 text-red-500' : 'hover:bg-gray-100 text-red-600'}`}\n                      title=\"Delete\"\n                    >\n                      <Trash2 className=\"w-5 h-5\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-12 rounded-xl shadow-sm border text-center`}>\n            <Bell className={`w-12 h-12 mx-auto mb-4 ${isDarkMode ? 'text-slate-600' : 'text-gray-400'}`} />\n            <p className={`text-lg ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>No notifications</p>\n          </div>\n        )}\n\n        {/* Pagination */}\n        {pagination.total > 0 && (\n          <div className=\"mt-6 flex justify-between items-center\">\n            <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>\n              Page {pagination.page} of {Math.ceil(pagination.total / pagination.limit)}\n            </p>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setPage(Math.max(1, page - 1))}\n                disabled={page === 1}\n                className=\"px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white disabled:opacity-50 hover:from-orange-700 hover:to-orange-800 transition-all\"\n              >\n                Previous\n              </button>\n              <button\n                onClick={() => setPage(page + 1)}\n                disabled={page >= Math.ceil(pagination.total / pagination.limit)}\n                className=\"px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white disabled:opacity-50 hover:from-orange-700 hover:to-orange-800 transition-all\"\n              >\n                Next\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Notifications;\n","import React, { useState, useEffect } from 'react';\nimport { Search, Plus, Edit2, Trash2, Eye, Copy, FileText, Loader, X } from 'lucide-react';\nimport Alert from '../../../components/common/UI/Alert';\nimport { useTheme } from '../../../contexts/ThemeContext';\n\nconst mockTemplates = [\n  { id: 1, name: 'Welcome Email', type: 'email', subject: 'Welcome to StaySpot', content: 'Welcome to our platform! We are excited to have you on board.' },\n  { id: 2, name: 'Payment Reminder', type: 'email', subject: 'Payment Due Reminder', content: 'This is a reminder that your payment is due on the specified date.' },\n  { id: 3, name: 'Booking Confirmation', type: 'sms', subject: '', content: 'Your booking has been confirmed. Booking ID: {booking_id}' },\n  { id: 4, name: 'Maintenance Alert', type: 'push', subject: '', content: 'Maintenance scheduled for your property on {date}' },\n  { id: 5, name: 'Password Reset', type: 'email', subject: 'Reset Your Password', content: 'Click the link below to reset your password: {reset_link}' }\n];\n\nconst Templates = () => {\n  const { isDarkMode } = useTheme();\n  const [templates, setTemplates] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [search, setSearch] = useState('');\n  const [type, setType] = useState('');\n  const [page, setPage] = useState(1);\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [showForm, setShowForm] = useState(false);\n  const [pagination, setPagination] = useState({});\n  const [formData, setFormData] = useState({ name: '', type: 'email', subject: '', content: '' });\n\n  useEffect(() => {\n    fetchTemplates();\n    fetchStats();\n  }, [search, type, page]);\n\n  const fetchTemplates = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ page, limit: 10, ...(search && { search }), ...(type && { type }) });\n      \n      const response = await fetch(`/api/communication/templates?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch templates');\n      const data = await response.json();\n      setTemplates(data.data || []);\n      setPagination(data.pagination || {});\n    } catch (err) {\n      setTemplates(mockTemplates);\n      setPagination({ page: 1, limit: 10, total: mockTemplates.length });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchStats = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/communication/templates/stats/summary', {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch stats');\n      const data = await response.json();\n      setStats(data.data);\n    } catch (err) {\n      setStats({ total: mockTemplates.length, types: 3 });\n    }\n  };\n\n  const handleViewTemplate = (template) => {\n    setSelectedTemplate(template);\n    setShowModal(true);\n  };\n\n  const handleSaveTemplate = async () => {\n    if (!formData.name || !formData.content) {\n      setError('Please fill all required fields');\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('token');\n      const method = selectedTemplate ? 'PUT' : 'POST';\n      const url = selectedTemplate\n        ? `/api/communication/templates/${selectedTemplate.id}`\n        : '/api/communication/templates';\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n\n      if (!response.ok) throw new Error('Failed to save template');\n      setFormData({ name: '', type: 'email', subject: '', content: '' });\n      setSelectedTemplate(null);\n      setShowForm(false);\n      fetchTemplates();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleDeleteTemplate = async (templateId) => {\n    if (!window.confirm('Delete this template?')) return;\n    \n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`/api/communication/templates/${templateId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to delete template');\n      fetchTemplates();\n      setShowModal(false);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleDuplicateTemplate = (template) => {\n    setSelectedTemplate(null);\n    setFormData({\n      name: `${template.name} (Copy)`,\n      type: template.type,\n      subject: template.subject,\n      content: template.content\n    });\n    setShowForm(true);\n  };\n\n  const getTypeColor = (type) => {\n    const colors = {\n      email: isDarkMode ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800',\n      sms: isDarkMode ? 'bg-green-900 text-green-300' : 'bg-green-100 text-green-800',\n      push: isDarkMode ? 'bg-purple-900 text-purple-300' : 'bg-purple-100 text-purple-800'\n    };\n    return colors[type] || 'bg-gray-100 text-gray-800';\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'} p-6`}>\n      <div className=\"max-w-6xl mx-auto\">\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        {/* Header */}\n        <div className=\"flex justify-between items-center mb-8\">\n          <div>\n            <h1 className={`text-4xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Templates</h1>\n            <p className={`mt-2 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Manage message templates</p>\n          </div>\n          <button\n            onClick={() => { setSelectedTemplate(null); setFormData({ name: '', type: 'email', subject: '', content: '' }); setShowForm(true); }}\n            className=\"bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-6 py-3 rounded-lg flex items-center gap-2 font-medium transition-all\"\n          >\n            <Plus className=\"w-5 h-5\" /> New Template\n          </button>\n        </div>\n\n        {/* Stats */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Total Templates</p>\n              <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{stats.total}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Types</p>\n              <p className=\"text-3xl font-bold mt-2 text-orange-500\">{stats.types}</p>\n            </div>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-4 rounded-xl shadow-sm border mb-6 flex gap-4`}>\n          <div className=\"flex-1 relative\">\n            <Search className={`absolute left-3 top-3 w-5 h-5 ${isDarkMode ? 'text-slate-500' : 'text-gray-400'}`} />\n            <input\n              type=\"text\"\n              placeholder=\"Search templates...\"\n              value={search}\n              onChange={(e) => { setSearch(e.target.value); setPage(1); }}\n              className={`w-full pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n            />\n          </div>\n          <select\n            value={type}\n            onChange={(e) => { setType(e.target.value); setPage(1); }}\n            className={`px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100 text-gray-900'}`}\n          >\n            <option value=\"\">All Types</option>\n            <option value=\"email\">Email</option>\n            <option value=\"sms\">SMS</option>\n            <option value=\"push\">Push</option>\n          </select>\n        </div>\n\n        {/* Templates Grid */}\n        {loading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <Loader className=\"w-8 h-8 animate-spin text-orange-600\" />\n          </div>\n        ) : templates.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\n            {templates.map((template) => (\n              <div key={template.id} className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-sm border overflow-hidden hover:shadow-lg transition-all`}>\n                <div className={`p-4 bg-gradient-to-r from-orange-600 to-orange-700`}>\n                  <div className=\"flex items-start justify-between mb-2\">\n                    <div className=\"flex items-center gap-2\">\n                      <FileText className=\"w-5 h-5 text-white\" />\n                      <h3 className=\"font-semibold text-white\">{template.name}</h3>\n                    </div>\n                  </div>\n                  <span className={`inline-block px-2 py-1 rounded-full text-xs font-medium ${getTypeColor(template.type)}`}>\n                    {template.type}\n                  </span>\n                </div>\n\n                <div className=\"p-4\">\n                  {template.subject && (\n                    <div className=\"mb-3\">\n                      <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Subject</p>\n                      <p className={`text-sm font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'} truncate`}>{template.subject}</p>\n                    </div>\n                  )}\n                  <div className=\"mb-4\">\n                    <p className={`text-xs ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Preview</p>\n                    <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'} line-clamp-2`}>{template.content}</p>\n                  </div>\n\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={() => handleViewTemplate(template)}\n                      className=\"flex-1 px-3 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white hover:from-orange-700 hover:to-orange-800 text-sm font-medium flex items-center justify-center gap-1 transition-all\"\n                    >\n                      <Eye className=\"w-4 h-4\" /> View\n                    </button>\n                    <button\n                      onClick={() => { setSelectedTemplate(template); setFormData(template); setShowForm(true); }}\n                      className={`flex-1 px-3 py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-all ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-gray-100 text-gray-900 hover:bg-gray-200'}`}\n                    >\n                      <Edit2 className=\"w-4 h-4\" /> Edit\n                    </button>\n                    <button\n                      onClick={() => handleDuplicateTemplate(template)}\n                      className={`px-3 py-2 rounded-lg text-sm font-medium transition-all ${isDarkMode ? 'text-orange-400 hover:bg-slate-700' : 'text-orange-600 hover:bg-gray-100'}`}\n                    >\n                      <Copy className=\"w-4 h-4\" />\n                    </button>\n                    <button\n                      onClick={() => handleDeleteTemplate(template.id)}\n                      className=\"px-3 py-2 rounded-lg text-red-600 hover:bg-red-50 text-sm font-medium transition-all\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-12 rounded-xl shadow-sm border text-center`}>\n            <FileText className={`w-12 h-12 mx-auto mb-4 ${isDarkMode ? 'text-slate-600' : 'text-gray-400'}`} />\n            <p className={`text-lg ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>No templates found</p>\n          </div>\n        )}\n\n        {/* Pagination */}\n        {pagination.total > 0 && (\n          <div className=\"flex justify-between items-center mt-8\">\n            <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>\n              Page {pagination.page} of {Math.ceil(pagination.total / pagination.limit)}\n            </p>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setPage(Math.max(1, page - 1))}\n                disabled={page === 1}\n                className=\"px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white disabled:opacity-50 hover:from-orange-700 hover:to-orange-800 transition-all\"\n              >\n                Previous\n              </button>\n              <button\n                onClick={() => setPage(page + 1)}\n                disabled={page >= Math.ceil(pagination.total / pagination.limit)}\n                className=\"px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white disabled:opacity-50 hover:from-orange-700 hover:to-orange-800 transition-all\"\n              >\n                Next\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Form Modal */}\n        {showForm && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-lg max-w-2xl w-full border`}>\n              <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4 rounded-t-xl flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold text-white\">\n                  {selectedTemplate ? 'Edit Template' : 'New Template'}\n                </h2>\n                <button onClick={() => setShowForm(false)} className=\"text-orange-200 hover:text-white transition-colors\">\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              <div className=\"p-6 space-y-4 max-h-96 overflow-y-auto\">\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Name</label>\n                  <input\n                    type=\"text\"\n                    value={formData.name}\n                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                    placeholder=\"Template name\"\n                    className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n                  />\n                </div>\n\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Type</label>\n                  <select\n                    value={formData.type}\n                    onChange={(e) => setFormData({ ...formData, type: e.target.value })}\n                    className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100 text-gray-900'}`}\n                  >\n                    <option value=\"email\">Email</option>\n                    <option value=\"sms\">SMS</option>\n                    <option value=\"push\">Push</option>\n                  </select>\n                </div>\n\n                {formData.type === 'email' && (\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Subject</label>\n                    <input\n                      type=\"text\"\n                      value={formData.subject}\n                      onChange={(e) => setFormData({ ...formData, subject: e.target.value })}\n                      placeholder=\"Email subject\"\n                      className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n                    />\n                  </div>\n                )}\n\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Content</label>\n                  <textarea\n                    value={formData.content}\n                    onChange={(e) => setFormData({ ...formData, content: e.target.value })}\n                    placeholder=\"Template content\"\n                    rows=\"6\"\n                    className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n                  />\n                </div>\n              </div>\n\n              <div className={`p-6 border-t ${isDarkMode ? 'border-slate-700' : 'border-gray-200'} flex gap-3`}>\n                <button\n                  onClick={handleSaveTemplate}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white hover:from-orange-700 hover:to-orange-800 font-medium transition-all\"\n                >\n                  Save\n                </button>\n                <button\n                  onClick={() => setShowForm(false)}\n                  className={`flex-1 px-4 py-2 rounded-lg ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-gray-200 text-gray-900 hover:bg-gray-300'} font-medium transition-all`}\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* View Modal */}\n        {showModal && selectedTemplate && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-lg max-w-2xl w-full border`}>\n              <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4 rounded-t-xl flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold text-white\">{selectedTemplate.name}</h2>\n                <button onClick={() => setShowModal(false)} className=\"text-orange-200 hover:text-white transition-colors\">\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              <div className=\"p-6 space-y-4 max-h-96 overflow-y-auto\">\n                <div>\n                  <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Type</p>\n                  <span className={`inline-block px-3 py-1 rounded-full text-sm font-medium mt-1 ${getTypeColor(selectedTemplate.type)}`}>\n                    {selectedTemplate.type}\n                  </span>\n                </div>\n\n                {selectedTemplate.subject && (\n                  <div>\n                    <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Subject</p>\n                    <p className={`font-medium mt-1 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{selectedTemplate.subject}</p>\n                  </div>\n                )}\n\n                <div>\n                  <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Content</p>\n                  <div className={`p-4 rounded-lg mt-1 ${isDarkMode ? 'bg-slate-700' : 'bg-gray-100'}`}>\n                    <p className={`${isDarkMode ? 'text-slate-300' : 'text-gray-700'} whitespace-pre-wrap`}>{selectedTemplate.content}</p>\n                  </div>\n                </div>\n              </div>\n\n              <div className={`p-6 border-t ${isDarkMode ? 'border-slate-700' : 'border-gray-200'} flex gap-3`}>\n                <button\n                  onClick={() => { setShowModal(false); setSelectedTemplate(selectedTemplate); setFormData(selectedTemplate); setShowForm(true); }}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white hover:from-orange-700 hover:to-orange-800 font-medium transition-all\"\n                >\n                  Edit\n                </button>\n                <button\n                  onClick={() => setShowModal(false)}\n                  className={`flex-1 px-4 py-2 rounded-lg ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-gray-200 text-gray-900 hover:bg-gray-300'} font-medium transition-all`}\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Templates;\n","import React, { useState, useEffect } from 'react';\nimport { Search, Activity, BarChart3, Clock, User, Loader } from 'lucide-react';\nimport Alert from '../../../components/common/UI/Alert';\nimport { useTheme } from '../../../contexts/ThemeContext';\n\nconst mockLogs = [\n  { id: 1, action: 'send', user_name: 'James Kipchoge', user_id: 'user-001', details: 'Message sent to Mary Wanjiru', created_at: new Date(Date.now() - 3600000).toISOString() },\n  { id: 2, action: 'publish', user_name: 'Admin', user_id: 'user-002', details: 'Announcement published: System Maintenance', created_at: new Date(Date.now() - 7200000).toISOString() },\n  { id: 3, action: 'delete', user_name: 'Mary Wanjiru', user_id: 'user-003', details: 'Template deleted: Old Email', created_at: new Date(Date.now() - 86400000).toISOString() },\n  { id: 4, action: 'update', user_name: 'Finance Team', user_id: 'user-004', details: 'Notification updated: Payment Reminder', created_at: new Date(Date.now() - 172800000).toISOString() },\n  { id: 5, action: 'send', user_name: 'Peter Omondi', user_id: 'user-005', details: 'Bulk message sent to 50 users', created_at: new Date(Date.now() - 259200000).toISOString() },\n  { id: 6, action: 'publish', user_name: 'Admin', user_id: 'user-002', details: 'Announcement published: New Features', created_at: new Date(Date.now() - 345600000).toISOString() }\n];\n\nconst Logs = () => {\n  const { isDarkMode } = useTheme();\n  const [logs, setLogs] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [actionStats, setActionStats] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [action, setAction] = useState('');\n  const [page, setPage] = useState(1);\n  const [pagination, setPagination] = useState({});\n\n  useEffect(() => {\n    fetchLogs();\n    fetchStats();\n    fetchActionStats();\n  }, [action, page]);\n\n  const fetchLogs = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ page, limit: 10, ...(action && { action }) });\n      \n      const response = await fetch(`/api/communication/logs?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch logs');\n      const data = await response.json();\n      setLogs(data.data || []);\n      setPagination(data.pagination || {});\n    } catch (err) {\n      setLogs(mockLogs);\n      setPagination({ page: 1, limit: 10, total: mockLogs.length });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchStats = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/communication/logs/stats/summary', {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch stats');\n      const data = await response.json();\n      setStats(data.data);\n    } catch (err) {\n      setStats({ total: mockLogs.length, actions: 4, users: 5 });\n    }\n  };\n\n  const fetchActionStats = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/communication/logs/stats/by-action', {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch action stats');\n      const data = await response.json();\n      setActionStats(data.data || []);\n    } catch (err) {\n      setActionStats([\n        { action: 'send', count: 3 },\n        { action: 'publish', count: 2 },\n        { action: 'delete', count: 1 },\n        { action: 'update', count: 1 }\n      ]);\n    }\n  };\n\n  const getActionColor = (action) => {\n    const colors = {\n      send: isDarkMode ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800',\n      publish: isDarkMode ? 'bg-green-900 text-green-300' : 'bg-green-100 text-green-800',\n      delete: isDarkMode ? 'bg-red-900 text-red-300' : 'bg-red-100 text-red-800',\n      update: isDarkMode ? 'bg-yellow-900 text-yellow-300' : 'bg-yellow-100 text-yellow-800'\n    };\n    return colors[action] || 'bg-gray-100 text-gray-800';\n  };\n\n  const getActionIcon = (action) => {\n    const icons = {\n      send: 'ðŸ“¤',\n      publish: 'ðŸ“¢',\n      delete: 'ðŸ—‘ï¸',\n      update: 'âœï¸'\n    };\n    return icons[action] || 'ðŸ“‹';\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'} p-6`}>\n      <div className=\"max-w-6xl mx-auto\">\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className={`text-4xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Activity Logs</h1>\n          <p className={`mt-2 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Track all communication activities</p>\n        </div>\n\n        {/* Stats */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Total Activities</p>\n                  <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{stats.total}</p>\n                </div>\n                <Activity className={`w-12 h-12 ${isDarkMode ? 'text-orange-600' : 'text-orange-500'} opacity-20`} />\n              </div>\n            </div>\n\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Action Types</p>\n                  <p className=\"text-3xl font-bold mt-2 text-orange-500\">{stats.actions}</p>\n                </div>\n                <BarChart3 className={`w-12 h-12 ${isDarkMode ? 'text-orange-600' : 'text-orange-500'} opacity-20`} />\n              </div>\n            </div>\n\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Active Users</p>\n                  <p className=\"text-3xl font-bold mt-2 text-orange-500\">{stats.users}</p>\n                </div>\n                <User className={`w-12 h-12 ${isDarkMode ? 'text-orange-600' : 'text-orange-500'} opacity-20`} />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Action Stats Chart */}\n        {actionStats.length > 0 && (\n          <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border mb-8`}>\n            <h2 className={`text-lg font-bold mb-6 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Activities by Type</h2>\n            <div className=\"space-y-3\">\n              {actionStats.map((stat) => {\n                const maxCount = Math.max(...actionStats.map(s => s.count));\n                const percentage = (stat.count / maxCount) * 100;\n                \n                return (\n                  <div key={stat.action}>\n                    <div className=\"flex items-center justify-between mb-1\">\n                      <span className={`text-sm font-medium ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>\n                        {getActionIcon(stat.action)} {stat.action}\n                      </span>\n                      <span className={`text-sm font-bold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>\n                        {stat.count}\n                      </span>\n                    </div>\n                    <div className={`w-full h-2 rounded-full ${isDarkMode ? 'bg-slate-700' : 'bg-gray-200'}`}>\n                      <div\n                        className=\"h-full rounded-full bg-gradient-to-r from-orange-500 to-orange-600\"\n                        style={{ width: `${percentage}%` }}\n                      />\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n\n        {/* Filter */}\n        <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-4 rounded-xl shadow-sm border mb-6`}>\n          <select\n            value={action}\n            onChange={(e) => { setAction(e.target.value); setPage(1); }}\n            className={`px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100 text-gray-900'}`}\n          >\n            <option value=\"\">All Actions</option>\n            <option value=\"send\">Send</option>\n            <option value=\"publish\">Publish</option>\n            <option value=\"delete\">Delete</option>\n            <option value=\"update\">Update</option>\n          </select>\n        </div>\n\n        {/* Logs Table */}\n        {loading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <Loader className=\"w-8 h-8 animate-spin text-orange-600\" />\n          </div>\n        ) : (\n          <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-sm border overflow-hidden`}>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className={isDarkMode ? 'bg-slate-700' : 'bg-gray-100'}>\n                  <tr>\n                    <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Action</th>\n                    <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>User</th>\n                    <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Details</th>\n                    <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Timestamp</th>\n                  </tr>\n                </thead>\n                <tbody className={`divide-y ${isDarkMode ? 'divide-slate-700' : 'divide-gray-200'}`}>\n                  {logs.map((log) => (\n                    <tr key={log.id} className={isDarkMode ? 'hover:bg-slate-700' : 'hover:bg-gray-50'}>\n                      <td className=\"px-6 py-4\">\n                        <span className={`px-3 py-1 rounded-full text-sm font-medium ${getActionColor(log.action)}`}>\n                          {getActionIcon(log.action)} {log.action}\n                        </span>\n                      </td>\n                      <td className={`px-6 py-4 ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>\n                        <div>\n                          <p className=\"font-medium\">{log.user_name}</p>\n                          <p className={`text-sm ${isDarkMode ? 'text-slate-500' : 'text-gray-500'}`}>{log.user_id?.slice(0, 8)}</p>\n                        </div>\n                      </td>\n                      <td className={`px-6 py-4 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>\n                        <p className=\"text-sm\">{log.details || 'N/A'}</p>\n                      </td>\n                      <td className={`px-6 py-4 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>\n                        <div className=\"flex items-center gap-2\">\n                          <Clock className=\"w-4 h-4\" />\n                          <span className=\"text-sm\">{new Date(log.created_at).toLocaleString()}</span>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n\n            {/* Pagination */}\n            {pagination.total > 0 && (\n              <div className={`px-6 py-4 border-t ${isDarkMode ? 'border-slate-700' : 'border-gray-200'} flex justify-between items-center`}>\n                <p className={isDarkMode ? 'text-slate-400' : 'text-gray-600'}>\n                  Page {pagination.page} of {Math.ceil(pagination.total / pagination.limit)}\n                </p>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => setPage(Math.max(1, page - 1))}\n                    disabled={page === 1}\n                    className=\"px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white disabled:opacity-50 hover:from-orange-700 hover:to-orange-800 transition-all\"\n                  >\n                    Previous\n                  </button>\n                  <button\n                    onClick={() => setPage(page + 1)}\n                    disabled={page >= Math.ceil(pagination.total / pagination.limit)}\n                    className=\"px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white disabled:opacity-50 hover:from-orange-700 hover:to-orange-800 transition-all\"\n                  >\n                    Next\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Logs;\n","import React, { useState, useEffect } from 'react';\nimport { Search, Plus, Edit2, Trash2, Copy, Zap, Activity, X, Shield, Users, Loader } from 'lucide-react';\nimport Alert from '../../../components/common/UI/Alert';\nimport { useTheme } from '../../../contexts/ThemeContext';\n\nconst mockUsers = [\n  { id: 1, name: 'James Kipchoge', email: 'james@stayspot.com', roles: 'Admin, Manager' },\n  { id: 2, name: 'Mary Wanjiru', email: 'mary@stayspot.com', roles: 'Editor' },\n  { id: 3, name: 'Peter Omondi', email: 'peter@stayspot.com', roles: 'Viewer' }\n];\n\nconst mockRoles = [\n  { id: 1, name: 'Admin', description: 'Full system access', permissions: ['create', 'read', 'update', 'delete'] },\n  { id: 2, name: 'Manager', description: 'Manage properties and users', permissions: ['create', 'read', 'update'] },\n  { id: 3, name: 'Editor', description: 'Edit content', permissions: ['read', 'update'] }\n];\n\nconst Permissions = () => {\n  const { isDarkMode } = useTheme();\n  const [activeTab, setActiveTab] = useState('roles');\n  const [roles, setRoles] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [search, setSearch] = useState('');\n  const [selectedRole, setSelectedRole] = useState(null);\n  const [showRoleModal, setShowRoleModal] = useState(false);\n  const [formData, setFormData] = useState({ name: '', description: '', permissions: [] });\n  const [selectedUsers, setSelectedUsers] = useState([]);\n\n  useEffect(() => {\n    fetchData();\n  }, [activeTab]);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n\n      if (activeTab === 'roles') {\n        const response = await fetch('/api/security/roles', {\n          headers: { 'Authorization': `Bearer ${token}` }\n        });\n        if (!response.ok) throw new Error('Failed to fetch roles');\n        const data = await response.json();\n        setRoles(data.data || []);\n      } else if (activeTab === 'users') {\n        const response = await fetch('/api/security/user-roles', {\n          headers: { 'Authorization': `Bearer ${token}` }\n        });\n        if (!response.ok) throw new Error('Failed to fetch users');\n        const data = await response.json();\n        setUsers(data.data || []);\n      }\n    } catch (err) {\n      if (activeTab === 'roles') setRoles(mockRoles);\n      else setUsers(mockUsers);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSaveRole = async () => {\n    if (!formData.name) {\n      setError('Role name is required');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      const method = selectedRole ? 'PUT' : 'POST';\n      const url = selectedRole ? `/api/security/roles/${selectedRole.id}` : '/api/security/roles';\n      \n      const response = await fetch(url, {\n        method,\n        headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData)\n      });\n\n      if (!response.ok) throw new Error('Failed to save role');\n      setFormData({ name: '', description: '', permissions: [] });\n      setSelectedRole(null);\n      setShowRoleModal(false);\n      fetchData();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleDeleteRole = async (roleId) => {\n    if (!window.confirm('Are you sure?')) return;\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`/api/security/roles/${roleId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      if (!response.ok) throw new Error('Failed to delete role');\n      fetchData();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        <div className=\"flex justify-between items-start mb-8\">\n          <div>\n            <h1 className={`text-4xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Permissions</h1>\n            <p className={`mt-2 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Manage roles and access control</p>\n          </div>\n          {activeTab === 'roles' && (\n            <button\n              onClick={() => { setSelectedRole(null); setFormData({ name: '', description: '', permissions: [] }); setShowRoleModal(true); }}\n              className=\"bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-6 py-3 rounded-lg flex items-center gap-2 font-medium transition-all\"\n            >\n              <Plus className=\"w-5 h-5\" /> New Role\n            </button>\n          )}\n        </div>\n\n        <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-sm border`}>\n          <div className=\"flex border-b overflow-x-auto\">\n            {['roles', 'users'].map((tab) => (\n              <button\n                key={tab}\n                onClick={() => { setActiveTab(tab); setSearch(''); }}\n                className={`flex-1 px-6 py-4 font-medium whitespace-nowrap ${\n                  activeTab === tab\n                    ? 'border-b-2 border-orange-600 text-orange-600'\n                    : isDarkMode ? 'text-slate-400 hover:text-slate-300' : 'text-gray-600 hover:text-gray-900'\n                }`}\n              >\n                {tab === 'roles' && <Shield className=\"w-5 h-5 inline mr-2\" />}\n                {tab === 'users' && <Users className=\"w-5 h-5 inline mr-2\" />}\n                {tab.charAt(0).toUpperCase() + tab.slice(1)}\n              </button>\n            ))}\n          </div>\n\n          <div className=\"p-4 border-b\">\n            <div className=\"relative\">\n              <Search className={`absolute left-3 top-3 w-5 h-5 ${isDarkMode ? 'text-slate-500' : 'text-gray-400'}`} />\n              <input\n                type=\"text\"\n                placeholder={activeTab === 'roles' ? 'Search roles...' : 'Search users...'}\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                className={`w-full pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n              />\n            </div>\n          </div>\n\n          <div className=\"p-6\">\n            {loading ? (\n              <div className=\"flex items-center justify-center h-64\">\n                <Loader className=\"w-8 h-8 animate-spin text-orange-600\" />\n              </div>\n            ) : activeTab === 'roles' ? (\n              <div className=\"space-y-3\">\n                {roles.map((role) => (\n                  <div key={role.id} className={`p-4 rounded-lg border ${isDarkMode ? 'bg-slate-700 border-slate-600' : 'bg-gray-50 border-gray-200'} flex items-center justify-between`}>\n                    <div className=\"flex-1\">\n                      <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{role.name}</h3>\n                      <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{role.description}</p>\n                      <div className=\"flex gap-2 mt-2\">\n                        {role.permissions && role.permissions.slice(0, 3).map((p, i) => (\n                          <span key={i} className=\"text-xs px-2 py-1 rounded bg-orange-100 text-orange-800\">{p}</span>\n                        ))}\n                        {role.permissions && role.permissions.length > 3 && <span className=\"text-xs px-2 py-1 rounded bg-gray-200 text-gray-800\">+{role.permissions.length - 3}</span>}\n                      </div>\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <button onClick={() => { setSelectedRole(role); setFormData(role); setShowRoleModal(true); }} className={`p-2 rounded-lg transition-colors ${isDarkMode ? 'text-orange-400 hover:bg-slate-600' : 'text-orange-600 hover:bg-gray-100'}`}>\n                        <Edit2 className=\"w-5 h-5\" />\n                      </button>\n                      <button onClick={() => handleDeleteRole(role.id)} className={`p-2 rounded-lg transition-colors ${isDarkMode ? 'text-red-400 hover:bg-slate-600' : 'text-red-600 hover:bg-gray-100'}`}>\n                        <Trash2 className=\"w-5 h-5\" />\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"space-y-3\">\n                {users.map((user) => (\n                  <div key={user.id} className={`p-4 rounded-lg border ${isDarkMode ? 'bg-slate-700 border-slate-600' : 'bg-gray-50 border-gray-200'} flex items-center justify-between`}>\n                    <div className=\"flex items-center gap-3 flex-1\">\n                      <input type=\"checkbox\" checked={selectedUsers.includes(user.id)} onChange={(e) => setSelectedUsers(e.target.checked ? [...selectedUsers, user.id] : selectedUsers.filter(id => id !== user.id))} className=\"w-4 h-4 rounded\" />\n                      <div>\n                        <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{user.name}</h3>\n                        <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{user.email}</p>\n                      </div>\n                    </div>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {user.roles && user.roles.split(',').map((role, idx) => (\n                        <span key={idx} className=\"px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800\">{role.trim()}</span>\n                      ))}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Role Modal */}\n        {showRoleModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-lg max-w-md w-full border`}>\n              <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4 rounded-t-xl flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold text-white\">{selectedRole ? 'Edit Role' : 'New Role'}</h2>\n                <button onClick={() => setShowRoleModal(false)} className=\"text-orange-200 hover:text-white transition-colors\">\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              <div className=\"p-6 space-y-4\">\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  placeholder=\"Role name\"\n                  className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n                />\n                <textarea\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  placeholder=\"Description\"\n                  rows=\"2\"\n                  className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n                />\n              </div>\n\n              <div className={`p-6 border-t ${isDarkMode ? 'border-slate-700' : 'border-gray-200'} flex gap-3`}>\n                <button\n                  onClick={handleSaveRole}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white hover:from-orange-700 hover:to-orange-800 font-medium transition-all\"\n                >\n                  Save Role\n                </button>\n                <button\n                  onClick={() => setShowRoleModal(false)}\n                  className={`flex-1 px-4 py-2 rounded-lg ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-gray-200 text-gray-900 hover:bg-gray-300'} font-medium transition-all`}\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Permissions;\n","import React, { useState, useEffect } from 'react';\nimport { Search, Download, Eye, Activity, Users, Shield, Zap, Clock, Loader, X } from 'lucide-react';\nimport Alert from '../../../components/common/UI/Alert';\nimport { useTheme } from '../../../contexts/ThemeContext';\n\nconst mockAuditLogs = [\n  { id: 1, action: 'create', user_name: 'James Kipchoge', resource_type: 'Property', ip_address: '192.168.1.1', created_at: new Date(Date.now() - 3600000).toISOString() },\n  { id: 2, action: 'update', user_name: 'Mary Wanjiru', resource_type: 'User', ip_address: '192.168.1.2', created_at: new Date(Date.now() - 7200000).toISOString() },\n  { id: 3, action: 'delete', user_name: 'Admin', resource_type: 'Payment', ip_address: '192.168.1.3', created_at: new Date(Date.now() - 86400000).toISOString() },\n  { id: 4, action: 'view', user_name: 'Peter Omondi', resource_type: 'Report', ip_address: '192.168.1.4', created_at: new Date(Date.now() - 172800000).toISOString() },\n  { id: 5, action: 'login', user_name: 'Grace Muthoni', resource_type: 'User', ip_address: '192.168.1.5', created_at: new Date(Date.now() - 259200000).toISOString() }\n];\n\nconst Audit = () => {\n  const { isDarkMode } = useTheme();\n  const [logs, setLogs] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [action, setAction] = useState('');\n  const [page, setPage] = useState(1);\n  const [selectedLog, setSelectedLog] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n\n  useEffect(() => {\n    fetchLogs();\n    fetchStats();\n  }, [action, page]);\n\n  const fetchLogs = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams({ page, limit: 20, ...(action && { action }) });\n      \n      const response = await fetch(`/api/security/audit?${params}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch audit logs');\n      const data = await response.json();\n      setLogs(data.data || []);\n    } catch (err) {\n      setLogs(mockAuditLogs);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchStats = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/security/audit/stats/summary', {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch stats');\n      const data = await response.json();\n      setStats(data.data);\n    } catch (err) {\n      setStats({ total_logs: mockAuditLogs.length, active_users: 5, resource_types: 4, action_types: 5 });\n    }\n  };\n\n  const handleViewLog = (log) => {\n    setSelectedLog(log);\n    setShowDetailModal(true);\n  };\n\n  const getActionColor = (action) => {\n    const colors = {\n      create: isDarkMode ? 'bg-green-900 text-green-300' : 'bg-green-100 text-green-800',\n      update: isDarkMode ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800',\n      delete: isDarkMode ? 'bg-red-900 text-red-300' : 'bg-red-100 text-red-800',\n      view: isDarkMode ? 'bg-slate-700 text-slate-300' : 'bg-gray-100 text-gray-800',\n      login: isDarkMode ? 'bg-purple-900 text-purple-300' : 'bg-purple-100 text-purple-800'\n    };\n    return colors[action] || 'bg-gray-100 text-gray-800';\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        <div className=\"flex justify-between items-start mb-8\">\n          <div>\n            <h1 className={`text-4xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Audit Logs</h1>\n            <p className={`mt-2 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Track all system activities and changes</p>\n          </div>\n          <button className=\"bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white px-6 py-3 rounded-lg flex items-center gap-2 font-medium transition-all\">\n            <Download className=\"w-5 h-5\" /> Export\n          </button>\n        </div>\n\n        {/* Stats */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Total Logs</p>\n                  <p className={`text-3xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{stats.total_logs}</p>\n                </div>\n                <Activity className=\"w-12 h-12 opacity-20\" />\n              </div>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Active Users</p>\n                  <p className=\"text-3xl font-bold mt-2 text-orange-500\">{stats.active_users}</p>\n                </div>\n                <Users className=\"w-12 h-12 opacity-20\" />\n              </div>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Resource Types</p>\n                  <p className=\"text-3xl font-bold mt-2 text-orange-500\">{stats.resource_types}</p>\n                </div>\n                <Shield className=\"w-12 h-12 opacity-20\" />\n              </div>\n            </div>\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-6 rounded-xl shadow-sm border`}>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className={`text-sm font-medium ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Action Types</p>\n                  <p className=\"text-3xl font-bold mt-2 text-orange-500\">{stats.action_types}</p>\n                </div>\n                <Zap className=\"w-12 h-12 opacity-20\" />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Filter */}\n        <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} p-4 rounded-xl shadow-sm border mb-8`}>\n          <select\n            value={action}\n            onChange={(e) => { setAction(e.target.value); setPage(1); }}\n            className={`px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100 text-gray-900'}`}\n          >\n            <option value=\"\">All Actions</option>\n            <option value=\"create\">Create</option>\n            <option value=\"update\">Update</option>\n            <option value=\"delete\">Delete</option>\n            <option value=\"view\">View</option>\n            <option value=\"login\">Login</option>\n          </select>\n        </div>\n\n        {/* Audit Logs Table */}\n        {loading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <Loader className=\"w-8 h-8 animate-spin text-orange-600\" />\n          </div>\n        ) : (\n          <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-sm border overflow-hidden`}>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className={isDarkMode ? 'bg-slate-700' : 'bg-gray-100'}>\n                  <tr>\n                    <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Date & Time</th>\n                    <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>User</th>\n                    <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Action</th>\n                    <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Resource</th>\n                    <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>IP Address</th>\n                    <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Action</th>\n                  </tr>\n                </thead>\n                <tbody className={`divide-y ${isDarkMode ? 'divide-slate-700' : 'divide-gray-200'}`}>\n                  {logs.map((log) => (\n                    <tr key={log.id} className={isDarkMode ? 'hover:bg-slate-700' : 'hover:bg-gray-50'}>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>\n                        <div className=\"flex items-center gap-2\">\n                          <Clock className=\"w-4 h-4\" />\n                          {new Date(log.created_at).toLocaleString()}\n                        </div>\n                      </td>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>\n                        {log.user_name || 'System'}\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <span className={`px-3 py-1 rounded-full text-xs font-semibold ${getActionColor(log.action)}`}>\n                          {log.action}\n                        </span>\n                      </td>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>\n                        {log.resource_type}\n                      </td>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>\n                        {log.ip_address || 'N/A'}\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <button\n                          onClick={() => handleViewLog(log)}\n                          className={`p-2 rounded-lg transition-colors ${isDarkMode ? 'text-orange-400 hover:bg-slate-700' : 'text-orange-600 hover:bg-gray-100'}`}\n                        >\n                          <Eye className=\"w-5 h-5\" />\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n\n        {/* Detail Modal */}\n        {showDetailModal && selectedLog && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-lg max-w-md w-full border`}>\n              <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4 rounded-t-xl flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold text-white\">Audit Log Details</h2>\n                <button onClick={() => setShowDetailModal(false)} className=\"text-orange-200 hover:text-white transition-colors\">\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              <div className=\"p-6 space-y-4\">\n                <div>\n                  <p className={`text-sm font-medium mb-1 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>User</p>\n                  <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{selectedLog.user_name || 'System'}</p>\n                </div>\n\n                <div>\n                  <p className={`text-sm font-medium mb-1 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Action</p>\n                  <span className={`px-3 py-1 rounded-full text-xs font-semibold ${getActionColor(selectedLog.action)}`}>\n                    {selectedLog.action}\n                  </span>\n                </div>\n\n                <div>\n                  <p className={`text-sm font-medium mb-1 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Resource Type</p>\n                  <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{selectedLog.resource_type}</p>\n                </div>\n\n                <div>\n                  <p className={`text-sm font-medium mb-1 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>IP Address</p>\n                  <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{selectedLog.ip_address || 'N/A'}</p>\n                </div>\n\n                <div>\n                  <p className={`text-sm font-medium mb-1 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Timestamp</p>\n                  <p className={`font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                    {new Date(selectedLog.created_at).toLocaleString()}\n                  </p>\n                </div>\n              </div>\n\n              <div className={`p-6 border-t ${isDarkMode ? 'border-slate-700' : 'border-gray-200'}`}>\n                <button\n                  onClick={() => setShowDetailModal(false)}\n                  className=\"w-full px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white hover:from-orange-700 hover:to-orange-800 font-medium transition-all\"\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Audit;\n","import React, { useState } from 'react';\nimport { Database, Download, Upload, Plus, X } from 'lucide-react';\nimport Alert from '../../../components/common/UI/Alert';\nimport { useTheme } from '../../../contexts/ThemeContext';\n\nconst Data = () => {\n  const { isDarkMode } = useTheme();\n  const [activeTab, setActiveTab] = useState('overview');\n  const [error, setError] = useState('');\n  const [showBackupModal, setShowBackupModal] = useState(false);\n  const [backupForm, setBackupForm] = useState({ backup_type: 'full', description: '' });\n\n  const handleCreateBackup = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/security/data/backups', {\n        method: 'POST',\n        headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' },\n        body: JSON.stringify(backupForm)\n      });\n      if (!response.ok) throw new Error('Failed to create backup');\n      setBackupForm({ backup_type: 'full', description: '' });\n      setShowBackupModal(false);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const stats = [\n    { label: 'Total Users', value: '156', icon: 'ðŸ‘¥' },\n    { label: 'Properties', value: '42', icon: 'ðŸ ' },\n    { label: 'Storage Used', value: '2.4 GB', icon: 'ðŸ’¾' },\n    { label: 'Last Backup', value: '2 hours ago', icon: 'â±ï¸' }\n  ];\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        <div className=\"flex justify-between items-start mb-8\">\n          <div>\n            <h1 className={`text-4xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Data Management</h1>\n            <p className={`mt-2 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Manage backups, exports, and data settings</p>\n          </div>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          {stats.map((stat, idx) => (\n            <div key={idx} className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'}`}>\n              <div className=\"flex items-center justify-between mb-3\">\n                <span className=\"text-2xl\">{stat.icon}</span>\n              </div>\n              <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{stat.label}</p>\n              <p className={`text-2xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{stat.value}</p>\n            </div>\n          ))}\n        </div>\n\n        {/* Tabs */}\n        <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-sm border`}>\n          <div className=\"flex border-b overflow-x-auto\">\n            {['overview', 'backups', 'exports'].map((tab) => (\n              <button\n                key={tab}\n                onClick={() => setActiveTab(tab)}\n                className={`flex-1 px-6 py-4 font-medium whitespace-nowrap ${\n                  activeTab === tab\n                    ? 'border-b-2 border-orange-600 text-orange-600'\n                    : isDarkMode ? 'text-slate-400 hover:text-slate-300' : 'text-gray-600 hover:text-gray-900'\n                }`}\n              >\n                {tab.charAt(0).toUpperCase() + tab.slice(1)}\n              </button>\n            ))}\n          </div>\n\n          <div className=\"p-6\">\n            {activeTab === 'overview' && (\n              <div className=\"space-y-4\">\n                <p className={`text-lg ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Data management overview and statistics</p>\n                <button onClick={() => setShowBackupModal(true)} className=\"px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition\">\n                  <Plus className=\"w-5 h-5 inline mr-2\" /> Create Backup\n                </button>\n              </div>\n            )}\n            {activeTab === 'backups' && (\n              <div className=\"space-y-4\">\n                <button onClick={() => setShowBackupModal(true)} className=\"px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition\">\n                  <Plus className=\"w-5 h-5 inline mr-2\" /> Create Backup\n                </button>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>No backups yet</p>\n              </div>\n            )}\n            {activeTab === 'exports' && (\n              <div className=\"space-y-4\">\n                <button className=\"px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition\">\n                  <Download className=\"w-5 h-5 inline mr-2\" /> Export Data\n                </button>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>No exports yet</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Backup Modal */}\n        {showBackupModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-lg max-w-md w-full border`}>\n              <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4 rounded-t-xl flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold text-white\">Create Backup</h2>\n                <button onClick={() => setShowBackupModal(false)} className=\"text-orange-200 hover:text-white transition-colors\">\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              <div className=\"p-6 space-y-4\">\n                <select\n                  value={backupForm.backup_type}\n                  onChange={(e) => setBackupForm({ ...backupForm, backup_type: e.target.value })}\n                  className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100 text-gray-900'}`}\n                >\n                  <option value=\"full\">Full Backup</option>\n                  <option value=\"incremental\">Incremental Backup</option>\n                </select>\n\n                <textarea\n                  value={backupForm.description}\n                  onChange={(e) => setBackupForm({ ...backupForm, description: e.target.value })}\n                  placeholder=\"Optional description\"\n                  rows=\"3\"\n                  className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n                />\n              </div>\n\n              <div className={`p-6 border-t ${isDarkMode ? 'border-slate-700' : 'border-gray-200'} flex gap-3`}>\n                <button\n                  onClick={handleCreateBackup}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white hover:from-orange-700 hover:to-orange-800 font-medium transition-all\"\n                >\n                  Create\n                </button>\n                <button\n                  onClick={() => setShowBackupModal(false)}\n                  className={`flex-1 px-4 py-2 rounded-lg ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-gray-200 text-gray-900 hover:bg-gray-300'} font-medium transition-all`}\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Data;\n","import React, { useState } from 'react';\nimport { CheckCircle, AlertCircle, FileText, Award, Plus, X } from 'lucide-react';\nimport Alert from '../../../components/common/UI/Alert';\nimport { useTheme } from '../../../contexts/ThemeContext';\n\nconst Compliance = () => {\n  const { isDarkMode } = useTheme();\n  const [activeTab, setActiveTab] = useState('overview');\n  const [error, setError] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [modalType, setModalType] = useState('');\n  const [formData, setFormData] = useState({ name: '', description: '' });\n\n  const handleSubmit = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      let endpoint = '';\n\n      if (modalType === 'standard') {\n        endpoint = '/api/security/compliance/standards';\n      } else if (modalType === 'certification') {\n        endpoint = '/api/security/compliance/certifications';\n      }\n\n      const response = await fetch(endpoint, {\n        method: 'POST',\n        headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData)\n      });\n\n      if (!response.ok) throw new Error('Failed to create');\n      setFormData({ name: '', description: '' });\n      setShowModal(false);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const stats = [\n    { label: 'Standards', value: '8', icon: 'ðŸ“‹' },\n    { label: 'Active Certifications', value: '5', icon: 'ðŸ†' },\n    { label: 'Completed Audits', value: '12', icon: 'âœ…' },\n    { label: 'Open Violations', value: '2', icon: 'âš ï¸' }\n  ];\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n        <div className=\"flex justify-between items-start mb-8\">\n          <div>\n            <h1 className={`text-4xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Compliance Management</h1>\n            <p className={`mt-2 ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Track standards, certifications, and audits</p>\n          </div>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          {stats.map((stat, idx) => (\n            <div key={idx} className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'}`}>\n              <div className=\"flex items-center justify-between mb-3\">\n                <span className=\"text-2xl\">{stat.icon}</span>\n              </div>\n              <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{stat.label}</p>\n              <p className={`text-2xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{stat.value}</p>\n            </div>\n          ))}\n        </div>\n\n        {/* Tabs */}\n        <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-sm border`}>\n          <div className=\"flex border-b overflow-x-auto\">\n            {['overview', 'standards', 'certifications', 'audits'].map((tab) => (\n              <button\n                key={tab}\n                onClick={() => setActiveTab(tab)}\n                className={`flex-1 px-6 py-4 font-medium whitespace-nowrap ${\n                  activeTab === tab\n                    ? 'border-b-2 border-orange-600 text-orange-600'\n                    : isDarkMode ? 'text-slate-400 hover:text-slate-300' : 'text-gray-600 hover:text-gray-900'\n                }`}\n              >\n                {tab.charAt(0).toUpperCase() + tab.slice(1)}\n              </button>\n            ))}\n          </div>\n\n          <div className=\"p-6\">\n            {activeTab === 'overview' && (\n              <div className=\"space-y-4\">\n                <p className={`text-lg ${isDarkMode ? 'text-slate-300' : 'text-gray-700'}`}>Compliance overview and status</p>\n              </div>\n            )}\n            {activeTab === 'standards' && (\n              <div className=\"space-y-4\">\n                <button\n                  onClick={() => { setModalType('standard'); setShowModal(true); }}\n                  className=\"px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition\"\n                >\n                  <Plus className=\"w-5 h-5 inline mr-2\" /> Add Standard\n                </button>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>No standards added yet</p>\n              </div>\n            )}\n            {activeTab === 'certifications' && (\n              <div className=\"space-y-4\">\n                <button\n                  onClick={() => { setModalType('certification'); setShowModal(true); }}\n                  className=\"px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition\"\n                >\n                  <Plus className=\"w-5 h-5 inline mr-2\" /> Add Certification\n                </button>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>No certifications added yet</p>\n              </div>\n            )}\n            {activeTab === 'audits' && (\n              <div className=\"space-y-4\">\n                <button className=\"px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition\">\n                  <Plus className=\"w-5 h-5 inline mr-2\" /> Create Audit\n                </button>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>No audits yet</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Modal */}\n        {showModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-lg max-w-md w-full border`}>\n              <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4 rounded-t-xl flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold text-white\">\n                  {modalType === 'standard' && 'Add Standard'}\n                  {modalType === 'certification' && 'Add Certification'}\n                </h2>\n                <button onClick={() => setShowModal(false)} className=\"text-orange-200 hover:text-white transition-colors\">\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              <div className=\"p-6 space-y-4\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Name\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n                />\n                <textarea\n                  placeholder=\"Description\"\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  rows=\"3\"\n                  className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n                />\n              </div>\n\n              <div className={`p-6 border-t ${isDarkMode ? 'border-slate-700' : 'border-gray-200'} flex gap-3`}>\n                <button\n                  onClick={handleSubmit}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white hover:from-orange-700 hover:to-orange-800 font-medium transition-all\"\n                >\n                  Create\n                </button>\n                <button\n                  onClick={() => setShowModal(false)}\n                  className={`flex-1 px-4 py-2 rounded-lg ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-gray-200 text-gray-900 hover:bg-gray-300'} font-medium transition-all`}\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Compliance;\n","import React, { useState, useEffect } from 'react';\nimport { Settings, Bell, Lock, Code, Webhook, Eye, Copy, Trash2, Plus, X, Save, AlertCircle, Palette, Mail, Database } from 'lucide-react';\nimport { useTheme } from '../../contexts/ThemeContext';\n\nconst CompanySettings = () => {\n  const { isDarkMode } = useTheme();\n  const [activeTab, setActiveTab] = useState('general');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [stats, setStats] = useState(null);\n\n  const [companySettings, setCompanySettings] = useState({ company_name: '', company_email: '', company_phone: '', timezone: 'UTC', language: 'en', currency: 'USD' });\n  const [notificationSettings, setNotificationSettings] = useState({ email_alerts: true, sms_alerts: false, push_notifications: true, digest_frequency: 'daily' });\n  const [securitySettings, setSecuritySettings] = useState({ two_factor_auth: false, session_timeout: 30, ip_whitelist: [], password_policy: {} });\n  const [widgets, setWidgets] = useState([]);\n  const [integrations, setIntegrations] = useState([]);\n  const [apiKeys, setApiKeys] = useState([]);\n  const [webhooks, setWebhooks] = useState([]);\n  const [showApiModal, setShowApiModal] = useState(false);\n  const [showWebhookModal, setShowWebhookModal] = useState(false);\n  const [apiKeyName, setApiKeyName] = useState('');\n  const [webhookUrl, setWebhookUrl] = useState('');\n  const [themeSettings, setThemeSettings] = useState({ primary_color: '#3B82F6', secondary_color: '#8B5CF6', accent_color: '#EC4899', font_family: 'Inter' });\n  const [emailSettings, setEmailSettings] = useState({ smtp_host: '', smtp_port: 587, from_email: '', from_name: '' });\n  const [backupSettings, setBackupSettings] = useState({ auto_backup: true, backup_frequency: 'daily', retention_days: 30 });\n\n  useEffect(() => {\n    fetchAllData();\n  }, [activeTab]);\n\n  const fetchAllData = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n\n      if (activeTab === 'general') {\n        const res = await fetch('/api/settings/company', { headers: { 'Authorization': `Bearer ${token}` } });\n        if (res.ok) setCompanySettings((await res.json()).data);\n      } else if (activeTab === 'notifications') {\n        const res = await fetch('/api/settings/notifications', { headers: { 'Authorization': `Bearer ${token}` } });\n        if (res.ok) setNotificationSettings((await res.json()).data);\n      } else if (activeTab === 'security') {\n        const res = await fetch('/api/settings/security', { headers: { 'Authorization': `Bearer ${token}` } });\n        if (res.ok) setSecuritySettings((await res.json()).data);\n      } else if (activeTab === 'dashboard') {\n        const res = await fetch('/api/settings/dashboard/widgets', { headers: { 'Authorization': `Bearer ${token}` } });\n        if (res.ok) setWidgets((await res.json()).data);\n      } else if (activeTab === 'integrations') {\n        const res = await fetch('/api/settings/integrations', { headers: { 'Authorization': `Bearer ${token}` } });\n        if (res.ok) setIntegrations((await res.json()).data);\n      } else if (activeTab === 'api') {\n        const res = await fetch('/api/settings/api-keys', { headers: { 'Authorization': `Bearer ${token}` } });\n        if (res.ok) setApiKeys((await res.json()).data);\n      } else if (activeTab === 'webhooks') {\n        const res = await fetch('/api/settings/webhooks', { headers: { 'Authorization': `Bearer ${token}` } });\n        if (res.ok) setWebhooks((await res.json()).data);\n      }\n\n      const statsRes = await fetch('/api/settings/stats', { headers: { 'Authorization': `Bearer ${token}` } });\n      if (statsRes.ok) setStats((await statsRes.json()).data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSaveCompanySettings = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch('/api/settings/company', {\n        method: 'PUT',\n        headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' },\n        body: JSON.stringify(companySettings)\n      });\n      if (!res.ok) throw new Error('Failed to save');\n      setSuccess('Company settings saved');\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleSaveNotifications = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch('/api/settings/notifications', {\n        method: 'PUT',\n        headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' },\n        body: JSON.stringify(notificationSettings)\n      });\n      if (!res.ok) throw new Error('Failed to save');\n      setSuccess('Notification settings saved');\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleSaveSecurity = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch('/api/settings/security', {\n        method: 'PUT',\n        headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' },\n        body: JSON.stringify(securitySettings)\n      });\n      if (!res.ok) throw new Error('Failed to save');\n      setSuccess('Security settings saved');\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleCreateApiKey = async () => {\n    if (!apiKeyName) {\n      setError('API key name required');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch('/api/settings/api-keys', {\n        method: 'POST',\n        headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name: apiKeyName })\n      });\n      if (!res.ok) throw new Error('Failed to create');\n      setApiKeyName('');\n      setShowApiModal(false);\n      fetchAllData();\n      setSuccess('API key created');\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleDeleteApiKey = async (keyId) => {\n    if (!window.confirm('Delete this API key?')) return;\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch(`/api/settings/api-keys/${keyId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      if (!res.ok) throw new Error('Failed to delete');\n      fetchAllData();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleCreateWebhook = async () => {\n    if (!webhookUrl || webhookEvents.length === 0) {\n      setError('URL and events required');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch('/api/settings/webhooks', {\n        method: 'POST',\n        headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' },\n        body: JSON.stringify({ url: webhookUrl, events: webhookEvents })\n      });\n      if (!res.ok) throw new Error('Failed to create');\n      setWebhookUrl('');\n      setWebhookEvents([]);\n      setShowWebhookModal(false);\n      fetchAllData();\n      setSuccess('Webhook created');\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleDeleteWebhook = async (webhookId) => {\n    if (!window.confirm('Delete this webhook?')) return;\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch(`/api/settings/webhooks/${webhookId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      if (!res.ok) throw new Error('Failed to delete');\n      fetchAllData();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'} p-6`}>\n      <div className=\"max-w-7xl mx-auto\">\n        {error && <div className={`mb-4 p-4 rounded-lg ${isDarkMode ? 'bg-red-900/20 text-red-400' : 'bg-red-100 text-red-800'}`}>{error}</div>}\n        {success && <div className={`mb-4 p-4 rounded-lg ${isDarkMode ? 'bg-green-900/20 text-green-400' : 'bg-green-100 text-green-800'}`}>{success}</div>}\n\n        <div className=\"mb-8\">\n          <h1 className={`text-4xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Settings</h1>\n          <p className={`mt-2 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Customize your dashboard and manage integrations</p>\n        </div>\n\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8\">\n            <div className={`${isDarkMode ? 'bg-gray-800' : 'bg-white'} p-4 rounded-lg border ${isDarkMode ? 'border-gray-700' : 'border-gray-200'}`}>\n              <p className={`text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>API Keys</p>\n              <p className=\"text-2xl font-bold text-blue-600\">{stats.total_api_keys}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-gray-800' : 'bg-white'} p-4 rounded-lg border ${isDarkMode ? 'border-gray-700' : 'border-gray-200'}`}>\n              <p className={`text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Active Webhooks</p>\n              <p className=\"text-2xl font-bold text-green-600\">{stats.active_webhooks}</p>\n            </div>\n            <div className={`${isDarkMode ? 'bg-gray-800' : 'bg-white'} p-4 rounded-lg border ${isDarkMode ? 'border-gray-700' : 'border-gray-200'}`}>\n              <p className={`text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Integrations</p>\n              <p className=\"text-2xl font-bold text-purple-600\">{stats.enabled_integrations}</p>\n            </div>\n          </div>\n        )}\n\n        <div className={`${isDarkMode ? 'bg-gray-800' : 'bg-white'} rounded-xl shadow-sm border ${isDarkMode ? 'border-gray-700' : 'border-gray-200'}`}>\n          <div className=\"flex border-b overflow-x-auto\">\n            {['general', 'themes', 'notifications', 'security', 'email', 'backup', 'integrations', 'api', 'webhooks'].map((tab) => (\n              <button key={tab} onClick={() => setActiveTab(tab)} className={`flex-1 px-6 py-4 font-medium whitespace-nowrap ${activeTab === tab ? 'border-b-2 border-blue-600 text-blue-600' : isDarkMode ? 'text-gray-400 hover:text-gray-300' : 'text-gray-600 hover:text-gray-900'}`}>\n                {tab.charAt(0).toUpperCase() + tab.slice(1)}\n              </button>\n            ))}\n          </div>\n\n          <div className=\"p-6\">\n            {loading ? (\n              <div className=\"flex items-center justify-center h-64\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n              </div>\n            ) : activeTab === 'general' ? (\n              <div className=\"space-y-6 max-w-2xl\">\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>Company Name</label>\n                  <input type=\"text\" value={companySettings.company_name} onChange={(e) => setCompanySettings({...companySettings, company_name: e.target.value})} className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`} />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>Email</label>\n                  <input type=\"email\" value={companySettings.company_email} onChange={(e) => setCompanySettings({...companySettings, company_email: e.target.value})} className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`} />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>Phone</label>\n                  <input type=\"tel\" value={companySettings.company_phone} onChange={(e) => setCompanySettings({...companySettings, company_phone: e.target.value})} className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`} />\n                </div>\n                <div className=\"grid grid-cols-3 gap-4\">\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>Timezone</label>\n                    <select value={companySettings.timezone} onChange={(e) => setCompanySettings({...companySettings, timezone: e.target.value})} className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`}>\n                      <option>UTC</option>\n                      <option>EST</option>\n                      <option>CST</option>\n                      <option>PST</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>Language</label>\n                    <select value={companySettings.language} onChange={(e) => setCompanySettings({...companySettings, language: e.target.value})} className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`}>\n                      <option value=\"en\">English</option>\n                      <option value=\"es\">Spanish</option>\n                      <option value=\"fr\">French</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>Currency</label>\n                    <select value={companySettings.currency} onChange={(e) => setCompanySettings({...companySettings, currency: e.target.value})} className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`}>\n                      <option value=\"USD\">USD</option>\n                      <option value=\"EUR\">EUR</option>\n                      <option value=\"GBP\">GBP</option>\n                    </select>\n                  </div>\n                </div>\n                <button onClick={handleSaveCompanySettings} className=\"w-full px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium flex items-center justify-center gap-2\">\n                  <Save className=\"w-5 h-5\" /> Save Changes\n                </button>\n              </div>\n            ) : activeTab === 'notifications' ? (\n              <div className=\"space-y-6 max-w-2xl\">\n                <div className=\"space-y-4\">\n                  <label className=\"flex items-center gap-3 cursor-pointer\">\n                    <input type=\"checkbox\" checked={notificationSettings.email_alerts} onChange={(e) => setNotificationSettings({...notificationSettings, email_alerts: e.target.checked})} className=\"w-4 h-4 rounded\" />\n                    <span className={isDarkMode ? 'text-gray-300' : 'text-gray-700'}>Email Alerts</span>\n                  </label>\n                  <label className=\"flex items-center gap-3 cursor-pointer\">\n                    <input type=\"checkbox\" checked={notificationSettings.sms_alerts} onChange={(e) => setNotificationSettings({...notificationSettings, sms_alerts: e.target.checked})} className=\"w-4 h-4 rounded\" />\n                    <span className={isDarkMode ? 'text-gray-300' : 'text-gray-700'}>SMS Alerts</span>\n                  </label>\n                  <label className=\"flex items-center gap-3 cursor-pointer\">\n                    <input type=\"checkbox\" checked={notificationSettings.push_notifications} onChange={(e) => setNotificationSettings({...notificationSettings, push_notifications: e.target.checked})} className=\"w-4 h-4 rounded\" />\n                    <span className={isDarkMode ? 'text-gray-300' : 'text-gray-700'}>Push Notifications</span>\n                  </label>\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>Digest Frequency</label>\n                  <select value={notificationSettings.digest_frequency} onChange={(e) => setNotificationSettings({...notificationSettings, digest_frequency: e.target.value})} className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`}>\n                    <option value=\"instant\">Instant</option>\n                    <option value=\"daily\">Daily</option>\n                    <option value=\"weekly\">Weekly</option>\n                  </select>\n                </div>\n                <button onClick={handleSaveNotifications} className=\"w-full px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium flex items-center justify-center gap-2\">\n                  <Save className=\"w-5 h-5\" /> Save Changes\n                </button>\n              </div>\n            ) : activeTab === 'security' ? (\n              <div className=\"space-y-6 max-w-2xl\">\n                <label className=\"flex items-center gap-3 cursor-pointer\">\n                  <input type=\"checkbox\" checked={securitySettings.two_factor_auth} onChange={(e) => setSecuritySettings({...securitySettings, two_factor_auth: e.target.checked})} className=\"w-4 h-4 rounded\" />\n                  <span className={isDarkMode ? 'text-gray-300' : 'text-gray-700'}>Two-Factor Authentication</span>\n                </label>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>Session Timeout (minutes)</label>\n                  <input type=\"number\" value={securitySettings.session_timeout} onChange={(e) => setSecuritySettings({...securitySettings, session_timeout: parseInt(e.target.value)})} min=\"5\" max=\"1440\" className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`} />\n                </div>\n                <button onClick={handleSaveSecurity} className=\"w-full px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium flex items-center justify-center gap-2\">\n                  <Save className=\"w-5 h-5\" /> Save Changes\n                </button>\n              </div>\n            ) : activeTab === 'themes' ? (\n              <div className=\"space-y-6 max-w-2xl\">\n                <div>\n                  <label className={`block text-sm font-medium mb-4 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>Color Scheme</label>\n                  <div className=\"grid grid-cols-3 gap-4\">\n                    <div>\n                      <label className={`block text-xs font-medium mb-2 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Primary</label>\n                      <input type=\"color\" value={themeSettings.primary_color} onChange={(e) => setThemeSettings({...themeSettings, primary_color: e.target.value})} className=\"w-full h-10 rounded-lg cursor-pointer\" />\n                    </div>\n                    <div>\n                      <label className={`block text-xs font-medium mb-2 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Secondary</label>\n                      <input type=\"color\" value={themeSettings.secondary_color} onChange={(e) => setThemeSettings({...themeSettings, secondary_color: e.target.value})} className=\"w-full h-10 rounded-lg cursor-pointer\" />\n                    </div>\n                    <div>\n                      <label className={`block text-xs font-medium mb-2 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Accent</label>\n                      <input type=\"color\" value={themeSettings.accent_color} onChange={(e) => setThemeSettings({...themeSettings, accent_color: e.target.value})} className=\"w-full h-10 rounded-lg cursor-pointer\" />\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>Font Family</label>\n                  <select value={themeSettings.font_family} onChange={(e) => setThemeSettings({...themeSettings, font_family: e.target.value})} className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`}>\n                    <option value=\"Inter\">Inter</option>\n                    <option value=\"Poppins\">Poppins</option>\n                    <option value=\"Roboto\">Roboto</option>\n                    <option value=\"Playfair\">Playfair Display</option>\n                  </select>\n                </div>\n                <button onClick={handleSaveCompanySettings} className=\"w-full px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium flex items-center justify-center gap-2\">\n                  <Save className=\"w-5 h-5\" /> Save Theme\n                </button>\n              </div>\n            ) : activeTab === 'email' ? (\n              <div className=\"space-y-6 max-w-2xl\">\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>SMTP Host</label>\n                  <input type=\"text\" value={emailSettings.smtp_host} onChange={(e) => setEmailSettings({...emailSettings, smtp_host: e.target.value})} placeholder=\"smtp.gmail.com\" className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`} />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>From Email</label>\n                  <input type=\"email\" value={emailSettings.from_email} onChange={(e) => setEmailSettings({...emailSettings, from_email: e.target.value})} className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`} />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>From Name</label>\n                  <input type=\"text\" value={emailSettings.from_name} onChange={(e) => setEmailSettings({...emailSettings, from_name: e.target.value})} className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`} />\n                </div>\n                <button onClick={handleSaveCompanySettings} className=\"w-full px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium flex items-center justify-center gap-2\">\n                  <Save className=\"w-5 h-5\" /> Save Email Settings\n                </button>\n              </div>\n            ) : activeTab === 'backup' ? (\n              <div className=\"space-y-6 max-w-2xl\">\n                <label className=\"flex items-center gap-3 cursor-pointer\">\n                  <input type=\"checkbox\" checked={backupSettings.auto_backup} onChange={(e) => setBackupSettings({...backupSettings, auto_backup: e.target.checked})} className=\"w-4 h-4 rounded\" />\n                  <span className={isDarkMode ? 'text-gray-300' : 'text-gray-700'}>Enable Automatic Backups</span>\n                </label>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>Backup Frequency</label>\n                  <select value={backupSettings.backup_frequency} onChange={(e) => setBackupSettings({...backupSettings, backup_frequency: e.target.value})} className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`}>\n                    <option value=\"daily\">Daily</option>\n                    <option value=\"weekly\">Weekly</option>\n                    <option value=\"monthly\">Monthly</option>\n                  </select>\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>Retention Days</label>\n                  <input type=\"number\" value={backupSettings.retention_days} onChange={(e) => setBackupSettings({...backupSettings, retention_days: parseInt(e.target.value)})} min=\"7\" max=\"365\" className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`} />\n                </div>\n                <button onClick={handleSaveCompanySettings} className=\"w-full px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium flex items-center justify-center gap-2\">\n                  <Save className=\"w-5 h-5\" /> Save Backup Settings\n                </button>\n              </div>\n            ) : activeTab === 'integrations' ? (\n              <div className={`p-4 rounded-lg ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>\n                <p className={isDarkMode ? 'text-gray-300' : 'text-gray-700'}>Integration management coming soon</p>\n              </div>\n            ) : activeTab === 'dashboard' ? (\n              <div className={`p-4 rounded-lg ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>\n                <p className={isDarkMode ? 'text-gray-300' : 'text-gray-700'}>Dashboard customization coming soon</p>\n              </div>\n            ) : activeTab === 'api' ? (\n              <div className=\"space-y-4\">\n                <button onClick={() => setShowApiModal(true)} className=\"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium flex items-center gap-2\">\n                  <Plus className=\"w-5 h-5\" /> Create API Key\n                </button>\n                {apiKeys.map((key) => (\n                  <div key={key.id} className={`p-4 rounded-lg border ${isDarkMode ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'} flex items-center justify-between`}>\n                    <div>\n                      <p className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{key.name}</p>\n                      <p className={`text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>{key.key_prefix}...</p>\n                    </div>\n                    <button onClick={() => handleDeleteApiKey(key.id)} className=\"p-2 text-red-600 hover:bg-red-100 rounded-lg\">\n                      <Trash2 className=\"w-5 h-5\" />\n                    </button>\n                  </div>\n                ))}\n              </div>\n            ) : activeTab === 'webhooks' ? (\n              <div className=\"space-y-4\">\n                <button onClick={() => setShowWebhookModal(true)} className=\"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium flex items-center gap-2\">\n                  <Plus className=\"w-5 h-5\" /> Create Webhook\n                </button>\n                {webhooks.map((webhook) => (\n                  <div key={webhook.id} className={`p-4 rounded-lg border ${isDarkMode ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'} flex items-center justify-between`}>\n                    <div>\n                      <p className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{webhook.url}</p>\n                      <p className={`text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>{webhook.active ? 'Active' : 'Inactive'}</p>\n                    </div>\n                    <button onClick={() => handleDeleteWebhook(webhook.id)} className=\"p-2 text-red-600 hover:bg-red-100 rounded-lg\">\n                      <Trash2 className=\"w-5 h-5\" />\n                    </button>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className={`p-4 rounded-lg ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>\n                <p className={isDarkMode ? 'text-gray-300' : 'text-gray-700'}>Coming soon</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* API Key Modal */}\n        {showApiModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className={`${isDarkMode ? 'bg-gray-800' : 'bg-white'} rounded-xl shadow-lg max-w-md w-full`}>\n              <div className={`p-6 border-b ${isDarkMode ? 'border-gray-700' : 'border-gray-200'} flex justify-between items-start`}>\n                <h2 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Create API Key</h2>\n                <button onClick={() => setShowApiModal(false)} className=\"text-gray-500 hover:text-gray-700\"><X className=\"w-6 h-6\" /></button>\n              </div>\n              <div className=\"p-6 space-y-4\">\n                <input type=\"text\" placeholder=\"API Key Name\" value={apiKeyName} onChange={(e) => setApiKeyName(e.target.value)} className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`} />\n              </div>\n              <div className={`p-6 border-t ${isDarkMode ? 'border-gray-700' : 'border-gray-200'} flex gap-3`}>\n                <button onClick={handleCreateApiKey} className=\"flex-1 px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium\">Create</button>\n                <button onClick={() => setShowApiModal(false)} className={`flex-1 px-4 py-2 rounded-lg ${isDarkMode ? 'bg-gray-700 text-white hover:bg-gray-600' : 'bg-gray-200 text-gray-900 hover:bg-gray-300'} font-medium`}>Cancel</button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Webhook Modal */}\n        {showWebhookModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className={`${isDarkMode ? 'bg-gray-800' : 'bg-white'} rounded-xl shadow-lg max-w-md w-full`}>\n              <div className={`p-6 border-b ${isDarkMode ? 'border-gray-700' : 'border-gray-200'} flex justify-between items-start`}>\n                <h2 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Create Webhook</h2>\n                <button onClick={() => setShowWebhookModal(false)} className=\"text-gray-500 hover:text-gray-700\"><X className=\"w-6 h-6\" /></button>\n              </div>\n              <div className=\"p-6 space-y-4\">\n                <input type=\"url\" placeholder=\"Webhook URL\" value={webhookUrl} onChange={(e) => setWebhookUrl(e.target.value)} className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`} />\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>Events</label>\n                  {['user.created', 'user.updated', 'payment.completed', 'order.placed'].map((event) => (\n                    <label key={event} className=\"flex items-center gap-2 cursor-pointer mb-2\">\n                      <input type=\"checkbox\" checked={webhookEvents.includes(event)} onChange={(e) => setWebhookEvents(e.target.checked ? [...webhookEvents, event] : webhookEvents.filter(ev => ev !== event))} className=\"w-4 h-4 rounded\" />\n                      <span className={`text-sm ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>{event}</span>\n                    </label>\n                  ))}\n                </div>\n              </div>\n              <div className={`p-6 border-t ${isDarkMode ? 'border-gray-700' : 'border-gray-200'} flex gap-3`}>\n                <button onClick={handleCreateWebhook} className=\"flex-1 px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium\">Create</button>\n                <button onClick={() => setShowWebhookModal(false)} className={`flex-1 px-4 py-2 rounded-lg ${isDarkMode ? 'bg-gray-700 text-white hover:bg-gray-600' : 'bg-gray-200 text-gray-900 hover:bg-gray-300'} font-medium`}>Cancel</button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CompanySettings;\n","import React, { useState } from 'react';\nimport { Share2, Plus, Search, Copy, Eye, Edit, Trash2, Download, Users, Clock, Lock, Globe, CheckCircle, X } from 'lucide-react';\nimport Alert from '../../components/common/UI/Alert';\nimport { useTheme } from '../../contexts/ThemeContext';\n\nconst SharingCollaboration = () => {\n  const { isDarkMode } = useTheme();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterType, setFilterType] = useState('all');\n  const [copied, setCopied] = useState(null);\n  const [error, setError] = useState('');\n  const [showShareModal, setShowShareModal] = useState(false);\n  const [showInviteModal, setShowInviteModal] = useState(false);\n  const [shareForm, setShareForm] = useState({ name: '', type: 'report', permission: 'view' });\n  const [inviteForm, setInviteForm] = useState({ email: '', role: 'viewer' });\n\n  const stats = [\n    { label: 'Shared Reports', value: '24', icon: 'ðŸ“Š' },\n    { label: 'Active Collaborators', value: '12', icon: 'ðŸ‘¥' },\n    { label: 'Shared Dashboards', value: '8', icon: 'ðŸ“ˆ' },\n    { label: 'Pending Invites', value: '3', icon: 'ðŸ“§' }\n  ];\n\n  const sharedItems = [\n    { id: 'SHR-001', name: 'Monthly Revenue Report', type: 'report', sharedWith: 'Sarah Johnson, Mike Brown', permission: 'view', date: '2024-01-15', link: 'https://stayspot.com/share/abc123' },\n    { id: 'SHR-002', name: 'Q1 Analytics Dashboard', type: 'dashboard', sharedWith: 'Finance Team (5)', permission: 'edit', date: '2024-01-14', link: 'https://stayspot.com/share/def456' },\n    { id: 'SHR-003', name: 'Property Verification Data', type: 'data', sharedWith: 'Verification Team (3)', permission: 'view', date: '2024-01-13', link: 'https://stayspot.com/share/ghi789' }\n  ];\n\n  const teamMembers = [\n    { id: 'TM-001', name: 'Sarah Johnson', email: 'sarah@stayspot.com', role: 'Finance Manager', status: 'active' },\n    { id: 'TM-002', name: 'Mike Brown', email: 'mike@stayspot.com', role: 'Operations Lead', status: 'active' },\n    { id: 'TM-003', name: 'Emma Davis', email: 'emma@stayspot.com', role: 'Support Manager', status: 'active' },\n    { id: 'TM-004', name: 'Robert Wilson', email: 'robert@stayspot.com', role: 'Analyst', status: 'pending' }\n  ];\n\n  const getPermissionColor = (permission) => {\n    const colors = {\n      view: isDarkMode ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800',\n      edit: isDarkMode ? 'bg-green-900 text-green-300' : 'bg-green-100 text-green-800',\n      admin: isDarkMode ? 'bg-red-900 text-red-300' : 'bg-red-100 text-red-800'\n    };\n    return colors[permission];\n  };\n\n  const getTypeIcon = (type) => {\n    const icons = { report: 'ðŸ“Š', dashboard: 'ðŸ“ˆ', data: 'ðŸ“' };\n    return icons[type] || 'ðŸ“„';\n  };\n\n  const copyToClipboard = (text, id) => {\n    navigator.clipboard.writeText(text);\n    setCopied(id);\n    setTimeout(() => setCopied(null), 2000);\n  };\n\n  const handleShareSubmit = async () => {\n    if (!shareForm.name) {\n      setError('Please enter a name');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/sharing/share', {\n        method: 'POST',\n        headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' },\n        body: JSON.stringify(shareForm)\n      });\n      if (!response.ok) throw new Error('Failed to share');\n      setShareForm({ name: '', type: 'report', permission: 'view' });\n      setShowShareModal(false);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleInviteSubmit = async () => {\n    if (!inviteForm.email) {\n      setError('Please enter an email');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/sharing/invite', {\n        method: 'POST',\n        headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' },\n        body: JSON.stringify(inviteForm)\n      });\n      if (!response.ok) throw new Error('Failed to send invite');\n      setInviteForm({ email: '', role: 'viewer' });\n      setShowInviteModal(false);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-slate-900' : 'bg-gray-50'}`}>\n      {error && <Alert type=\"error\" message={error} onClose={() => setError('')} />}\n\n      {/* Header */}\n      <div className={`border-b ${isDarkMode ? 'border-slate-800 bg-slate-800' : 'border-gray-200 bg-white'}`}>\n        <div className=\"max-w-7xl mx-auto px-6 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-3 bg-gradient-to-br from-orange-600 to-orange-700 rounded-lg\">\n                <Share2 className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Sharing & Collaboration</h1>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Share reports and collaborate with team members</p>\n              </div>\n            </div>\n            <button onClick={() => setShowShareModal(true)} className=\"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition\">\n              <Plus className=\"w-5 h-5\" /> Share New\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          {stats.map((stat, idx) => (\n            <div key={idx} className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'}`}>\n              <div className=\"flex items-center justify-between mb-3\">\n                <span className=\"text-2xl\">{stat.icon}</span>\n              </div>\n              <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{stat.label}</p>\n              <p className={`text-2xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{stat.value}</p>\n            </div>\n          ))}\n        </div>\n\n        {/* Shared Items Section */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Shared Items</h2>\n            <button className={`px-4 py-2 rounded-lg border flex items-center gap-2 ${isDarkMode ? 'bg-slate-800 border-slate-700 text-white hover:bg-slate-700' : 'bg-gray-50 border-gray-300 text-gray-900 hover:bg-gray-100'}`}>\n              <Download className=\"w-5 h-5\" /> Export\n            </button>\n          </div>\n\n          {/* Search & Filter */}\n          <div className={`rounded-xl shadow p-6 border mb-6 ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'}`}>\n            <div className=\"flex flex-col md:flex-row gap-4\">\n              <div className=\"flex-1 relative\">\n                <Search className=\"absolute left-3 top-3 w-5 h-5 text-slate-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search shared items...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className={`w-full pl-10 pr-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-700 border-slate-600 text-white' : 'bg-gray-50 border-gray-300 text-gray-900'}`}\n                />\n              </div>\n              <select\n                value={filterType}\n                onChange={(e) => setFilterType(e.target.value)}\n                className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-700 border-slate-600 text-white' : 'bg-gray-50 border-gray-300 text-gray-900'}`}\n              >\n                <option value=\"all\">All Types</option>\n                <option value=\"report\">Reports</option>\n                <option value=\"dashboard\">Dashboards</option>\n                <option value=\"data\">Data</option>\n              </select>\n            </div>\n          </div>\n\n          {/* Shared Items Table */}\n          <div className={`rounded-xl shadow border overflow-hidden ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'}`}>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className={`border-b ${isDarkMode ? 'bg-slate-700 border-slate-600' : 'bg-gray-50 border-gray-200'}`}>\n                  <tr>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-900'}`}>Item</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-900'}`}>Type</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-900'}`}>Shared With</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-900'}`}>Permission</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-900'}`}>Date</th>\n                    <th className={`px-6 py-4 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-900'}`}>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {sharedItems.map((item, idx) => (\n                    <tr key={idx} className={`border-b ${isDarkMode ? 'border-slate-700 hover:bg-slate-700' : 'border-gray-200 hover:bg-gray-50'}`}>\n                      <td className={`px-6 py-4 text-sm`}>\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-lg\">{getTypeIcon(item.type)}</span>\n                          <span className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{item.name}</span>\n                        </div>\n                      </td>\n                      <td className={`px-6 py-4 text-sm`}>\n                        <span className={`px-3 py-1 rounded-full text-xs font-semibold ${isDarkMode ? 'bg-slate-700 text-slate-300' : 'bg-gray-200 text-gray-800'}`}>\n                          {item.type.charAt(0).toUpperCase() + item.type.slice(1)}\n                        </span>\n                      </td>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{item.sharedWith}</td>\n                      <td className={`px-6 py-4 text-sm`}>\n                        <span className={`px-3 py-1 rounded-full text-xs font-semibold ${getPermissionColor(item.permission)}`}>\n                          {item.permission.charAt(0).toUpperCase() + item.permission.slice(1)}\n                        </span>\n                      </td>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{item.date}</td>\n                      <td className={`px-6 py-4 text-sm flex gap-2`}>\n                        <button\n                          onClick={() => copyToClipboard(item.link, item.id)}\n                          className={`p-2 rounded hover:bg-slate-700 ${isDarkMode ? 'text-slate-400 hover:text-white' : 'text-gray-600 hover:text-gray-900'}`}\n                        >\n                          {copied === item.id ? <CheckCircle className=\"w-4 h-4 text-green-600\" /> : <Copy className=\"w-4 h-4\" />}\n                        </button>\n                        <button className={`p-2 rounded hover:bg-slate-700 ${isDarkMode ? 'text-slate-400 hover:text-white' : 'text-gray-600 hover:text-gray-900'}`}>\n                          <Edit className=\"w-4 h-4\" />\n                        </button>\n                        <button className={`p-2 rounded hover:bg-slate-700 ${isDarkMode ? 'text-slate-400 hover:text-white' : 'text-gray-600 hover:text-gray-900'}`}>\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n\n        {/* Team Members Section */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Team Members</h2>\n            <button onClick={() => setShowInviteModal(true)} className=\"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition\">\n              <Plus className=\"w-5 h-5\" /> Invite Member\n            </button>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {teamMembers.map((member, idx) => (\n              <div key={idx} className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'}`}>\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div>\n                    <h3 className={`font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{member.name}</h3>\n                    <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>{member.email}</p>\n                  </div>\n                  <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\n                    member.status === 'active'\n                      ? isDarkMode ? 'bg-green-900 text-green-300' : 'bg-green-100 text-green-800'\n                      : isDarkMode ? 'bg-yellow-900 text-yellow-300' : 'bg-yellow-100 text-yellow-800'\n                  }`}>\n                    {member.status.charAt(0).toUpperCase() + member.status.slice(1)}\n                  </span>\n                </div>\n                <div className=\"space-y-2 mb-4\">\n                  <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-gray-600'}`}>Role: <span className=\"font-semibold\">{member.role}</span></p>\n                </div>\n                <div className=\"flex gap-2\">\n                  <button className={`flex-1 px-3 py-2 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 ${isDarkMode ? 'bg-slate-700 hover:bg-slate-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-900'}`}>\n                    <Eye className=\"w-4 h-4\" /> View\n                  </button>\n                  <button className={`flex-1 px-3 py-2 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 ${isDarkMode ? 'bg-slate-700 hover:bg-slate-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-900'}`}>\n                    <Edit className=\"w-4 h-4\" /> Edit\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Share Settings */}\n        <div>\n          <h2 className={`text-xl font-bold mb-6 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Sharing Settings</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'}`}>\n              <div className=\"flex items-center gap-3 mb-4\">\n                <Globe className=\"w-6 h-6 text-blue-600\" />\n                <h3 className={`font-bold text-lg ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Public Sharing</h3>\n              </div>\n              <label className=\"flex items-center gap-3 cursor-pointer\">\n                <input type=\"checkbox\" defaultChecked className=\"w-5 h-5 rounded\" />\n                <span className={`text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-900'}`}>Enable public sharing</span>\n              </label>\n            </div>\n\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'}`}>\n              <div className=\"flex items-center gap-3 mb-4\">\n                <Lock className=\"w-6 h-6 text-red-600\" />\n                <h3 className={`font-bold text-lg ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Password Protection</h3>\n              </div>\n              <label className=\"flex items-center gap-3 cursor-pointer\">\n                <input type=\"checkbox\" className=\"w-5 h-5 rounded\" />\n                <span className={`text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-gray-900'}`}>Enable password protection</span>\n              </label>\n            </div>\n\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'}`}>\n              <div className=\"flex items-center gap-3 mb-4\">\n                <Clock className=\"w-6 h-6 text-orange-600\" />\n                <h3 className={`font-bold text-lg ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Link Expiration</h3>\n              </div>\n              <select className={`w-full px-3 py-2 rounded-lg border text-sm ${isDarkMode ? 'bg-slate-700 border-slate-600 text-white' : 'bg-gray-50 border-gray-300 text-gray-900'}`}>\n                <option>Never expires</option>\n                <option>7 days</option>\n                <option>30 days</option>\n                <option>90 days</option>\n              </select>\n            </div>\n\n            <div className={`rounded-xl shadow p-6 border ${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'}`}>\n              <div className=\"flex items-center gap-3 mb-4\">\n                <Users className=\"w-6 h-6 text-green-600\" />\n                <h3 className={`font-bold text-lg ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Activity Log</h3>\n              </div>\n              <button className={`w-full px-4 py-2 rounded-lg text-sm font-semibold ${isDarkMode ? 'bg-slate-700 hover:bg-slate-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-900'}`}>\n                View Activity Log\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Share Modal */}\n      {showShareModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-lg max-w-md w-full border`}>\n            <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4 rounded-t-xl flex justify-between items-center\">\n              <h2 className=\"text-xl font-bold text-white\">Share New Item</h2>\n              <button onClick={() => setShowShareModal(false)} className=\"text-orange-200 hover:text-white transition-colors\">\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <div className=\"p-6 space-y-4\">\n              <input\n                type=\"text\"\n                value={shareForm.name}\n                onChange={(e) => setShareForm({ ...shareForm, name: e.target.value })}\n                placeholder=\"Item name\"\n                className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n              />\n              <select\n                value={shareForm.type}\n                onChange={(e) => setShareForm({ ...shareForm, type: e.target.value })}\n                className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100 text-gray-900'}`}\n              >\n                <option value=\"report\">Report</option>\n                <option value=\"dashboard\">Dashboard</option>\n                <option value=\"data\">Data</option>\n              </select>\n              <select\n                value={shareForm.permission}\n                onChange={(e) => setShareForm({ ...shareForm, permission: e.target.value })}\n                className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100 text-gray-900'}`}\n              >\n                <option value=\"view\">View Only</option>\n                <option value=\"edit\">Edit</option>\n                <option value=\"admin\">Admin</option>\n              </select>\n            </div>\n\n            <div className={`p-6 border-t ${isDarkMode ? 'border-slate-700' : 'border-gray-200'} flex gap-3`}>\n              <button\n                onClick={handleShareSubmit}\n                className=\"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white hover:from-orange-700 hover:to-orange-800 font-medium transition-all\"\n              >\n                Share\n              </button>\n              <button\n                onClick={() => setShowShareModal(false)}\n                className={`flex-1 px-4 py-2 rounded-lg ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-gray-200 text-gray-900 hover:bg-gray-300'} font-medium transition-all`}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Invite Modal */}\n      {showInviteModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'} rounded-xl shadow-lg max-w-md w-full border`}>\n            <div className=\"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4 rounded-t-xl flex justify-between items-center\">\n              <h2 className=\"text-xl font-bold text-white\">Invite Team Member</h2>\n              <button onClick={() => setShowInviteModal(false)} className=\"text-orange-200 hover:text-white transition-colors\">\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <div className=\"p-6 space-y-4\">\n              <input\n                type=\"email\"\n                value={inviteForm.email}\n                onChange={(e) => setInviteForm({ ...inviteForm, email: e.target.value })}\n                placeholder=\"Email address\"\n                className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white placeholder-slate-500' : 'bg-gray-100 text-gray-900 placeholder-gray-500'}`}\n              />\n              <select\n                value={inviteForm.role}\n                onChange={(e) => setInviteForm({ ...inviteForm, role: e.target.value })}\n                className={`w-full px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${isDarkMode ? 'bg-slate-700 text-white' : 'bg-gray-100 text-gray-900'}`}\n              >\n                <option value=\"viewer\">Viewer</option>\n                <option value=\"editor\">Editor</option>\n                <option value=\"admin\">Admin</option>\n              </select>\n            </div>\n\n            <div className={`p-6 border-t ${isDarkMode ? 'border-slate-700' : 'border-gray-200'} flex gap-3`}>\n              <button\n                onClick={handleInviteSubmit}\n                className=\"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-600 to-orange-700 text-white hover:from-orange-700 hover:to-orange-800 font-medium transition-all\"\n              >\n                Send Invite\n              </button>\n              <button\n                onClick={() => setShowInviteModal(false)}\n                className={`flex-1 px-4 py-2 rounded-lg ${isDarkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-gray-200 text-gray-900 hover:bg-gray-300'} font-medium transition-all`}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SharingCollaboration;\n","import React, { useState } from 'react';\nimport { Send, Plus, Search, Filter, DollarSign, User, Mail, Phone, MapPin, CheckCircle, Clock, AlertCircle, CreditCard, Repeat2, Calendar, Edit2, Trash2, Check, X, ToggleRight, ToggleLeft } from 'lucide-react';\nimport { useThemeMode } from '../../hooks/useThemeMode';\n\nconst PayOthers = () => {\n  const { isDarkMode } = useThemeMode();\n  const [showForm, setShowForm] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterRole, setFilterRole] = useState('All');\n  const [payments, setPayments] = useState([\n    { id: 1, name: 'John Smith', role: 'Landlord', email: 'john@example.com', phone: '+1-555-0101', amount: 5000, status: 'pending', date: '2024-01-15', property: 'Sunset Apartments', method: 'bank_transfer', automatic: false, frequency: null },\n    { id: 2, name: 'Sarah Johnson', role: 'Property Manager', email: 'sarah@example.com', phone: '+1-555-0102', amount: 3500, status: 'completed', date: '2024-01-14', property: 'Downtown Lofts', method: 'credit_card', automatic: true, frequency: 'monthly' },\n    { id: 3, name: 'Mike Davis', role: 'Landlord', email: 'mike@example.com', phone: '+1-555-0103', amount: 2800, status: 'pending', date: '2024-01-13', property: 'Riverside Complex', method: 'check', automatic: false, frequency: null },\n  ]);\n\n  const [formData, setFormData] = useState({\n    name: '',\n    role: 'Landlord',\n    email: '',\n    phone: '',\n    amount: '',\n    property: '',\n    description: '',\n    method: 'bank_transfer',\n    automatic: false,\n    frequency: 'monthly'\n  });\n\n  const paymentMethods = [\n    { value: 'bank_transfer', label: 'Bank Transfer', icon: 'ðŸ¦' },\n    { value: 'credit_card', label: 'Credit Card', icon: 'ðŸ’³' },\n    { value: 'check', label: 'Check', icon: 'âœ“' },\n    { value: 'ach', label: 'ACH Transfer', icon: 'ðŸ“„' },\n    { value: 'paypal', label: 'PayPal', icon: 'ðŸ…¿ï¸' },\n    { value: 'mpesa', label: 'M-Pesa', icon: 'ðŸ“±' }\n  ];\n\n  const frequencies = [\n    { value: 'once', label: 'One Time' },\n    { value: 'weekly', label: 'Weekly' },\n    { value: 'biweekly', label: 'Bi-weekly' },\n    { value: 'monthly', label: 'Monthly' },\n    { value: 'quarterly', label: 'Quarterly' },\n    { value: 'annually', label: 'Annually' }\n  ];\n\n  const roles = ['All', 'Landlord', 'Property Manager', 'Maintenance Staff', 'Other'];\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const newPayment = {\n      id: payments.length + 1,\n      ...formData,\n      status: 'pending',\n      date: new Date().toISOString().split('T')[0]\n    };\n    setPayments([newPayment, ...payments]);\n    setFormData({ name: '', role: 'Landlord', email: '', phone: '', amount: '', property: '', description: '', method: 'bank_transfer', automatic: false, frequency: 'monthly' });\n    setShowForm(false);\n  };\n\n  const filteredPayments = payments.filter(p => {\n    const matchesSearch = p.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         p.email.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesRole = filterRole === 'All' || p.role === filterRole;\n    return matchesSearch && matchesRole;\n  });\n\n  const totalPending = payments.filter(p => p.status === 'pending').reduce((sum, p) => sum + p.amount, 0);\n  const totalCompleted = payments.filter(p => p.status === 'completed').reduce((sum, p) => sum + p.amount, 0);\n  const totalAutomatic = payments.filter(p => p.automatic).reduce((sum, p) => sum + p.amount, 0);\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'completed':\n        return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300';\n      case 'pending':\n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300';\n      case 'failed':\n        return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300';\n      default:\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'completed':\n        return <CheckCircle className=\"w-4 h-4\" />;\n      case 'pending':\n        return <Clock className=\"w-4 h-4\" />;\n      case 'failed':\n        return <AlertCircle className=\"w-4 h-4\" />;\n      default:\n        return null;\n    }\n  };\n\n  const handleApprove = (id) => {\n    setPayments(payments.map(p => p.id === id ? { ...p, status: 'completed' } : p));\n  };\n\n  const handleReject = (id) => {\n    setPayments(payments.map(p => p.id === id ? { ...p, status: 'failed' } : p));\n  };\n\n  const handleDelete = (id) => {\n    setPayments(payments.filter(p => p.id !== id));\n  };\n\n  const handleEdit = (id) => {\n    const payment = payments.find(p => p.id === id);\n    if (payment) {\n      setFormData(payment);\n      setShowForm(true);\n    }\n  };\n\n  const handleToggleAutomatic = (id) => {\n    setPayments(payments.map(p => p.id === id ? { ...p, automatic: !p.automatic } : p));\n  };\n\n  return (\n    <div className={`min-h-screen p-6 ${isDarkMode ? 'bg-slate-950' : 'bg-slate-50'}`}>\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8\">\n          <div>\n            <h1 className={`text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Pay Others</h1>\n            <p className={`text-sm mt-1 ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Manage payments to landlords, managers, and other stakeholders</p>\n          </div>\n          <button\n            onClick={() => setShowForm(!showForm)}\n            className=\"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-lg hover:from-orange-700 hover:to-red-700 transition\"\n          >\n            <Plus className=\"w-5 h-5\" />\n            New Payment\n          </button>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n          <div className={`rounded-lg p-6 border ${isDarkMode ? 'bg-slate-900 border-slate-700' : 'bg-white border-slate-200'}`}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Pending</p>\n                <p className={`text-2xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>${totalPending.toLocaleString()}</p>\n              </div>\n              <Clock className=\"w-8 h-8 text-yellow-600\" />\n            </div>\n          </div>\n          <div className={`rounded-lg p-6 border ${isDarkMode ? 'bg-slate-900 border-slate-700' : 'bg-white border-slate-200'}`}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Completed</p>\n                <p className={`text-2xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>${totalCompleted.toLocaleString()}</p>\n              </div>\n              <CheckCircle className=\"w-8 h-8 text-green-600\" />\n            </div>\n          </div>\n          <div className={`rounded-lg p-6 border ${isDarkMode ? 'bg-slate-900 border-slate-700' : 'bg-white border-slate-200'}`}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Automatic Payments</p>\n                <p className={`text-2xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>${totalAutomatic.toLocaleString()}</p>\n              </div>\n              <Repeat2 className=\"w-8 h-8 text-blue-600\" />\n            </div>\n          </div>\n          <div className={`rounded-lg p-6 border ${isDarkMode ? 'bg-slate-900 border-slate-700' : 'bg-white border-slate-200'}`}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>Total Recipients</p>\n                <p className={`text-2xl font-bold mt-2 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>{payments.length}</p>\n              </div>\n              <User className=\"w-8 h-8 text-blue-600\" />\n            </div>\n          </div>\n        </div>\n\n        {/* New Payment Form */}\n        {showForm && (\n          <div className={`rounded-lg p-6 border mb-8 ${isDarkMode ? 'bg-slate-900 border-slate-700' : 'bg-white border-slate-200'}`}>\n            <h2 className={`text-xl font-bold mb-4 ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>Create New Payment</h2>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Name</label>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleInputChange}\n                    required\n                    className={`w-full px-3 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-600 text-white' : 'bg-white border-slate-300 text-slate-900'} focus:outline-none focus:ring-2 focus:ring-orange-600`}\n                    placeholder=\"Recipient name\"\n                  />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Role</label>\n                  <select\n                    name=\"role\"\n                    value={formData.role}\n                    onChange={handleInputChange}\n                    className={`w-full px-3 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-600 text-white' : 'bg-white border-slate-300 text-slate-900'} focus:outline-none focus:ring-2 focus:ring-orange-600`}\n                  >\n                    {roles.filter(r => r !== 'All').map(role => (\n                      <option key={role} value={role}>{role}</option>\n                    ))}\n                  </select>\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Email</label>\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={handleInputChange}\n                    required\n                    className={`w-full px-3 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-600 text-white' : 'bg-white border-slate-300 text-slate-900'} focus:outline-none focus:ring-2 focus:ring-orange-600`}\n                    placeholder=\"Email address\"\n                  />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Phone</label>\n                  <input\n                    type=\"tel\"\n                    name=\"phone\"\n                    value={formData.phone}\n                    onChange={handleInputChange}\n                    className={`w-full px-3 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-600 text-white' : 'bg-white border-slate-300 text-slate-900'} focus:outline-none focus:ring-2 focus:ring-orange-600`}\n                    placeholder=\"Phone number\"\n                  />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Amount ($)</label>\n                  <input\n                    type=\"number\"\n                    name=\"amount\"\n                    value={formData.amount}\n                    onChange={handleInputChange}\n                    required\n                    className={`w-full px-3 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-600 text-white' : 'bg-white border-slate-300 text-slate-900'} focus:outline-none focus:ring-2 focus:ring-orange-600`}\n                    placeholder=\"0.00\"\n                  />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Property</label>\n                  <input\n                    type=\"text\"\n                    name=\"property\"\n                    value={formData.property}\n                    onChange={handleInputChange}\n                    className={`w-full px-3 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-600 text-white' : 'bg-white border-slate-300 text-slate-900'} focus:outline-none focus:ring-2 focus:ring-orange-600`}\n                    placeholder=\"Property name\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Description</label>\n                <textarea\n                  name=\"description\"\n                  value={formData.description}\n                  onChange={handleInputChange}\n                  className={`w-full px-3 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-600 text-white' : 'bg-white border-slate-300 text-slate-900'} focus:outline-none focus:ring-2 focus:ring-orange-600`}\n                  placeholder=\"Payment description\"\n                  rows=\"3\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Payment Method</label>\n                  <select\n                    name=\"method\"\n                    value={formData.method}\n                    onChange={handleInputChange}\n                    className={`w-full px-3 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-600 text-white' : 'bg-white border-slate-300 text-slate-900'} focus:outline-none focus:ring-2 focus:ring-orange-600`}\n                  >\n                    {paymentMethods.map(method => (\n                      <option key={method.value} value={method.value}>{method.label}</option>\n                    ))}\n                  </select>\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Frequency</label>\n                  <select\n                    name=\"frequency\"\n                    value={formData.frequency}\n                    onChange={handleInputChange}\n                    disabled={!formData.automatic}\n                    className={`w-full px-3 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-600 text-white' : 'bg-white border-slate-300 text-slate-900'} focus:outline-none focus:ring-2 focus:ring-orange-600 disabled:opacity-50`}\n                  >\n                    {frequencies.map(freq => (\n                      <option key={freq.value} value={freq.value}>{freq.label}</option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <label className={`flex items-center gap-2 p-3 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-600' : 'bg-slate-50 border-slate-300'} cursor-pointer`}>\n                <input\n                  type=\"checkbox\"\n                  name=\"automatic\"\n                  checked={formData.automatic}\n                  onChange={(e) => setFormData(prev => ({ ...prev, automatic: e.target.checked }))}\n                  className=\"w-4 h-4 rounded\"\n                />\n                <span className={`text-sm font-medium ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Enable Automatic Recurring Payment</span>\n              </label>\n\n              <div className=\"flex gap-3\">\n                <button\n                  type=\"submit\"\n                  className=\"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-lg hover:from-orange-700 hover:to-red-700 transition\"\n                >\n                  <Send className=\"w-4 h-4\" />\n                  Create Payment\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setShowForm(false)}\n                  className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'border-slate-600 text-slate-300 hover:bg-slate-800' : 'border-slate-300 text-slate-700 hover:bg-slate-100'} transition`}\n                >\n                  Cancel\n                </button>\n              </div>\n            </form>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className={`rounded-lg p-4 mb-6 border ${isDarkMode ? 'bg-slate-900 border-slate-700' : 'bg-white border-slate-200'}`}>\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"absolute left-3 top-3 w-5 h-5 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search by name or email...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`w-full pl-10 pr-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-600 text-white' : 'bg-white border-slate-300 text-slate-900'} focus:outline-none focus:ring-2 focus:ring-orange-600`}\n              />\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Filter className=\"w-5 h-5 text-gray-400\" />\n              <select\n                value={filterRole}\n                onChange={(e) => setFilterRole(e.target.value)}\n                className={`px-4 py-2 rounded-lg border ${isDarkMode ? 'bg-slate-800 border-slate-600 text-white' : 'bg-white border-slate-300 text-slate-900'} focus:outline-none focus:ring-2 focus:ring-orange-600`}\n              >\n                {roles.map(role => (\n                  <option key={role} value={role}>{role}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* Payments Table */}\n        <div className={`rounded-lg border overflow-hidden ${isDarkMode ? 'bg-slate-900 border-slate-700' : 'bg-white border-slate-200'}`}>\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className={`${isDarkMode ? 'bg-slate-800' : 'bg-slate-50'}`}>\n                <tr>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Recipient</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Role</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Amount</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Method</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Frequency</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Status</th>\n                  <th className={`px-6 py-3 text-left text-sm font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-700'}`}>Actions</th>\n                </tr>\n              </thead>\n              <tbody className={`divide-y ${isDarkMode ? 'divide-slate-700' : 'divide-slate-200'}`}>\n                {filteredPayments.length > 0 ? (\n                  filteredPayments.map(payment => (\n                    <tr key={payment.id} className={`${isDarkMode ? 'hover:bg-slate-800' : 'hover:bg-slate-50'} transition`}>\n                      <td className={`px-6 py-4 ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>\n                        <div>\n                          <p className=\"font-medium\">{payment.name}</p>\n                          <p className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>{payment.email}</p>\n                        </div>\n                      </td>\n                      <td className={`px-6 py-4 text-sm ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>{payment.role}</td>\n                      <td className={`px-6 py-4 font-semibold ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>${payment.amount.toLocaleString()}</td>\n                      <td className={`px-6 py-4`}>\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-lg\">{paymentMethods.find(m => m.value === payment.method)?.icon}</span>\n                          <span className={`text-sm ${isDarkMode ? 'text-slate-300' : 'text-slate-900'}`}>{paymentMethods.find(m => m.value === payment.method)?.label}</span>\n                        </div>\n                      </td>\n                      <td className={`px-6 py-4`}>\n                        {payment.automatic ? (\n                          <span className={`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300`}>\n                            <Repeat2 className=\"w-3 h-3\" />\n                            {frequencies.find(f => f.value === payment.frequency)?.label}\n                          </span>\n                        ) : (\n                          <span className={`text-sm ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>One-time</span>\n                        )}\n                      </td>\n                      <td className={`px-6 py-4`}>\n                        <span className={`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(payment.status)}`}>\n                          {getStatusIcon(payment.status)}\n                          {payment.status.charAt(0).toUpperCase() + payment.status.slice(1)}\n                        </span>\n                      </td>\n                      <td className={`px-6 py-4`}>\n                        <div className=\"flex items-center gap-2\">\n                          <button onClick={() => handleToggleAutomatic(payment.id)} className={`p-1 rounded ${payment.automatic ? 'text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900' : 'text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700'}`} title=\"Toggle Automatic\">\n                            {payment.automatic ? <ToggleRight className=\"w-4 h-4\" /> : <ToggleLeft className=\"w-4 h-4\" />}\n                          </button>\n                          {payment.status === 'pending' && (\n                            <>\n                              <button onClick={() => handleApprove(payment.id)} className=\"p-1 text-green-600 hover:bg-green-100 dark:hover:bg-green-900 rounded\" title=\"Approve\">\n                                <Check className=\"w-4 h-4\" />\n                              </button>\n                              <button onClick={() => handleReject(payment.id)} className=\"p-1 text-red-600 hover:bg-red-100 dark:hover:bg-red-900 rounded\" title=\"Reject\">\n                                <X className=\"w-4 h-4\" />\n                              </button>\n                            </>\n                          )}\n                          <button onClick={() => handleEdit(payment.id)} className=\"p-1 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900 rounded\" title=\"Edit\">\n                            <Edit2 className=\"w-4 h-4\" />\n                          </button>\n                          <button onClick={() => handleDelete(payment.id)} className=\"p-1 text-red-600 hover:bg-red-100 dark:hover:bg-red-900 rounded\" title=\"Delete\">\n                            <Trash2 className=\"w-4 h-4\" />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))\n                ) : (\n                  <tr>\n                    <td colSpan=\"6\" className={`px-6 py-8 text-center ${isDarkMode ? 'text-slate-400' : 'text-slate-600'}`}>\n                      No payments found\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PayOthers;\n","import React from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport CompanyLayout from '../layouts/CompanyLayout';\nimport CompanyDashboard from '../pages/company/Dashboard';\nimport PaymentManagement from '../pages/company/PaymentManagement';\nimport PaymentHistory from '../pages/company/PaymentHistory';\nimport PaymentInvoices from '../pages/company/PaymentInvoices';\nimport PaymentRefunds from '../pages/company/PaymentRefunds';\nimport PaymentSettings from '../pages/company/PaymentSettings';\nimport PropertyVerification from '../pages/company/PropertyVerification';\nimport Properties from '../pages/company/Properties';\nimport BnBProperties from '../pages/company/BnBProperties';\nimport PendingProperties from '../pages/company/PendingProperties';\nimport PropertyDocuments from '../pages/company/PropertyDocuments';\nimport UserVerification from '../pages/company/UserVerification';\nimport TenantVerification from '../pages/company/TenantVerification';\nimport LandlordVerification from '../pages/company/LandlordVerification';\nimport ManagerVerification from '../pages/company/ManagerVerification';\nimport PendingVerification from '../pages/company/PendingVerification';\nimport VerificationReports from '../pages/company/VerificationReports';\nimport SupportTickets from '../pages/company/SupportTickets';\nimport SupportChat from '../pages/company/SupportChat';\nimport SupportKB from '../pages/company/SupportKB';\nimport SupportIssues from '../pages/company/SupportIssues';\nimport SupportReports from '../pages/company/SupportReports';\nimport ClientSupport from '../pages/company/ClientSupport';\nimport Drivers from '../pages/company/transportation/Drivers';\nimport Bookings from '../pages/company/transportation/Bookings';\nimport Tracking from '../pages/company/transportation/Tracking';\nimport Fleet from '../pages/company/transportation/Fleet';\nimport Earnings from '../pages/company/transportation/Earnings';\nimport Messages from '../pages/company/communication/Messages';\nimport Announcements from '../pages/company/communication/Announcements';\nimport Notifications from '../pages/company/communication/Notifications';\nimport Templates from '../pages/company/communication/Templates';\nimport Logs from '../pages/company/communication/Logs';\nimport Permissions from '../pages/company/security/Permissions';\nimport Audit from '../pages/company/security/Audit';\nimport Data from '../pages/company/security/Data';\nimport Compliance from '../pages/company/security/Compliance';\nimport Settings from '../pages/company/Settings';\nimport SystemCommunication from '../pages/company/SystemCommunication';\nimport SharingCollaboration from '../pages/company/SharingCollaboration';\nimport PayOthers from '../pages/company/PayOthers';\n\nconst CompanyRoutes = () => {\n  return (\n    <Routes>\n      <Route element={<CompanyLayout><CompanyDashboard /></CompanyLayout>} path=\"/\" />\n      <Route element={<CompanyLayout><PaymentManagement /></CompanyLayout>} path=\"/payments\" />\n      <Route element={<CompanyLayout><PaymentHistory /></CompanyLayout>} path=\"/payments/history\" />\n      <Route element={<CompanyLayout><PaymentInvoices /></CompanyLayout>} path=\"/payments/invoices\" />\n      <Route element={<CompanyLayout><PaymentRefunds /></CompanyLayout>} path=\"/payments/refunds\" />\n      <Route element={<CompanyLayout><PaymentSettings /></CompanyLayout>} path=\"/payments/settings\" />\n      <Route element={<CompanyLayout><Properties /></CompanyLayout>} path=\"/properties\" />\n      <Route element={<CompanyLayout><PropertyVerification /></CompanyLayout>} path=\"/properties/verification\" />\n      <Route element={<CompanyLayout><BnBProperties /></CompanyLayout>} path=\"/properties/bnb\" />\n      <Route element={<CompanyLayout><PendingProperties /></CompanyLayout>} path=\"/properties/pending\" />\n      <Route element={<CompanyLayout><PropertyDocuments /></CompanyLayout>} path=\"/properties/documents\" />\n      <Route element={<CompanyLayout><TenantVerification /></CompanyLayout>} path=\"/verification/tenants\" />\n      <Route element={<CompanyLayout><LandlordVerification /></CompanyLayout>} path=\"/verification/landlords\" />\n      <Route element={<CompanyLayout><ManagerVerification /></CompanyLayout>} path=\"/verification/managers\" />\n      <Route element={<CompanyLayout><PendingVerification /></CompanyLayout>} path=\"/verification/pending\" />\n      <Route element={<CompanyLayout><VerificationReports /></CompanyLayout>} path=\"/verification/reports\" />\n      <Route element={<CompanyLayout><SupportTickets /></CompanyLayout>} path=\"/support/tickets\" />\n      <Route element={<CompanyLayout><SupportChat /></CompanyLayout>} path=\"/support/chat\" />\n      <Route element={<CompanyLayout><SupportKB /></CompanyLayout>} path=\"/support/kb\" />\n      <Route element={<CompanyLayout><SupportIssues /></CompanyLayout>} path=\"/support/issues\" />\n      <Route element={<CompanyLayout><SupportReports /></CompanyLayout>} path=\"/support/reports\" />\n      <Route element={<CompanyLayout><Drivers /></CompanyLayout>} path=\"/transportation/drivers\" />\n      <Route element={<CompanyLayout><Bookings /></CompanyLayout>} path=\"/transportation/bookings\" />\n      <Route element={<CompanyLayout><Tracking /></CompanyLayout>} path=\"/transportation/tracking\" />\n      <Route element={<CompanyLayout><Fleet /></CompanyLayout>} path=\"/transportation/fleet\" />\n      <Route element={<CompanyLayout><Earnings /></CompanyLayout>} path=\"/transportation/earnings\" />\n      <Route element={<CompanyLayout><Messages /></CompanyLayout>} path=\"/communication/messages\" />\n      <Route element={<CompanyLayout><Announcements /></CompanyLayout>} path=\"/communication/announcements\" />\n      <Route element={<CompanyLayout><Notifications /></CompanyLayout>} path=\"/communication/notifications\" />\n      <Route element={<CompanyLayout><Templates /></CompanyLayout>} path=\"/communication/templates\" />\n      <Route element={<CompanyLayout><Logs /></CompanyLayout>} path=\"/communication/logs\" />\n      <Route element={<CompanyLayout><Permissions /></CompanyLayout>} path=\"/security/permissions\" />\n      <Route element={<CompanyLayout><Audit /></CompanyLayout>} path=\"/security/audit\" />\n      <Route element={<CompanyLayout><Data /></CompanyLayout>} path=\"/security/data\" />\n      <Route element={<CompanyLayout><Compliance /></CompanyLayout>} path=\"/security/compliance\" />\n      <Route element={<CompanyLayout><Settings /></CompanyLayout>} path=\"/settings\" />\n      <Route element={<CompanyLayout><SharingCollaboration /></CompanyLayout>} path=\"/sharing\" />\n      <Route element={<CompanyLayout><PayOthers /></CompanyLayout>} path=\"/pay-others\" />\n      <Route path=\"*\" element={<Navigate to=\"/company\" replace />} />\n    </Routes>\n  );\n};\n\nexport default CompanyRoutes;\n"],"names":["__iconNode","ArrowUpDown","createLucideIcon","Coffee","History","LoaderCircle","Navigation","Repeat2","RotateCcw","ToggleLeft","ToggleRight","Tv","UserCheck","Utensils","CompanySidebar","isOpen","setIsOpen","location","useLocation","expandedMenu","setExpandedMenu","useState","menuItems","LayoutDashboard","CreditCard","Home","Headphones","Truck","MessageSquare","Shield","Share2","Settings","isActive","path","isSubmenuActive","submenu","item","jsxs","Fragment","jsx","Menu","Building2","idx","Icon","hasSubmenu","ChevronDown","Link","subitem","subidx","CompanyLayout","children","sidebarOpen","setSidebarOpen","showUserMenu","setShowUserMenu","isDarkMode","useThemeMode","navigate","useNavigate","user","handleLogout","handleChangePassword","handleAccount","User","Lock","LogOut","CompanyDashboard","timeRange","setTimeRange","data","setData","loading","setLoading","moderators","setModerators","API_URL","mockData","Building","Users","DollarSign","Zap","useEffect","fetchDashboardData","fetchModerators","token","response","axios","_a","_b","error","displayData","stats","revenue","companies","displayModerators","displayDrivers","displayBookings","colorMap","getStatusColor","status","e","Download","stat","ArrowUpRight","BarChart3","mod","CheckCircle","AlertCircle","driver","Activity","booking","company","PaymentManagement","searchTerm","setSearchTerm","filterStatus","setFilterStatus","payments","setPayments","setStats","showModal","setShowModal","step","setStep","formData","setFormData","fetchPayments","paymentsData","completed","p","pending","failed","totalRevenue","sum","pendingAmount","failedAmount","paymentStats","filteredPayments","payment","colors","formatAmount","amount","formatDate","date","handleCreatePayment","handleClose","Plus","Search","Eye","Edit","s","type","Calendar","Clock","FileText","Check","PaymentHistory","dateRange","setDateRange","page","setPage","totalPages","setTotalPages","limit","params","now","startDate","totalAmount","avgAmount","_c","getStatusIcon","ArrowDownLeft","_d","ChevronLeft","ChevronRight","GenerateInvoiceModal","onClose","onSubmit","generating","message","tenants","leases","tenant","lease","PaymentInvoices","invoices","setInvoices","showGenerateModal","setShowGenerateModal","setGenerating","setMessage","setLeases","setTenants","fetchInvoices","fetchLeases","invoiceData","paid","i","overdue","paidAmount","tenantResponse","tenantsList","allLeases","leaseResponse","err","handleGenerateInvoice","filteredInvoices","invoice","_e","_f","Printer","Mail","PaymentRefunds","refunds","setRefunds","fetchRefunds","refundData","r","totalRefunds","completedAmount","filteredRefunds","refund","Filter","PaymentSettings","saving","setSaving","handleInputChange","name","value","checked","prev","handleBankDetailsChange","handlePaymentMethodToggle","method","m","handleSave","Save","PropertyVerification","properties","setProperties","selectedProperty","setSelectedProperty","actionLoading","setActionLoading","fetchProperties","propertyData","verified","rejected","filteredProperties","property","handleApprove","propertyId","handleReject","MapPin","Properties","viewMode","setViewMode","sortBy","setSortBy","showAddModal","setShowAddModal","active","inactive","maintenance","totalUnits","occupiedUnits","totalValue","getSortedProperties","sorted","a","b","formatCurrency","sortedProperties","Grid3x3","List","AddPropertyModal","BnBProperties","filterType","setFilterType","images","setImages","mapPosition","setMapPosition","bnbProperties","avgRating","amenityIcons","Wifi","Wind","Star","amenity","img","_","f","ev","MapContainer","TileLayer","Marker","Popup","x","PendingProperties","rejectionReason","setRejectionReason","daysOld","created","getDaysWaitingColor","days","daysWaiting","PropertyDocuments","showUploadModal","setShowUploadModal","showPropertySelector","setShowPropertySelector","uploadLoading","setUploadLoading","uploadForm","setUploadForm","documentTypes","propertiesWithDocs","totalDocs","verifiedDocs","pendingDocs","handleUpload","formatFileSize","bytes","getDocumentIcon","doc","d","Upload","Trash2","prop","Button","variant","size","disabled","icon","iconPosition","fullWidth","className","onClick","props","baseClasses","variants","sizes","widthClass","buttonClasses","renderIcon","Loader2","iconSize","Modal","title","footer","closeOnOverlayClick","showCloseButton","handleEscape","Select","forwardRef","label","options","onChange","helperText","required","placeholder","searchable","multiple","containerClassName","labelClassName","ref","search","setSearch","selectId","filteredOptions","option","getSelectedLabel","selectedOptions","opt","selectedOption","handleSelect","optionValue","newValue","v","isSelected","CheckCircleIcon","titleId","svgRef","React.createElement","ForwardRef","React.forwardRef","CheckCircleIcon$1","ExclamationTriangleIcon","ExclamationTriangleIcon$1","InformationCircleIcon","InformationCircleIcon$1","XCircleIcon","XCircleIcon$1","XMarkIcon","XMarkIcon$1","Alert","actions","config","bgColor","borderColor","iconColor","titleColor","textColor","action","index","Loader","VERIFICATION_STATUS","VERIFICATION_TYPES","TenantVerification","useTheme","setError","success","setSuccess","selectedTenant","setSelectedTenant","showDetailModal","setShowDetailModal","showActionModal","setShowActionModal","actionType","setActionType","actionNotes","setActionNotes","bgClass","cardClass","textClass","textSecondaryClass","borderClass","fetchTenants","mockTenants","text","filtered","t","handleVerify","getStatusBadge","statusObj","LandlordVerification","landlords","setLandlords","setStatus","selectedLandlord","setSelectedLandlord","showDetail","setShowDetail","showAction","setShowAction","notes","setNotes","pagination","setPagination","fetchLandlords","mockLandlords","l","handleExport","blob","url","labels","color","bgColors","XCircle","landlord","ManagerVerification","managers","setManagers","selectedManager","setSelectedManager","fetchManagers","mockManagers","manager","PendingVerification","items","setItems","setType","selectedItem","setSelectedItem","fetchPendingItems","allItems","endpoint","getTypeColor","getTypeLabel","VerificationReports","fetchReportData","getVerificationRate","StatCard","TypeSection","TrendingUp","totalStats","SupportTickets","tickets","setTickets","priority","setPriority","selectedTicket","setSelectedTicket","showReply","setShowReply","replyText","setReplyText","fetchTickets","mockTickets","handleReply","handleUpdateStatus","newStatus","getPriorityColor","getStatusLabel","ticket","SupportChat","selectedConversation","setSelectedConversation","messageText","setMessageText","messages","setMessages","messagesEndRef","useRef","mockConversations","handleSelectConversation","conversation","handleSendMessage","newMessage","conv","Phone","Video","MoreVertical","msg","Paperclip","Smile","Send","MessageCircle","SupportKB","category","setCategory","selectedArticle","setSelectedArticle","showNewArticle","setShowNewArticle","newArticle","setNewArticle","mockArticles","categories","filteredArticles","article","handleNewArticle","cat","BookOpen","ArrowRight","SupportIssues","issues","setIssues","severity","setSeverity","selectedIssue","setSelectedIssue","fetchIssues","getSeverityColor","sev","issue","SupportReports","mockDrivers","Drivers","drivers","setDrivers","selectedDriver","setSelectedDriver","showAddForm","setShowAddForm","fetchDrivers","handleAddDriver","handleViewDriver","filteredDrivers","matchSearch","matchStatus","mockBookings","Bookings","bookings","setBookings","selectedBooking","setSelectedBooking","fetchBookings","handleViewBooking","bookingId","filteredBookings","mockTrips","Tracking","activeTrips","setActiveTrips","selectedTrip","setSelectedTrip","fetchActiveTrips","interval","getStatusBgColor","trip","mockVehicles","Fleet","vehicles","setVehicles","selectedVehicle","setSelectedVehicle","fetchVehicles","handleViewVehicle","vehicle","vehicleId","Wrench","AlertTriangle","filteredVehicles","Earnings","earnings","setEarnings","chartData","setChartData","period","setPeriod","sortOrder","setSortOrder","searchDriver","setSearchDriver","fetchEarnings","fetchStats","fetchChartData","filteredAndSortedEarnings","aVal","bVal","handleSort","field","maxEarnings","height","mockMessages","Messages","conversations","setConversations","showNewChat","setShowNewChat","newChatRecipient","setNewChatRecipient","newChatSubject","setNewChatSubject","fetchConversations","fetchMessages","messageId","handleNewChat","getInitials","n","formatTime","msgDate","diffMs","diffMins","diffHours","diffDays","isYourMessage","mockAnnouncements","Announcements","announcements","setAnnouncements","statusFilter","setStatusFilter","selectedAnnouncement","setSelectedAnnouncement","showViewModal","setShowViewModal","showFormModal","setShowFormModal","fetchAnnouncements","handleViewAnnouncement","announcement","handleEditAnnouncement","handleSaveAnnouncement","handleDeleteAnnouncement","announcementId","Megaphone","statusColor","Edit2","mockNotifications","Notifications","notifications","setNotifications","read","setRead","fetchNotifications","handleMarkAsRead","notificationId","handleMarkAllAsRead","handleDeleteNotification","getTypeIcon","Bell","Info","getTypeIconColor","notification","mockTemplates","Templates","templates","setTemplates","selectedTemplate","setSelectedTemplate","showForm","setShowForm","fetchTemplates","handleViewTemplate","template","handleSaveTemplate","handleDeleteTemplate","templateId","handleDuplicateTemplate","Copy","mockLogs","Logs","logs","setLogs","actionStats","setActionStats","setAction","fetchLogs","fetchActionStats","getActionColor","getActionIcon","maxCount","percentage","log","mockUsers","mockRoles","Permissions","activeTab","setActiveTab","roles","setRoles","users","setUsers","selectedRole","setSelectedRole","showRoleModal","setShowRoleModal","selectedUsers","setSelectedUsers","fetchData","handleSaveRole","handleDeleteRole","roleId","tab","role","id","mockAuditLogs","Audit","selectedLog","setSelectedLog","handleViewLog","Data","showBackupModal","setShowBackupModal","backupForm","setBackupForm","handleCreateBackup","Compliance","modalType","setModalType","handleSubmit","CompanySettings","companySettings","setCompanySettings","notificationSettings","setNotificationSettings","securitySettings","setSecuritySettings","widgets","setWidgets","integrations","setIntegrations","apiKeys","setApiKeys","webhooks","setWebhooks","showApiModal","setShowApiModal","showWebhookModal","setShowWebhookModal","apiKeyName","setApiKeyName","webhookUrl","setWebhookUrl","themeSettings","setThemeSettings","emailSettings","setEmailSettings","backupSettings","setBackupSettings","fetchAllData","res","statsRes","handleSaveCompanySettings","handleSaveNotifications","handleSaveSecurity","handleCreateApiKey","handleDeleteApiKey","keyId","handleCreateWebhook","handleDeleteWebhook","webhookId","key","webhook","event","SharingCollaboration","copied","setCopied","showShareModal","setShowShareModal","showInviteModal","setShowInviteModal","shareForm","setShareForm","inviteForm","setInviteForm","sharedItems","teamMembers","getPermissionColor","permission","copyToClipboard","handleShareSubmit","handleInviteSubmit","member","Globe","PayOthers","filterRole","setFilterRole","paymentMethods","frequencies","newPayment","matchesSearch","matchesRole","totalPending","totalCompleted","totalAutomatic","handleDelete","handleEdit","handleToggleAutomatic","freq","CompanyRoutes","Routes","Route","Navigate"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,29,30,31,32,33]}